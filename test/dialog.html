<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
<script src="assets/nav.js"></script>
<h2>Dialog</h2>


<script>
	class EmbeddedWebview extends HTMLElement {
		constructor(){
			super();
		}
		connectedCallback() {
			const shadow = this.attachShadow({ mode: 'closed' });
			shadow.innerHTML = this.getAttribute('html');
		}
	}

	window.customElements.define(
		'embedded-webview',
		EmbeddedWebview
	);
</script>

<div class="test-case">
	<h3>
		普通应用：
	</h3>

	<button id="normal-dialog">普通对话框</button>
	<button id="normal-nti-dialog">普通无标题对话框</button>
	<button id="alert-dialog">告警对话框</button>
	<button id="confirm-dialog">确认对话框</button>
	<button id="prompt-dialog">提示输入对话框</button>
	<h3>iframe</h3>

	<button id="iframe-dialog">Iframe</button>
	<button id="iframe-bti-dialog">无标题Iframe</button>

	<h3>模态</h3>
	<button id="modal1-dialog">modal1</button>
	<button id="modal2-dialog">modal2</button>

	<h3>异形</h3>
	<button id="cus-shape">异形透明对话框</button>

	<script type="module">
		import {Dialog} from "../src/index.js";

		document.getElementById('normal-dialog').addEventListener('click', () => {
			Dialog.show('这是一个普通对话框标题', '<div style="padding:25px; border:1px solid red;">普通对话框内容，不具备padding等格式，需要自己定义</div>');
		});
		document.getElementById('normal-nti-dialog').addEventListener('click', () => {
			Dialog.show('', '<div style="padding:25px; border:1px solid red;">这是一个无标题对话框标题对话框内容，不具备padding等格式，需要自己定义</div>');
		});

		document.getElementById('alert-dialog').addEventListener('click', () => {
			Dialog.alert('这是一个告警对话框标题', '您购买的商品已经发货，请查阅订单列表获取更多信息。');
		});
		document.getElementById('confirm-dialog').addEventListener('click', () => {
			Dialog.confirm('绑定微信', "绑定微信将使您的账号更加安全，是否绑定");
		});
		document.getElementById('prompt-dialog').addEventListener('click', () => {
			Dialog.prompt('请输入您的问题').then(txt=>{
				if(!txt){
					Dialog.alert('提示', '请输入问题');
					return false;
				}
				alert(txt);
			});
		});
		document.getElementById('iframe-dialog').addEventListener('click', () => {
			Dialog.iframe('dialog title', 'assets/dialog.htmlonly.html');
		});
		document.getElementById('iframe-bti-dialog').addEventListener('click', () => {
			Dialog.iframe(null, 'assets/dialog.iframe.html');
		});
		document.getElementById('modal1-dialog').addEventListener('click', () => {
			Dialog.alert('modal 1', 'dialog4 <b>content</b>', {modal: true});
		});
		document.getElementById('modal2-dialog').addEventListener('click', () => {
			Dialog.show('modal 2', 'dialog5 <b>content</b>', {modal: true});
		});

		document.getElementById('cus-shape').addEventListener('click', () => {
			Dialog.show('', '<img src="assets/png-transparent-2023-new-year-thumbnail.png" style="width:500px;">', {transparent:true});
		});
	</script>
</div>
</body>
</html>