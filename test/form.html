<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
<script src="assets/nav.js"></script>
<h2>未提交表单提示保存</h2>
<form action="" id="form">
	<fieldset>
		<legend>表单区块1</legend>
		<p><label> 表单名称： <input type="text" name="abc1" data-component="textcounter" data-textcounter-maxlength="10"></label></p>
		<p><label> 表单名称： <span><input type="number"></span></label></p>
		<p><label> 表单名称： <input type="text" name="abc3" data-component="textcounter" data-textcounter-maxlength="10"></label></p>
		<p><label> 表单名称： <input type="text" name="abc4" data-component="textcounter" data-textcounter-maxlength="10"></label></p>
		<p>
			<textarea name="" id="" cols="30" rows="10" data-component="textcounter" data-textcounter-maxlength="10">
				line1
				line2asdfasfas
				asdfasdf
			</textarea>
		</p>
	</fieldset>
	<p>
		<input type="submit" value="提交表单">
	</p>
</form>

<h2>对话框中的表单退出提示</h2>
<a href="/webcom/test/unsavealert_form.html" data-component="dialog">显示对话框表单</a>

<h2>异步组件+表单退出提示</h2>
<form action="http://localhost/webcom/test/assets/result.php" method="post" data-component="async,unsavealert">
	<label>
		name: <input type="text" name="name" value="初始名称">
	</label>
	<label>
		password: <input type="password" name="password" value="">
	</label>
	<a href="?reload">外部连接</a>
	<div>
		<input type="submit" value="submit">
	</div>
</form>

<h2>PHP变量方式提交数据（原始表单）</h2>
<form action="http://localhost/webcom/test/assets/result.php" method="post" data-component="async,unsavealert" data-async-requestformat="form">
	<div>
		<label>
			name: <input type="text" name="name" value="初始名称">
		</label>
	</div>
	<div>
		<label>
			password: <input type="password" name="password" value="">
		</label>
	</div>
	<div>
			<label><input type="checkbox" name="chk[]" value="1" checked> 多选</label>
			<label><input type="checkbox" name="chk[]" value="2" checked> 多选2</label>
			<label><input type="checkbox" name="chk[]" value="3"> 多选3</label>
	</div>
	
	<div>
		<input type="submit" value="submit">
	</div>
</form>

<script type="module">
	import {ACComponent, bindFormUnSavedUnloadAlert, initAutofillButton} from "../src/index.js";
	ACComponent.watch();
	bindFormUnSavedUnloadAlert(window.form);

	initAutofillButton();
</script>
</body>
</html>