{"version":3,"file":"webcom.es.js","sources":["../src/Lang/Array.js","../src/Lang/Math.js","../src/Lang/String.js","../src/Lang/Base64.js","../src/Lang/Cookie.js","../src/Lang/Html.js","../src/Lang/Util.js","../src/Lang/Dom.js","../src/Widget/Theme.js","../src/Lang/MIME.js","../src/Lang/File.js","../src/Lang/Net.js","../src/Lang/Form.js","../src/Lang/Event.js","../src/Lang/Img.js","../src/Lang/MD5.js","../src/Lang/ReportApi.js","../src/Lang/Route.js","../src/Lang/Time.js","../src/I18N/Lang.js","../src/Widget/Autofill.js","../src/Widget/Toast.js","../src/Widget/Dialog.js","../src/Widget/Copy.js","../src/Widget/FileDrop.js","../src/Widget/LocalStorageSetting.js","../src/Widget/ImgPreview.js","../src/Widget/Masker.js","../src/Widget/Menu.js","../src/Widget/Tip.js","../src/Widget/NoviceGuide.js","../src/Widget/Paginate.js","../src/Widget/ParallelPromise.js","../src/Widget/QuickJsonRequest.js","../src/Auto/ACSelectAll.js","../src/Widget/Select.js","../src/Widget/Sortable.js","../src/Widget/Tab.js","../src/Widget/Toc.js","../src/Widget/Uploader.js","../src/Auto/ACAsync.js","../src/Auto/ACBatchFiller.js","../src/Auto/ACColumnFiller.js","../src/Auto/ACConfirm.js","../src/Auto/ACCopy.js","../src/Auto/ACDialog.js","../src/Auto/ACHighlight.js","../src/Auto/ACInlineEditor.js","../src/Auto/ACMultiSelectRelate.js","../src/Auto/ACPreview.js","../src/Auto/ACSelect.js","../src/Auto/ACTextCounter.js","../src/Auto/ACTip.js","../src/Auto/ACToast.js","../src/Auto/ACUnSaveAlert.js","../src/Auto/ACUploader.js","../src/Auto/ACViewCopy.js","../src/Auto/ACDateRangeSelector.js","../src/Auto/ACHotKey.js","../src/Auto/ACInputEllipsis.js","../src/Auto/ACComponent.js"],"sourcesContent":["/**\r\n * array_column\r\n * @param arr\r\n * @param col_name\r\n * @returns {Array}\r\n */\r\nexport const arrayColumn = (arr, col_name) => {\r\n\tlet data = [];\r\n\tfor(let i in arr){\r\n\t\tdata.push(arr[i][col_name]);\r\n\t}\r\n\treturn data;\r\n};\r\n\r\n/**\r\n * @param arr\r\n * @param val\r\n * @return {string|null}\r\n */\r\nexport const arrayIndex = (arr, val) => {\r\n\tfor(let i in arr){\r\n\t\tif(arr[i] === val){\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\n/**\r\n * @param obj1\r\n * @param obj2\r\n * @return {false|this is string[]}\r\n */\r\nexport const isEquals = (obj1, obj2) => {\r\n\tlet keys1 = Object.keys(obj1);\r\n\tlet keys2 = Object.keys(obj2);\r\n\t//return true when the two json has same length and all the properties has same value key by key\r\n\treturn keys1.length === keys2.length && Object.keys(obj1).every(key => obj1[key] === obj2[key]);\r\n}\r\n\r\n/**\r\n * 数组去重\r\n * @param {Array} arr\r\n * @returns {*}\r\n */\r\nexport const arrayDistinct = (arr) => {\r\n\tlet tmpMap = new Map();\r\n\treturn arr.filter(item => {\r\n\t\tif(!tmpMap.has(item)){\r\n\t\t\ttmpMap.set(item, true);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * array group\r\n * @param arr\r\n * @param by_key\r\n * @param limit limit one child\r\n * @returns {*}\r\n */\r\nexport const arrayGroup = (arr, by_key, limit) => {\r\n\tif(!arr || !arr.length){\r\n\t\treturn arr;\r\n\t}\r\n\tlet tmp_rst = {};\r\n\tarr.forEach(item => {\r\n\t\tlet k = item[by_key];\r\n\t\tif(!tmp_rst[k]){\r\n\t\t\ttmp_rst[k] = [];\r\n\t\t}\r\n\t\ttmp_rst[k].push(item);\r\n\t});\r\n\tif(!limit){\r\n\t\treturn tmp_rst;\r\n\t}\r\n\tlet rst = [];\r\n\tfor(let i in tmp_rst){\r\n\t\trst[i] = tmp_rst[i][0];\r\n\t}\r\n\treturn rst;\r\n};\r\n\r\n/**\r\n * 按照对象 KEY 排序\r\n * @param {Object} obj\r\n * @return {{}}\r\n */\r\nexport const sortByKey = (obj) => {\r\n\treturn Object.keys(obj).sort().reduce(function(result, key){\r\n\t\tresult[key] = obj[key];\r\n\t\treturn result;\r\n\t}, {});\r\n}\r\n\r\n/**\r\n * 数组分块\r\n * @param {Array} list 数据\r\n * @param {Number} size 每块大小\r\n * @return {Array[]}\r\n */\r\nexport const chunk = (list, size) => {\r\n\tlet len = list.length;\r\n\tif(size < 1 || !len){\r\n\t\treturn [];\r\n\t}\r\n\tif(size > len){\r\n\t\treturn [list];\r\n\t}\r\n\tlet res = [];\r\n\tlet integer = Math.floor(len / size);\r\n\tlet rest = len % size;\r\n\tfor(let i = 1; i <= integer; i++){\r\n\t\tres.push(list.splice(0, size));\r\n\t}\r\n\tif(rest){\r\n\t\tres.push(list.splice(0, rest));\r\n\t}\r\n\treturn res;\r\n}\r\n\r\n/**\r\n * @param path\r\n * @param value\r\n * @param srcObj\r\n * @param glue\r\n * @return {*}\r\n */\r\nexport const objectPushByPath = (path, value, srcObj = {}, glue = '.') => {\r\n\tlet segments = path.split(glue),\r\n\t\tcursor = srcObj,\r\n\t\tsegment,\r\n\t\ti;\r\n\r\n\tfor(i = 0; i < segments.length - 1; ++i){\r\n\t\tsegment = segments[i];\r\n\t\tcursor = cursor[segment] = cursor[segment] || {};\r\n\t}\r\n\r\n\treturn cursor[segments[i]] = value;\r\n}\r\n\r\n/**\r\n * 对象属性名转换\r\n * @param {Object} obj\r\n * @param {Object} mapping\r\n * @return {{}}\r\n */\r\nexport const objectKeyMapping = (obj, mapping)=>{\r\n\tlet ret = {};\r\n\tfor(let key in obj){\r\n\t\tif(mapping[key] !== undefined){\r\n\t\t\tret[mapping[key]] = obj[key];\r\n\t\t} else {\r\n\t\t\tret[key] = obj[key];\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\n/**\r\n * @param {Object} obj\r\n * @param {String} path\r\n * @param {String} glue\r\n * @returns {*}\r\n */\r\nexport const objectGetByPath = (obj, path, glue = '.') => {\r\n\tlet ps = path.split(glue);\r\n\tfor(let i = 0, len = ps.length; i < len; i++){\r\n\t\tif(obj[ps[i]] === undefined){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tobj = obj[ps[i]];\r\n\t}\r\n\treturn obj;\r\n}\r\n\r\n/**\r\n * 过滤子节点，以目录树方式返回\r\n * @param parent_id\r\n * @param all_list\r\n * @param option\r\n * @param level\r\n * @param group_by_parents\r\n * @return {*[]}\r\n */\r\nexport const arrayFilterTree = (parent_id, all_list, option = {}, level = 0, group_by_parents = []) => {\r\n\toption = Object.assign({\r\n\t\treturn_as_tree: false,             //以目录树返回，还是以平铺数组形式返回\r\n\t\tlevel_key: 'tree_level',      //返回数据中是否追加等级信息,如果选项为空, 则不追加等级信息\r\n\t\tid_key: 'id',              //主键键名\r\n\t\tparent_id_key: 'parent_id',       //父级键名\r\n\t\tchildren_key: 'children'         //返回子集key(如果是平铺方式返回,该选项无效\r\n\t}, option);\r\n\r\n\tlet pn_k = option.parent_id_key;\r\n\tlet lv_k = option.level_key;\r\n\tlet id_k = option.id_key;\r\n\tlet as_tree = option.return_as_tree;\r\n\tlet c_k = option.children_key;\r\n\r\n\tlet result = [];\r\n\tgroup_by_parents = group_by_parents.length ?  group_by_parents : arrayGroup(all_list, pn_k);\r\n\r\n\tall_list.forEach(item=>{\r\n\t\tif(item[pn_k] === parent_id){\r\n\t\t\titem[lv_k] = level;  //set level\r\n\t\t\tif(!option.return_as_tree){\r\n\t\t\t\tresult.push(item);\r\n\t\t\t}\r\n\t\t\tif(item[id_k] !== undefined && group_by_parents[item[id_k]] !== undefined && group_by_parents[item[id_k]]){\r\n\t\t\t\tlet subTrees = arrayFilterTree(item[id_k], all_list, option, level + 1, group_by_parents);\r\n\t\t\t\tif(subTrees){\r\n\t\t\t\t\tif(as_tree){\r\n\t\t\t\t\t\titem[c_k] = subTrees;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tresult = result.concat(...subTrees);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(as_tree){\r\n\t\t\t\tresult.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\treturn result;\r\n}","/** 黄金分割比 0.618 **/\r\nexport const GOLDEN_RATIO = (1 + Math.sqrt(5)) / 2 - 1;\r\n\r\n/**\r\n * 检测指定值是否在指定区间内\r\n * @param {Number} val\r\n * @param {Number} min\r\n * @param {Number} max\r\n * @param {Boolean} includeEqual 是否包含等于判断\r\n * @returns {boolean}\r\n */\r\nexport const between = (val, min, max, includeEqual = true) => {\r\n\treturn includeEqual ? (val >= min && val <= max) : (val > min && val < max);\r\n};\r\n\r\n/**\r\n * 随机整数\r\n * @param {Number} min\r\n * @param {Number} max\r\n * @return {Number}\r\n */\r\nexport const randomInt = (min, max) => {\r\n\treturn Math.floor(Math.random() * (max + 1 - min)) + min;\r\n};\r\n\r\n/**\r\n * 取整\r\n * @param {Number} num\r\n * @param {Number} precision 精度，默认为两位小数\r\n * @returns {number}\r\n */\r\nexport const round = (num, precision = 2) => {\r\n\tlet multiple = Math.pow(10, precision);\r\n\treturn Math.round(num * multiple) / multiple;\r\n}","import {randomInt, round} from \"./Math.js\";\r\n\r\n/**\r\n * 混合ES6模板字符串\r\n * @example extract(\"hello ${user_name}\", {user_name:\"Jack\"});\r\n * @param {String} es_template 模板\r\n * @param {Object} params 数据对象\r\n * @return {String}\r\n */\r\nexport const extract = (es_template, params) => {\r\n\tconst names = Object.keys(params);\r\n\tconst values = Object.values(params);\r\n\treturn new Function(...names, `return \\`${es_template}\\`;`)(...values);\r\n}\r\n\r\n/**\r\n * 转换字符串到HTML实体编码\r\n * @param {String} str\r\n * @return {String}\r\n */\r\nexport const toHtmlEntities = (str)=>{\r\n\treturn str.replace(/./gm, function(s) {\r\n\t\treturn (s.match(/[a-z0-9\\s]+/i)) ? s : '&#' + s.charCodeAt(0) + ';';\r\n\t});\r\n}\r\n\r\n/**\r\n * 字符切割，同时去除空白符号、换行符等\r\n * @param {String} separator\r\n * @param {String} str\r\n * @return {String[]}\r\n */\r\nexport const explodeBy = (separator, str) => {\r\n\tlet items = str.replace(/\\r|\\n/mg, '').split(separator);\r\n\titems = items.map(item => {\r\n\t\treturn item.trim();\r\n\t});\r\n\titems = items.filter(item => {\r\n\t\treturn item.length;\r\n\t})\r\n\treturn items;\r\n}\r\n\r\n/**\r\n * HTML实体转换为字符串\r\n * @param {String} str\r\n * @return {string}\r\n */\r\nexport const fromHtmlEntities = (str)=>{\r\n\treturn (str + '').replace(/&#\\d+;/gm, function(s) {\r\n\t\treturn String.fromCharCode(s.match(/\\d+/gm)[0]);\r\n\t})\r\n}\r\n\r\n/**\r\n * 反转义字符串\r\n * @param str\r\n * @returns {string}\r\n * @description:\r\n *       discuss at: https://locutus.io/php/stripslashes/\r\n *      original by: Kevin van Zonneveld (https://kvz.io)\r\n *      improved by: Ates Goral (https://magnetiq.com)\r\n *      improved by: marrtins\r\n *      improved by: rezna\r\n *         fixed by: Mick@el\r\n *      bugfixed by: Onno Marsman (https://twitter.com/onnomarsman)\r\n *      bugfixed by: Brett Zamir (https://brett-zamir.me)\r\n *         input by: Rick Waldron\r\n *         input by: Brant Messenger (https://www.brantmessenger.com/)\r\n * reimplemented by: Brett Zamir (https://brett-zamir.me)\r\n *        example 1: stripslashes('Kevin\\'s code')\r\n *        returns 1: \"Kevin's code\"\r\n *        example 2: stripslashes('Kevin\\\\\\'s code')\r\n *        returns 2: \"Kevin\\'s code\"\r\n */\r\nexport const stripSlashes = (str) => {\r\n\treturn (str + '')\r\n\t\t.replace(/\\\\(.?)/g, function(s, n1){\r\n\t\t\tswitch(n1){\r\n\t\t\t\tcase '\\\\':\r\n\t\t\t\t\treturn '\\\\'\r\n\t\t\t\tcase '0':\r\n\t\t\t\t\treturn '\\u0000'\r\n\t\t\t\tcase '':\r\n\t\t\t\t\treturn ''\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn n1\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\n/**\r\n * 格式化数字\r\n * @param {Number} num\r\n * @param {Number} precision\r\n * @return {string|Number}\r\n */\r\nexport const formatSize = (num, precision = 2) => {\r\n\tif(isNaN(num)){\r\n\t\treturn num;\r\n\t}\r\n\tlet str = '', i, mod = 1024;\r\n\tif(num < 0){\r\n\t\tstr = '-';\r\n\t\tnum = Math.abs(num);\r\n\t}\r\n\tlet units = 'B KB MB GB TB PB'.split(' ');\r\n\tfor(i = 0; num > mod; i++){\r\n\t\tnum /= mod;\r\n\t}\r\n\treturn str + round(num, precision) + units[i];\r\n}\r\n\r\n/**\r\n * 中英文字符串截取（中文按照2个字符长度计算）\r\n * @param str\r\n * @param len\r\n * @param eclipse_text\r\n * @returns {*}\r\n */\r\nexport const cutString = (str, len, eclipse_text) => {\r\n\tif(eclipse_text === undefined){\r\n\t\teclipse_text = '...';\r\n\t}\r\n\tlet r = /[^\\x00-\\xff]/g;\r\n\tif(str.replace(r, \"mm\").length <= len){\r\n\t\treturn str;\r\n\t}\r\n\tlet m = Math.floor(len / 2);\r\n\tfor(let i = m; i < str.length; i++){\r\n\t\tif(str.substr(0, i).replace(r, \"mm\").length >= len){\r\n\t\t\treturn str.substr(0, i) + eclipse_text;\r\n\t\t}\r\n\t}\r\n\treturn str;\r\n};\r\n\r\n/**\r\n * 正则表达式转义\r\n * @param str\r\n * @returns {string}\r\n */\r\nexport const regQuote = (str) => {\r\n\treturn (str + '').replace(/([\\\\\\.\\+\\*\\?\\[\\^\\]\\$\\(\\)\\{\\}\\=\\!\\<\\>\\|\\:])/g, \"\\\\$1\");\r\n};\r\n\r\n/**\r\n * @param {String} srcStr\r\n * @return {string}\r\n */\r\nexport const utf8Decode = (srcStr) => {\r\n\tlet t = \"\";\r\n\tlet n = 0;\r\n\tlet r = 0,\r\n\t\tc1 = 0,\r\n\t\tc2 = 0,\r\n\t\tc3 = 0;\r\n\twhile(n < srcStr.length){\r\n\t\tr = srcStr.charCodeAt(n);\r\n\t\tif(r < 128){\r\n\t\t\tt += String.fromCharCode(r);\r\n\t\t\tn++\r\n\t\t}else if(r > 191 && r < 224){\r\n\t\t\tc2 = srcStr.charCodeAt(n + 1);\r\n\t\t\tt += String.fromCharCode((r & 31) << 6 | c2 & 63);\r\n\t\t\tn += 2\r\n\t\t}else{\r\n\t\t\tc2 = srcStr.charCodeAt(n + 1);\r\n\t\t\tc3 = srcStr.charCodeAt(n + 2);\r\n\t\t\tt += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);\r\n\t\t\tn += 3\r\n\t\t}\r\n\t}\r\n\treturn t\r\n};\r\n\r\n/**\r\n * 检测字符串是否为合法URL\r\n * @param {String} urlString\r\n * @returns {boolean}\r\n */\r\nexport const isValidUrl = urlString => {\r\n\ttry{\r\n\t\treturn Boolean(new URL(urlString));\r\n\t}catch(e){\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n/**\r\n * 判断字符串是否符合 JSON 标准\r\n * @param {String} json\r\n * @returns {boolean}\r\n */\r\nexport const isJSON = (json) => {\r\n\tlet is_json = false;\r\n\ttry{\r\n\t\tJSON.parse(json);\r\n\t\tis_json = true;\r\n\t}catch(error){\r\n\t}\r\n\treturn is_json;\r\n}\r\n\r\n/**\r\n * @param {String} srcStr\r\n * @returns {string}\r\n */\r\nexport const utf8Encode = (srcStr) => {\r\n\tsrcStr = srcStr.replace(/\\r\\n/g, \"n\");\r\n\tlet t = \"\";\r\n\tfor(let n = 0; n < srcStr.length; n++){\r\n\t\tlet r = srcStr.charCodeAt(n);\r\n\t\tif(r < 128){\r\n\t\t\tt += String.fromCharCode(r)\r\n\t\t}else if(r > 127 && r < 2048){\r\n\t\t\tt += String.fromCharCode(r >> 6 | 192);\r\n\t\t\tt += String.fromCharCode(r & 63 | 128)\r\n\t\t}else{\r\n\t\t\tt += String.fromCharCode(r >> 12 | 224);\r\n\t\t\tt += String.fromCharCode(r >> 6 & 63 | 128);\r\n\t\t\tt += String.fromCharCode(r & 63 | 128)\r\n\t\t}\r\n\t}\r\n\treturn t;\r\n};\r\n\r\n/**\r\n * 获取u8字符串长度(一个中文字按照3个字数计算)\r\n * @param str\r\n * @returns {number}\r\n */\r\nexport const getUTF8StrLen = (str) => {\r\n\tlet realLength = 0;\r\n\tlet len = str.length;\r\n\tlet charCode = -1;\r\n\tfor(let i = 0; i < len; i++){\r\n\t\tcharCode = str.charCodeAt(i);\r\n\t\tif(charCode >= 0 && charCode <= 128){\r\n\t\t\trealLength += 1;\r\n\t\t}else{\r\n\t\t\trealLength += 3;\r\n\t\t}\r\n\t}\r\n\treturn realLength;\r\n};\r\n\r\nconst DEFAULT_RANDOM_STRING = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890';\r\n\r\n/**\r\n * 产生随机字符串\r\n * @param {Number} length\r\n * @param {String} sourceStr\r\n * @returns {String}\r\n */\r\nexport const randomString = (length = 6, sourceStr = DEFAULT_RANDOM_STRING) => {\r\n\tlet codes = '';\r\n\tfor(let i = 0; i < length; i++){\r\n\t\tlet rnd = Math.round(Math.random() * (sourceStr.length - 1));\r\n\t\tcodes += sourceStr.substring(rnd, rnd + 1);\r\n\t}\r\n\treturn codes;\r\n}\r\n\r\n/**\r\n * 产生随机单词\r\n * @param {Number} count 单词数量\r\n * @param {Number} letterMax 每个单词最大字符数量\r\n * @return {String[]} 单词列表\r\n */\r\nexport const randomWords = (count = 1, letterMax = 8) => {\r\n\tlet words = [];\r\n\tconst possible = 'bcdfghjklmnpqrstvwxyz';\r\n\tconst possibleVowels = 'aeiou';\r\n\r\n\twhile(count-- > 0){\r\n\t\tlet word = '';\r\n\t\tfor(let i = 0; i < letterMax; i = i + 3){\r\n\t\t\tword += possible[Math.floor(Math.random() * possible.length)]\r\n\t\t\tword += possibleVowels[Math.floor(Math.random() * possibleVowels.length)]\r\n\t\t\tword += possible[Math.floor(Math.random() * possible.length)]\r\n\t\t}\r\n\t\twords.push(word);\r\n\t}\r\n\treturn words;\r\n}\r\n\r\n/**\r\n * 随机文本\r\n * @param {Number} maxLength 最大字符数量\r\n * @param {Boolean} multipleLine 是否多行文本（包含换行符）\r\n * @return {string}\r\n */\r\nexport const randomSentence = (maxLength = 0, multipleLine = false) => {\r\n\tlet wordCount = Math.ceil(maxLength / 4);\r\n\tlet words = randomWords(wordCount);\r\n\tif(multipleLine){\r\n\t\tlet sep = '';\r\n\t\tlet text = '';\r\n\t\twords.forEach(word => {\r\n\t\t\ttext = text + sep + word;\r\n\t\t\tsep = randomInt(0, 1) > 0 ? ' ' : \"\\n\";\r\n\t\t});\r\n\t\treturn text.trim();\r\n\t}else{\r\n\t\treturn words.join(' ').substring(0, maxLength).trim();\r\n\t}\r\n}\r\n\r\n/**\r\n * 字符串转成首字母大写\r\n * @param {String} str\r\n * @param {Boolean} capitalize_first 是否将第一个单词首字母大写\r\n * @return {string}\r\n */\r\nexport const strToPascalCase = (str, capitalize_first = false) => {\r\n\tlet words = [];\r\n\tstr.replace(/[-_\\s+]/g, ' ').split(' ').forEach((word, idx) => {\r\n\t\twords.push((idx === 0 && !capitalize_first) ? word : capitalize(word));\r\n\t});\r\n\treturn words.join('');\r\n}\r\n\r\n/**\r\n * 字符串首字母大写，其他的保持不变\r\n * @param {String} str\r\n * @return {string}\r\n */\r\nexport const capitalize = (str) => {\r\n\tif(typeof str !== 'string'){\r\n\t\treturn ''\r\n\t}\r\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n/**\r\n * 检测是否为数值\r\n * @param val\r\n * @return {boolean}\r\n */\r\nexport const isNum = (val) => {\r\n\treturn !isNaN(val);\r\n}\r\n\r\nexport const TRIM_BOTH = 0;\r\nexport const TRIM_LEFT = 1;\r\nexport const TRIM_RIGHT = 2;\r\n\r\n/**\r\n * 去除字符串首尾指定字符或空白\r\n * @param {String} str 源字符串\r\n * @param {String} chars 指定字符，默认为空白\r\n * @param {Number} dir 方向\r\n * @returns {*|boolean}\r\n */\r\nexport const trim = (str, chars = '', dir = TRIM_BOTH) => {\r\n\tif(chars.length){\r\n\t\tlet regLeft = new RegExp('^[' + regQuote(chars) + ']+'),\r\n\t\t\tregRight = new RegExp('[' + regQuote(chars) + ']+$');\r\n\t\treturn dir === TRIM_LEFT ? str.replace(regLeft, '') : (dir === TRIM_RIGHT ? str.replace(regRight, '') : str.replace(regLeft, '').replace(regRight, ''));\r\n\t}else{\r\n\t\treturn dir === TRIM_BOTH ? str.trim() : (dir === TRIM_LEFT ? str.trimStart() : dir === str.trimEnd());\r\n\t}\r\n}\r\n\r\n/**\r\n * 清理版本，去除无用字符\r\n * @param {String} version\r\n * @return {Number[]}\r\n */\r\nconst cleanupVersion = (version) => {\r\n\tlet trimmed = version ? version.replace(/^\\s*(\\S*(\\s+\\S+)*)\\s*$/, \"$1\") : '',\r\n\t\tpieces = trimmed.split('.'),\r\n\t\tpartsLength,\r\n\t\tparts = [],\r\n\t\tvalue,\r\n\t\tpiece,\r\n\t\tnum,\r\n\t\ti;\r\n\tfor(i = 0; i < pieces.length; i += 1){\r\n\t\tpiece = pieces[i].replace(/\\D/g, '');\r\n\t\tnum = parseInt(piece, 10);\r\n\t\tif(isNaN(num)){\r\n\t\t\tnum = 0;\r\n\t\t}\r\n\t\tparts.push(num);\r\n\t}\r\n\tpartsLength = parts.length;\r\n\tfor(i = partsLength - 1; i >= 0; i -= 1){\r\n\t\tvalue = parts[i];\r\n\t\tif(value === 0){\r\n\t\t\tparts.length -= 1;\r\n\t\t}else{\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn parts;\r\n};\r\n\r\n/**\r\n * 版本比较\r\n * @param {String} version1\r\n * @param {String} version2\r\n * @param {Number} index\r\n * @return {number|number}\r\n */\r\nexport const versionCompare = (version1, version2, index) => {\r\n\tlet stringLength = index + 1,\r\n\t\tv1 = cleanupVersion(version1),\r\n\t\tv2 = cleanupVersion(version2);\r\n\tif(v1.length > stringLength){\r\n\t\tv1.length = stringLength;\r\n\t}\r\n\tif(v2.length > stringLength){\r\n\t\tv2.length = stringLength;\r\n\t}\r\n\tlet size = Math.min(v1.length, v2.length), i;\r\n\tfor(i = 0; i < size; i += 1){\r\n\t\tif(v1[i] !== v2[i]){\r\n\t\t\treturn v1[i] < v2[i] ? -1 : 1;\r\n\t\t}\r\n\t}\r\n\tif(v1.length === v2.length){\r\n\t\treturn 0;\r\n\t}\r\n\treturn (v1.length < v2.length) ? -1 : 1;\r\n}","import {utf8Decode, utf8Encode} from \"./String.js\";\r\n\r\nconst BASE64_KEY_STR = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\r\n/**\r\n * base64 解码\r\n * @param {*} text\r\n * @returns\r\n */\r\nexport const base64Decode = (text) => {\r\n\tlet t = \"\";\r\n\tlet n, r, i;\r\n\tlet s, o, u, a;\r\n\tlet f = 0;\r\n\ttext = text.replace(/\\+\\+[++^A-Za-z0-9+/=]/g, \"\");\r\n\twhile(f < text.length){\r\n\t\ts = BASE64_KEY_STR.indexOf(text.charAt(f++));\r\n\t\to = BASE64_KEY_STR.indexOf(text.charAt(f++));\r\n\t\tu = BASE64_KEY_STR.indexOf(text.charAt(f++));\r\n\t\ta = BASE64_KEY_STR.indexOf(text.charAt(f++));\r\n\t\tn = s << 2 | o >> 4;\r\n\t\tr = (o & 15) << 4 | u >> 2;\r\n\t\ti = (u & 3) << 6 | a;\r\n\t\tt = t + String.fromCharCode(n);\r\n\t\tif(u !== 64){\r\n\t\t\tt = t + String.fromCharCode(r)\r\n\t\t}\r\n\t\tif(a !== 64){\r\n\t\t\tt = t + String.fromCharCode(i)\r\n\t\t}\r\n\t}\r\n\tt = utf8Decode(t);\r\n\treturn t\r\n};\r\n\r\n/**\r\n * URL 安全模式进行 base64 编码\r\n * @param {String} text\r\n * @return {string}\r\n */\r\nexport const base64UrlSafeEncode = (text) => {\r\n\treturn utf8Encode(text)\r\n\t\t.replace('+', '-')\r\n\t\t.replace('/', '_');\r\n};\r\n\r\n/**\r\n * text 转 base64\r\n * @param {String} text\r\n * @return {string}\r\n * @constructor\r\n */\r\nexport const Base64Encode = (text) => {\r\n\tlet t = \"\";\r\n\tlet n, r, i, s, o, u, a;\r\n\tlet f = 0;\r\n\ttext = utf8Encode(text);\r\n\twhile(f < text.length){\r\n\t\tn = text.charCodeAt(f++);\r\n\t\tr = text.charCodeAt(f++);\r\n\t\ti = text.charCodeAt(f++);\r\n\t\ts = n >> 2;\r\n\t\to = (n & 3) << 4 | r >> 4;\r\n\t\tu = (r & 15) << 2 | i >> 6;\r\n\t\ta = i & 63;\r\n\t\tif(isNaN(r)){\r\n\t\t\tu = a = 64\r\n\t\t}else if(isNaN(i)){\r\n\t\t\ta = 64\r\n\t\t}\r\n\t\tt = t + BASE64_KEY_STR.charAt(s) + BASE64_KEY_STR.charAt(o) + BASE64_KEY_STR.charAt(u) + BASE64_KEY_STR.charAt(a)\r\n\t}\r\n\treturn t\r\n};\r\n\r\n/**\r\n * 转换blob数据到base64\r\n * @param {Blob} blob\r\n * @returns {Promise<unknown>}\r\n */\r\nexport const convertBlobToBase64 = async (blob) => {\r\n\treturn await blobToBase64(blob);\r\n}\r\n\r\n/**\r\n * 转换blob数据到Base64\r\n * @param {Blob} blob\r\n * @returns {Promise<unknown>}\r\n */\r\nconst blobToBase64 = blob => new Promise((resolve, reject) => {\r\n\tconst reader = new FileReader();\r\n\treader.readAsDataURL(blob);\r\n\treader.onload = () => resolve(reader.result);\r\n\treader.onerror = error => reject(error);\r\n});\r\n","\r\n/**\r\n * 设置cookie\r\n * @param {String} name\r\n * @param {String} value\r\n * @param {Number} days\r\n * @param {String} path\r\n */\r\nexport const setCookie = (name, value, days, path = '/') => {\r\n\tlet expires = \"\";\r\n\tif(days){\r\n\t\tlet date = new Date();\r\n\t\tdate.setTime(Date.now() + (days * 24 * 60 * 60 * 1000));\r\n\t\texpires = \"; expires=\" + date.toUTCString();\r\n\t}\r\n\tdocument.cookie = name + \"=\" + (value || \"\") + expires + \"; path=\" + path;\r\n}\r\n\r\n/**\r\n * 获取cookie\r\n * @param {String} name\r\n * @returns {string|null}\r\n */\r\nexport const getCookie = (name) => {\r\n\tlet nameEQ = name + \"=\";\r\n\tlet ca = document.cookie.split(';');\r\n\tfor(let i = 0; i < ca.length; i++){\r\n\t\tlet c = ca[i];\r\n\t\twhile(c.charAt(0) === ' ') c = c.substring(1, c.length);\r\n\t\tif(c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/**\r\n * 删除cookie\r\n * @param name\r\n */\r\nexport const deleteCookie = (name) => {\r\n\tdocument.cookie = name + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n}","import {isNum, regQuote} from \"./String.js\";\r\n\r\n/**\r\n * 块元素\r\n * 用大写定义，方便直接匹配 node.tagName\r\n * @type {string[]}\r\n */\r\nexport const BLOCK_TAGS = ['ADDRESS', 'ARTICLE', 'ASIDE', 'BLOCKQUOTE', 'CANVAS', 'DD', 'DIV', 'DL', 'DT', 'FIELDSET', 'FIGCAPTION', 'FIGURE', 'FOOTER', 'FORM', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'HEADER', 'HR', 'LI', 'MAIN', 'NAV', 'NOSCRIPT', 'OL', 'P', 'PRE', 'SECTION', 'TABLE', 'TFOOT', 'UL', 'VIDEO'];\r\n\r\n/**\r\n * 非自关闭标签\r\n * https://www.w3schools.com/html/html_blocks.asp\r\n * @type {*[]}\r\n */\r\nexport const PAIR_TAGS = [\r\n\t'A', 'ABBR', 'ACRONYM', 'B', 'BDO', 'BIG', 'BUTTON', 'CITE', 'CODE', 'DFN', 'EM', 'I', 'KBD', 'LABEL', 'MAP', 'OBJECT', 'OUTPUT', 'Q', 'S', 'SAMP', 'SCRIPT', 'SELECT', 'SMALL', 'SPAN', 'STRONG', 'SUB', 'SUP', 'TEXTAREA', 'TIME', 'TT', 'U', 'VAR',\r\n].concat(...BLOCK_TAGS);\r\n\r\n/**\r\n * 自关闭标签\r\n * @type {string[]}\r\n */\r\nexport const SELF_CLOSING_TAGS = ['AREA', 'BASE', 'BR', 'COL', 'EMBED', 'HR', 'IMG', 'INPUT', 'LINK', 'META', 'PARAM', 'SOURCE', 'TRACK', 'WBR'];\r\n\r\n/**\r\n * 非内容可清理标签\r\n * @type {string[]}\r\n */\r\nexport const REMOVABLE_TAGS = [\r\n\t'STYLE', 'COMMENT', 'SELECT', 'OPTION', 'SCRIPT', 'TITLE', 'HEAD', 'BUTTON', 'META', 'LINK', 'PARAM', 'SOURCE'\r\n];\r\n\r\n/**\r\n * Convert html to plain text\r\n * @param {String} html\r\n * @returns {string}\r\n */\r\nexport const html2Text = (html)=>{\r\n\t//remove removable tags\r\n\tREMOVABLE_TAGS.forEach(tag=>{\r\n\t\thtml = html.replace(new RegExp(tag, 'ig'), '');\r\n\t})\r\n\r\n\t//remove text line break\r\n\thtml = html.replace(/[\\r|\\n]/g, '');\r\n\r\n\t//convert block tags to line break\r\n\thtml = html.replace(/<(\\w+)([^>]*)>/g, function(ms, tag, tail){\r\n\t\tif(BLOCK_TAGS.includes(tag.toUpperCase())){\r\n\t\t\treturn \"\\n\";\r\n\t\t}\r\n\t\treturn \"\";\r\n\t});\r\n\r\n\t//remove tag's postfix\r\n\thtml = html.replace(/<\\/(\\w+)([^>]*)>/g, function(ms, tag, tail){\r\n\t\treturn \"\";\r\n\t});\r\n\r\n\t//remove other tags, likes <img>, input, etc...\r\n\thtml = html.replace(/<[^>]+>/g, '');\r\n\r\n\t//convert entity by names\r\n\tlet entityNamesMap = [\r\n\t\t[/&nbsp;/ig, ' '],\r\n\t\t[/&lt;/ig, '<'],\r\n\t\t[/&gt;/ig, '>'],\r\n\t\t[/&quot;/ig, '\"'],\r\n\t\t[/&apos;/ig, '\\''],\r\n\t];\r\n\tentityNamesMap.forEach(([matchReg, replacement])=>{\r\n\t\thtml = html.replace(matchReg, replacement);\r\n\t});\r\n\r\n\t//convert entity dec code\r\n\thtml = html.replace(/&#(\\d+);/, function(ms, dec){\r\n\t\treturn String.fromCharCode(dec);\r\n\t});\r\n\r\n\t//replace last &amp;\r\n\thtml = html.replace(/&amp;/ig, '&');\r\n\r\n\t//trim head & tail space\r\n\thtml = html.trim();\r\n\r\n\treturn html;\r\n}\r\n\r\n/**\r\n * 数值转为CSS可用样式\r\n * @param {Number|String} h\r\n * @returns {string}\r\n */\r\nexport const dimension2Style = h => {\r\n\tif(isNum(h)){\r\n\t\treturn h + 'px';\r\n\t}\r\n\treturn h+'';\r\n};\r\n\r\n/**\r\n * CSS 选择器转义\r\n * @param {String} str\r\n * @returns {String}\r\n */\r\nexport const cssSelectorEscape = (str)=>{\r\n\treturn (window.CSS && CSS.escape) ? CSS.escape(str) : str.replace(/[!\"#$%&'()*+,.\\/:;<=>?@[\\\\\\]^`{|}~]/g, \"\\\\$&\");\r\n};\r\n\r\n/**\r\n * HTML实例转字符串\r\n * @param {string} entity\r\n * @returns {string}\r\n */\r\nexport const entityToString = (entity) => {\r\n\tlet entities = entity.split(';')\r\n\tentities.pop()\r\n\treturn entities.map(item => String.fromCharCode(\r\n\t\titem[2] === 'x' ? parseInt(item.slice(3), 16) : parseInt(item.slice(2)))).join('')\r\n}\r\n\r\nlet _helper_div;\r\nexport const decodeHTMLEntities = (str) => {\r\n\tif(!_helper_div){\r\n\t\t_helper_div = document.createElement('div');\r\n\t}\r\n\t// strip script/html tags\r\n\tstr = str.replace(/<script[^>]*>([\\S\\s]*?)<\\/script>/gmi, '');\r\n\tstr = str.replace(/<\\/?\\w(?:[^\"'>]|\"[^\"]*\"|'[^']*')*>/gmi, '');\r\n\t_helper_div.innerHTML = str;\r\n\tstr = _helper_div.textContent;\r\n\t_helper_div.textContent = '';\r\n\treturn str;\r\n}\r\n\r\n/**\r\n * 构建 HTML Input:hidden 标签\r\n * @param {Object} maps {key:value}\r\n * @return {string}\r\n */\r\nexport const buildHtmlHidden = (maps) => {\r\n\tlet html = '';\r\n\tfor(let key in maps){\r\n\t\tlet val = maps[key] === null ? '' : maps[key];\r\n\t\thtml += `<input type=\"hidden\" name=\"${escapeAttr(key)}\" value=\"${escapeAttr(val)}\"/>`;\r\n\t}\r\n\treturn html;\r\n}\r\n\r\n/**\r\n * 转义HTML\r\n * @param {string} str\r\n * @param {Number} tabSize tab宽度，如果设置为0，表示去除tab\r\n * @param {Boolean} allowLineBreaker 是否允许换行\r\n * @returns {string}\r\n */\r\nexport const escapeHtml = (str, tabSize = 2, allowLineBreaker = true) => {\r\n\tlet s = String(str)\r\n\t\t.replace(/&/g, \"&amp;\")\r\n\t\t.replace(/</g, \"&lt;\")\r\n\t\t.replace(/>/g, \"&gt;\")\r\n\t\t.replace(/\"/g, \"&quot;\")\r\n\t\t.replace(/'/g, \"&#039;\");\r\n\tif(allowLineBreaker){\r\n\t\ts = s.replace(/[\\r\\n]/g, '<br/>');\r\n\t}\r\n\tif(tabSize){\r\n\t\ts = s.replace(/\\t/g, '&nbsp;'.repeat(tabSize))\r\n\t}\r\n\ts = s.replace(/\\s/g, \"&nbsp;\");\r\n\treturn s;\r\n}\r\n\r\n/**\r\n * 反转义HTML\r\n * @param {String} html\r\n * @returns {string}\r\n */\r\nexport const unescapeHtml = (html)=>{\r\n\treturn String(html)\r\n\t\t.replace(/&quot;/g, '\"')\r\n\t\t.replace(/&#39;/g, \"'\")\r\n\t\t.replace(/&lt;/g, '<')\r\n\t\t.replace(/&gt;/g, '>')\r\n\t\t.replace(/&nbsp;/g, ' ')\r\n\t\t.replace(/&amp;/g, '&')\r\n\t\t.replace(/<br.*>/, \"\\n\");\r\n};\r\n\r\n/**\r\n * 转义HTML到属性值\r\n * @param {String} s\r\n * @param preserveCR\r\n * @returns {string}\r\n */\r\nexport const escapeAttr = (s, preserveCR = '') => {\r\n\tpreserveCR = preserveCR ? '&#13;' : '\\n';\r\n\treturn ('' + s) /* Forces the conversion to string. */\r\n\t\t.replace(/&/g, '&amp;') /* This MUST be the 1st replacement. */\r\n\t\t.replace(/'/g, '&apos;') /* The 4 other predefined entities, required. */\r\n\t\t.replace(/\"/g, '&quot;')\r\n\t\t.replace(/</g, '&lt;')\r\n\t\t.replace(/>/g, '&gt;')\r\n\t\t/*\r\n\t\tYou may add other replacements here for HTML only\r\n\t\t(but it's not necessary).\r\n\t\tOr for XML, only if the named entities are defined in its DTD.\r\n\t\t*/\r\n\t\t.replace(/\\r\\n/g, preserveCR) /* Must be before the next replacement. */\r\n\t\t.replace(/[\\r\\n]/g, preserveCR);\r\n}\r\n\r\nexport const stringToEntity = (str, radix) => {\r\n\tlet arr = str.split('')\r\n\tradix = radix || 0\r\n\treturn arr.map(item =>\r\n\t\t`&#${(radix ? 'x' + item.charCodeAt(0).toString(16) : item.charCodeAt(0))};`).join('')\r\n}\r\n\r\n/**\r\n * 高亮文本\r\n * @param {String} text 文本\r\n * @param {String} kw 关键字\r\n * @param {String} replaceTpl 替换模板\r\n * @returns {void|string|*}\r\n */\r\nexport const highlightText = (text, kw, replaceTpl = '<span class=\"matched\">%s</span>') => {\r\n\tif(!kw){\r\n\t\treturn text;\r\n\t}\r\n\treturn text.replace(new RegExp(regQuote(kw), 'ig'), match => {\r\n\t\treturn replaceTpl.replace('%s', match);\r\n\t});\r\n};","import {randomString} from \"./String.js\";\r\nimport {getCookie, setCookie} from \"./Cookie.js\";\r\n\r\nlet _guid = 0;\r\nexport const guid = (prefix = '') => {\r\n\treturn 'guid_' + (prefix || randomString(6)) + (++_guid);\r\n};\r\n\r\n/**\r\n * 获取当前函数所在script路径\r\n * @return {string|null}\r\n */\r\nexport const getCurrentScript = function(){\r\n\tlet error = new Error()\r\n\t\t, source\r\n\t\t, currentStackFrameRegex = new RegExp(getCurrentScript.name + \"\\\\s*\\\\((.*):\\\\d+:\\\\d+\\\\)\")\r\n\t\t, lastStackFrameRegex = new RegExp(/.+\\/(.*?):\\d+(:\\d+)*$/);\r\n\tif((source = currentStackFrameRegex.exec(error.stack.trim()))){\r\n\t\treturn source[1];\r\n\t}else if((source = lastStackFrameRegex.exec(error.stack.trim())) && source[1] !== \"\"){\r\n\t\treturn source[1];\r\n\t}else if(error['fileName'] !== undefined){\r\n\t\treturn error['fileName'];\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/**\r\n * 是否在移动设备中\r\n * @return {boolean}\r\n */\r\nexport const inMobile = () => {\r\n\tconst useragent = window.navigator.userAgent;\r\n\tconst regex = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;\r\n\tconst regex2 = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i;\r\n\treturn regex.test(useragent) || regex2.test(useragent.substr(0, 4));\r\n}\r\n\r\n/**\r\n * 节流\r\n * 规定在一个单位时间内，只能触发一次函数。如果这个函数单位时间内触发多次函数，只有一次生效。\r\n * @param {Function} fn\r\n * @param {Number} intervalMiSec\r\n * @return {(function(): void)|*}\r\n */\r\nexport const throttle = (fn, intervalMiSec) => {\r\n\tlet context, args;\r\n\tlet previous = 0;\r\n\treturn function(){\r\n\t\tlet now = +new Date();\r\n\t\tcontext = this;\r\n\t\targs = arguments;\r\n\t\tif(now - previous > intervalMiSec){\r\n\t\t\tfn.apply(context, args);\r\n\t\t\tprevious = now;\r\n\t\t}\r\n\t}();\r\n}\r\n\r\n/**\r\n * 更有效果的节流函数\r\n * 区别：如果函数执行间隔还没到期，放入下一个时间周期执行，如果已经有下一周期未执行，当前触发作废。\r\n * 这种效果在 **Change 类型函数场景中更有效果，可以确保最后一次变更能够有效执行\r\n * @param {Function} fn\r\n * @param {Number} intervalMiSec\r\n */\r\nexport const throttleEffect = (fn, intervalMiSec) => {\r\n\tlet context, args;\r\n\tlet lastExecuteTime = 0;\r\n\tlet queuing = false;\r\n\treturn function(){\r\n\t\tif(queuing){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet now = +new Date();\r\n\t\tcontext = this;\r\n\t\targs = arguments;\r\n\t\tlet remaining = intervalMiSec - (now - lastExecuteTime);\r\n\t\tif(remaining <= 0){\r\n\t\t\tfn.apply(context, args);\r\n\t\t\tlastExecuteTime = now;\r\n\t\t}else{\r\n\t\t\tqueuing = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tfn.apply(context, args);\r\n\t\t\t\tqueuing = false;\r\n\t\t\t\tlastExecuteTime = now;\r\n\t\t\t}, remaining)\r\n\t\t}\r\n\t};\r\n}\r\n\r\n/**\r\n * 在事件被触发n秒后再执行回调，如果在这n秒内又被触发，则重新计时。\r\n * @param {Function} fn\r\n * @param {Number} intervalMiSec\r\n * @return {(function(): void)|*}\r\n */\r\nexport const debounce = (fn, intervalMiSec) => {\r\n\tlet timeout;\r\n\treturn function(){\r\n\t\tlet context = this;\r\n\t\tlet args = arguments;\r\n\t\tclearTimeout(timeout)\r\n\t\ttimeout = setTimeout(function(){\r\n\t\t\tfn.apply(context, args)\r\n\t\t}, intervalMiSec);\r\n\t}\r\n}\r\n\r\nconst CURRENT_FILE = '/Lang/Util.js';\r\nconst ENTRY_FILE = '/index.js';\r\n\r\n/**\r\n * 获取当前库脚本调用地址（这里默认当前库只有两种调用形式：独立模块调用以及合并模块调用）\r\n * @return {string}\r\n */\r\nexport const getLibEntryScript = () => {\r\n\tlet script = getCurrentScript();\r\n\tif(!script){\r\n\t\tthrow \"Get script failed\";\r\n\t}\r\n\tif(script.indexOf(CURRENT_FILE) >= 0){\r\n\t\treturn script.replace(CURRENT_FILE, ENTRY_FILE);\r\n\t}\r\n\treturn script;\r\n}\r\n\r\n/**\r\n * 加载当前库模块\r\n * @return {Promise<*>}\r\n */\r\nexport const getLibModule = async () => {\r\n\tlet script = getLibEntryScript();\r\n\treturn await import(script);\r\n}\r\n\r\n/**\r\n * 获取顶部窗口模块（如果没有顶部窗口，则获取当前窗口模块）\r\n * @type {(function(): Promise<*>)|undefined}\r\n */\r\nexport const getLibModuleTop = (() => {\r\n\tif(top === window){\r\n\t\treturn getLibModule;\r\n\t}\r\n\tif(top.WEBCOM_GET_LIB_MODULE){\r\n\t\treturn top.WEBCOM_GET_LIB_MODULE;\r\n\t}\r\n\tthrow \"No WebCom library script loaded detected.\";\r\n})();\r\n\r\n/**\r\n * 客户端一次性动作\r\n * @example\r\n * doOnce('newbee', ()=>{\r\n *     return new Promise((resolve)=>{\r\n *          fetch('/cgi-bin/isNewBee', rsp=>{\r\n *              if(rsp.is_new_bee){\r\n *                  resolve();\r\n *              }\r\n *          });\r\n *     });\r\n * }, 'storage').then(()=>{\r\n *      alert('新人第一次弹出来');\r\n * }, ()={\r\n *      console.log('已经不是新人，或者已经弹过对话框了');\r\n * });\r\n * @param {String} markKey\r\n * @param {Function|Null} dataFetcher(): Promise 数据获取器，或者为空（表示第一次触发）\r\n * @param storageType\r\n * @returns {Promise<unknown>}\r\n */\r\nexport const doOnce = (markKey, dataFetcher = null, storageType = 'storage') => {\r\n\tconst MARKUP_STR_VAL = 'TRUE';\r\n\tlet getMarkState = (key) => {\r\n\t\tswitch(storageType.toLowerCase()){\r\n\t\t\tcase 'cookie':\r\n\t\t\t\treturn getCookie(key) === MARKUP_STR_VAL;\r\n\t\t\tcase 'storage':\r\n\t\t\t\treturn window.localStorage.getItem(key) === MARKUP_STR_VAL;\r\n\t\t\tcase 'session':\r\n\t\t\t\treturn window.sessionStorage.getItem(key) === MARKUP_STR_VAL;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow \"no support:\" + storageType;\r\n\t\t}\r\n\t}\r\n\tlet markUp = (key) => {\r\n\t\tswitch(storageType.toLowerCase()){\r\n\t\t\tcase 'cookie':\r\n\t\t\t\treturn setCookie(key, MARKUP_STR_VAL);\r\n\t\t\tcase 'storage':\r\n\t\t\t\treturn window.localStorage.setItem(key, MARKUP_STR_VAL);\r\n\t\t\tcase 'session':\r\n\t\t\t\treturn window.sessionStorage.setItem(key, MARKUP_STR_VAL);\r\n\t\t\tdefault:\r\n\t\t\t\tthrow \"no support:\" + storageType;\r\n\t\t}\r\n\t}\r\n\treturn new Promise((onHit, noHit) => {\r\n\t\tif(!getMarkState(markKey)){\r\n\t\t\tif(typeof (dataFetcher) === 'function'){\r\n\t\t\t\tdataFetcher().then(() => {\r\n\t\t\t\t\tmarkUp(markKey);\r\n\t\t\t\t\tonHit()\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tmarkUp(markKey);\r\n\t\t\t\t\tnoHit();\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tmarkUp(markKey);\r\n\t\t\t\tonHit();\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tnoHit();\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 检测目标是否为 Object\r\n * @param {*} item\r\n * @returns {boolean}\r\n */\r\nexport const isObject = (item) => {\r\n\treturn (item && typeof item === 'object' && !Array.isArray(item));\r\n}\r\n\r\nexport const isFunction = (value) => {\r\n\treturn value ? (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function) : false;\r\n}\r\n\r\n/**\r\n * 对象深度拷贝（合并）\r\n * @param {Object} target\r\n * @param {Object} sources\r\n * @returns {Object}\r\n */\r\nexport const mergeDeep = (target, ...sources) => {\r\n\tif(!sources.length) return target;\r\n\tconst source = sources.shift();\r\n\r\n\tif(isObject(target) && isObject(source)){\r\n\t\tfor(const key in source){\r\n\t\t\tif(isObject(source[key])){\r\n\t\t\t\tif(!target[key]){\r\n\t\t\t\t\tObject.assign(target, {[key]: {}});\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttarget[key] = Object.assign({}, target[key])\r\n\t\t\t\t}\r\n\t\t\t\tmergeDeep(target[key], source[key]);\r\n\t\t\t}else{\r\n\t\t\t\tObject.assign(target, {[key]: source[key]});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn mergeDeep(target, ...sources);\r\n}\r\n\r\n/**\r\n * 控制台颜色枚举\r\n */\r\nexport const CONSOLE_COLOR = {\r\n\tRESET: \"\\x1b[0m\",\r\n\tBRIGHT: \"\\x1b[1m\",\r\n\tDIM: \"\\x1b[2m\",\r\n\tUNDERSCORE: \"\\x1b[4m\",\r\n\tBLINK: \"\\x1b[5m\",\r\n\tREVERSE: \"\\x1b[7m\",\r\n\tHIDDEN: \"\\x1b[8m\",\r\n\tFG: {\r\n\t\tBLACK: \"\\x1b[30m\",\r\n\t\tRED: \"\\x1b[31m\",\r\n\t\tGREEN: \"\\x1b[32m\",\r\n\t\tYELLOW: \"\\x1b[33m\",\r\n\t\tBLUE: \"\\x1b[34m\",\r\n\t\tMAGENTA: \"\\x1b[35m\",\r\n\t\tCYAN: \"\\x1b[36m\",\r\n\t\tWHITE: \"\\x1b[37m\",\r\n\t\tGRAY: \"\\x1b[90m\",\r\n\t},\r\n\tBG: {\r\n\t\tBLACK: \"\\x1b[40m\",\r\n\t\tRED: \"\\x1b[41m\",\r\n\t\tGREEN: \"\\x1b[42m\",\r\n\t\tYELLOW: \"\\x1b[43m\",\r\n\t\tBLUE: \"\\x1b[44m\",\r\n\t\tMAGENTA: \"\\x1b[45m\",\r\n\t\tCYAN: \"\\x1b[46m\",\r\n\t\tWHITE: \"\\x1b[47m\",\r\n\t\tGRAY: \"\\x1b[100m\",\r\n\t}\r\n}\r\n\r\nconst CONSOLE_METHODS = ['debug', 'info', 'log', 'warn', 'error'];\r\nlet org_console_methods = {};\r\n/**\r\n * 绑定控制台的console\r\n * @param {String|String[]} method\r\n * @param {Function} payload 处理函数，参数为：(method, args），如果返回是数组，则回回调回原生console\r\n */\r\nexport const bindConsole = (method, payload) => {\r\n\tif(method === '*'){\r\n\t\tmethod = CONSOLE_METHODS;\r\n\t}\r\n\tif(Array.isArray(method)){\r\n\t\tmethod.forEach(method => {\r\n\t\t\tbindConsole(method, payload);\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tif(!org_console_methods[method]){\r\n\t\torg_console_methods[method] = console[method];\r\n\t}\r\n\tconsole[method] = function(...args){\r\n\t\tlet ret = payload.apply(console, [method, Array.from(args)]);\r\n\t\tif(!Array.isArray(ret)){\r\n\t\t\treturn; //breakup\r\n\t\t}\r\n\t\torg_console_methods[method].apply(console, ret);\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * 检测对象是否为Promise对象\r\n * @param {*} obj\r\n * @returns {boolean}\r\n */\r\nexport const isPromise = (obj) => {\r\n\treturn obj && typeof (obj) === 'object' && obj.then && typeof (obj.then) === 'function';\r\n}\r\n\r\nexport const PROMISE_STATE_PENDING = 'pending';\r\nexport const PROMISE_STATE_FULFILLED = 'fulfilled';\r\nexport const PROMISE_STATE_REJECTED = 'rejected';\r\n\r\n/**\r\n * 获取 promise 对象状态\r\n * @param promise\r\n * @return {Promise<string>}\r\n */\r\nexport const getPromiseState = (promise) => {\r\n\tconst t = {};\r\n\treturn Promise.race([promise, t])\r\n\t\t.then(v => (v === t) ? PROMISE_STATE_PENDING : PROMISE_STATE_FULFILLED)\r\n\t\t.catch(() => PROMISE_STATE_REJECTED);\r\n}\r\n\r\nwindow.WEBCOM_GET_LIB_MODULE = getLibModule;\r\nwindow.WEBCOM_GET_SCRIPT_ENTRY = getLibEntryScript;\r\n","import { between } from \"./Math.js\";\r\nimport { strToPascalCase } from \"./String.js\";\r\nimport { dimension2Style } from \"./Html.js\";\r\nimport { guid } from \"./Util.js\";\r\n\r\nexport const getViewWidth = () => {\r\n\treturn window.innerWidth;\r\n}\r\n\r\nexport const getViewHeight = () => {\r\n\treturn window.innerHeight;\r\n}\r\n\r\n/**\r\n * 隐藏节点（通过设置display:none方式）\r\n * @param {Node|String} dom\r\n */\r\nexport const hide = (dom) => {\r\n\tfindOne(dom).style.display = 'none';\r\n}\r\n\r\n/**\r\n * 删除节点\r\n * @param {Node} dom\r\n * @return {boolean}\r\n */\r\nexport const remove = (dom) => {\r\n\tif (dom && dom.parentNode) {\r\n\t\tdom.parentNode.removeChild(dom);\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * 显示节点（通过设置display为空方式）\r\n * @param {HTMLElement} dom\r\n * @param dom\r\n */\r\nexport const show = (dom) => {\r\n\tfindOne(dom).style.display = '';\r\n}\r\n\r\n/**\r\n * 切换显示、隐藏元素\r\n * @param {Node} dom\r\n * @param toShow\r\n */\r\nexport const toggle = (dom, toShow) => {\r\n\ttoShow ? show(dom) : hide(dom);\r\n}\r\n\r\nconst _el_disabled_class_ = '__element-lock__';\r\n\r\n/**\r\n * 禁用元素（禁止交互，设置disabled）\r\n * @param {String|Node} el\r\n * @param {String} disabledClass\r\n */\r\nexport const disabled = (el, disabledClass = '') => {\r\n\treturn toggleDisabled(el, disabledClass, false);\r\n}\r\n\r\n/**\r\n * 启用元素（允许交互，移除disabled）\r\n * @param {String|Node} el\r\n * @param {String} disabledClass\r\n */\r\nexport const enabled = (el, disabledClass = '') => {\r\n\treturn toggleDisabled(el, disabledClass, true);\r\n}\r\n\r\n/**\r\n * 禁用启用元素切换\r\n * @param {String|Node} el\r\n * @param {String} disabledClass\r\n * @param {Boolean|Null} forceEnabled 强制启用、禁用，为空表示自动切换\r\n */\r\nexport const toggleDisabled = (el, disabledClass = '', forceEnabled = null) => {\r\n\tlet toDisabled = forceEnabled === null ? !el.classList.has(_el_disabled_class_) : !forceEnabled;\r\n\tif (toDisabled) {\r\n\t\tinsertStyleSheet(`.${_el_disabled_class_} {pointer-event:none !important;}`, '__element_lock_style__');\r\n\t}\r\n\tel = findOne(el);\r\n\tel.classList.toggle(_el_disabled_class_, !toDisabled);\r\n\tel[toDisabled ? 'setAttribute' : 'removeAttribute']('disabled', 'disabled');\r\n\tel[toDisabled ? 'setAttribute' : 'removeAttribute']('data-disabled', 'disabled');\r\n\tif (disabledClass) {\r\n\t\tel.classList.toggle(disabledClass, !toDisabled);\r\n\t}\r\n}\r\n\r\n/**\r\n * 绑定元素，禁止交互\r\n * @param {Node} el\r\n * @param {Function} payload 处理函数，参数为 reset\r\n */\r\nexport const lockElementInteraction = (el, payload) => {\r\n\tdisabled(el);\r\n\tlet reset = () => {\r\n\t\tenabled(el);\r\n\t};\r\n\tpayload(reset);\r\n}\r\n\r\n/**\r\n * 获取当前节点在父结点中的索引号\r\n * @param node\r\n * @return {number}\r\n */\r\nexport const nodeIndex = (node) => {\r\n\treturn Array.prototype.indexOf.call(node.parentNode.children, node);\r\n}\r\n\r\n/**\r\n * @param {String|Object} selector 选择器，如果是Object，则直接返回Object\r\n * @param {Node} parent\r\n * @return {Node}\r\n */\r\nexport const findOne = (selector, parent = document) => {\r\n\treturn typeof (selector) === 'string' ? parent.querySelector(selector) : selector;\r\n}\r\n\r\n/**\r\n * 选择器等待\r\n * @param {String} selector\r\n * @param {Object} option\r\n * @param {Number} option.timeout 超时时间，默认为10秒（不能为0）\r\n * @param {Node|null} option.parent 父级节点，默认为document\r\n * @param {Number} option.checkInterval 检查间隔，默认为10毫秒\r\n * @return {Promise<Node[]>}\r\n */\r\nexport const waitForSelector = (selector, option = {}) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\twaitForSelectors(selector, option).then(ns => {\r\n\t\t\tresolve(ns[0]);\r\n\t\t}, reject);\r\n\t})\r\n}\r\n\r\n/**\r\n * 批量选择器等待\r\n * @param {String} selector\r\n * @param {Object} option\r\n * @param {Number} option.timeout 超时时间，默认为10秒（不能为0）\r\n * @param {Node|null} option.parent 父级节点，默认为document\r\n * @param {Number} option.checkInterval 检查间隔，默认为10毫秒\r\n * @return {Promise<Node[]>}\r\n */\r\nexport const waitForSelectors = (selector, option = {}) => {\r\n\tlet { timeout, parent, checkInterval } = option;\r\n\tcheckInterval = checkInterval || 10;\r\n\ttimeout = timeout || 10000;\r\n\tparent = parent || document;\r\n\tconst st = Date.now();\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet chk = () => {\r\n\t\t\tif (timeout && (Date.now() - st > timeout)) {\r\n\t\t\t\treject(`waitForSelectors timeout, ${selector} ${timeout}ms`);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet ns = parent.querySelectorAll(selector);\r\n\t\t\tif (ns.length) {\r\n\t\t\t\tresolve(ns);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetTimeout(chk, checkInterval);\r\n\t\t};\r\n\t\tchk();\r\n\t})\r\n}\r\n\r\n/**\r\n * 通过选择器查找子节点（强制添加 :scope来约束必须是子节点）\r\n * @param {String} selector\r\n * @param {Node} parent\r\n * @return {Node[]}\r\n */\r\nexport const findAll = (selector, parent = document) => {\r\n\tif (typeof selector === 'string') {\r\n\t\tselector = selector.trim();\r\n\t\tif (selector.indexOf(':scope') !== 0) {\r\n\t\t\tselector = ':scope ' + selector;\r\n\t\t}\r\n\t\treturn Array.from(parent.querySelectorAll(selector));\r\n\t} else if (Array.isArray(selector)) {\r\n\t\tlet ns = [];\r\n\t\tselector.forEach(sel => {\r\n\t\t\tns.push(...findAll(sel));\r\n\t\t});\r\n\t\treturn ns;\r\n\t} else if (NodeList.prototype.isPrototypeOf(selector) || HTMLCollection.prototype.isPrototypeOf(selector)) {\r\n\t\treturn Array.from(selector);\r\n\t} else if (selector instanceof HTMLElement) {\r\n\t\treturn [selector];\r\n\t} else {\r\n\t\treturn selector;\r\n\t}\r\n}\r\n\r\nexport const findAllOrFail = (selector, parent = document) => {\r\n\tlet ls = findAll(selector, parent);\r\n\tif (!ls.length) {\r\n\t\tthrow \"no nodes found:\" + selector;\r\n\t}\r\n\treturn ls;\r\n}\r\n\r\n/**\r\n * 获取节点相对于文档顶部定位\r\n * @param target\r\n * @return {{top: number, left: number}}\r\n */\r\nexport const getDomOffset = (target) => {\r\n\tlet rect = target.getBoundingClientRect();\r\n\treturn {\r\n\t\twidth: rect.width,\r\n\t\theight: rect.height,\r\n\t\ttop: rect.top,\r\n\t\tbottom: rect.bottom,\r\n\t\tleft: rect.left,\r\n\t\tright: rect.right,\r\n\t\tx: rect.x,\r\n\t\ty: rect.y,\r\n\t}\r\n}\r\n\r\n/**\r\n * 判断元素是否为按钮\r\n * @param {HTMLElement} el\r\n */\r\nexport const isButton = (el) => {\r\n\treturn el.tagName === 'BUTTON' ||\r\n\t\t(el.tagName === 'INPUT' && ['button', 'reset', 'submit'].includes(el.getAttribute('type')));\r\n}\r\n\r\n/**\r\n * 绑定 textarea 自动增长\r\n * @param {HTMLTextAreaElement} textarea\r\n * @param init\r\n */\r\nexport const bindTextAutoResize = (textarea, init = true) => {\r\n\ttextarea.style.height = 'auto';\r\n\ttextarea.addEventListener('input', () => {\r\n\t\ttextarea.style.height = textarea.scrollHeight + 'px';\r\n\t});\r\n\tif (init) {\r\n\t\ttextarea.style.height = textarea.scrollHeight + 'px';\r\n\t}\r\n}\r\n\r\n/**\r\n * 使用插入临时节点方式计算节点占用高度\r\n * 优点：避免过多子节点margin等布局影响计算复杂度\r\n * @param node\r\n */\r\nlet __divs = {};\r\nconst NODE_HEIGHT_TMP_ATTR_KEY = 'data-NODE-HEIGHT-TMP-ATTR-KEY';\r\nconst getNodeHeightWithMargin = (node) => {\r\n\tlet tmp_div_id = node.getAttribute(NODE_HEIGHT_TMP_ATTR_KEY);\r\n\tif (tmp_div_id && __divs[tmp_div_id] && __divs[tmp_div_id].parentNode) {\r\n\t\treturn __divs[tmp_div_id].offsetTop;\r\n\t}\r\n\ttmp_div_id = guid('tmp_div_id');\r\n\tnode.setAttribute(NODE_HEIGHT_TMP_ATTR_KEY, tmp_div_id);\r\n\tlet tmp_div = document.createElement('div');\r\n\ttmp_div.style.cssText = 'height:0; width:100%; clear:both;';\r\n\tnode.appendChild(tmp_div);\r\n\t__divs[tmp_div_id] = tmp_div;\r\n\treturn tmp_div.offsetTop;\r\n}\r\n\r\nconst resizeIframe = (iframe) => {\r\n\tlet bdy = iframe.contentWindow.document.body;\r\n\tif (!bdy) {\r\n\t\treturn;\r\n\t}\r\n\tlet h = getNodeHeightWithMargin(bdy);\r\n\tiframe.style.height = dimension2Style(h);\r\n}\r\n\r\n/**\r\n * iframe根据内容自动调整高度\r\n * iframe页面host必须和父级页面host同域，或者声明同域名\r\n * @param iframe\r\n */\r\nexport const bindIframeAutoResize = (iframe) => {\r\n\tlet obs;\r\n\ttry {\r\n\t\t//成功加载后，只监听节点变化才调整高度，避免性能消耗\r\n\t\tiframe.addEventListener('load', () => {\r\n\t\t\tresizeIframe(iframe);\r\n\t\t\tmutationEffective(iframe.contentWindow.document.body, {\r\n\t\t\t\tattributes: true,\r\n\t\t\t\tsubtree: true,\r\n\t\t\t\tchildList: true\r\n\t\t\t}, () => {\r\n\t\t\t\tresizeIframe(iframe);\r\n\t\t\t});\r\n\t\t});\r\n\t} catch (err) {\r\n\t\ttry {\r\n\t\t\tobs && obs.disconnect();\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('observer disconnect fail', err)\r\n\t\t}\r\n\t\tconsole.warn('iframe content upd', err);\r\n\t}\r\n}\r\n\r\n/**\r\n * textarea 支持 tab 输入\r\n * @param {HTMLTextAreaElement} textarea\r\n * @param {String} tabChar\r\n */\r\nexport const bindTextSupportTab = (textarea, tabChar = \"\\t\") => {\r\n\ttextarea.addEventListener('keydown', function (e) {\r\n\t\tif (e.key !== 'Tab') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t\tdocument.execCommand('insertText', false, tabChar); //支持undo\r\n\t});\r\n}\r\n\r\n/**\r\n * 获取最近上级节点\r\n * @deprecated 请使用原生closest方法\r\n * @param {HTMLElement} dom\r\n * @param {String} selector 匹配上级节点选择器\r\n * @return {(() => (HTMLElement | null))|ParentNode|ActiveX.IXMLDOMNode|null}\r\n */\r\nexport const matchParent = (dom, selector) => {\r\n\treturn dom.closest(selector);\r\n}\r\n\r\n/**\r\n * 检测child节点是否在container节点列表里面\r\n * @param {Node|Node[]|String|String[]} nodes\r\n * @param {HTMLElement} child\r\n * @param {Boolean} includeEqual 是否包括等于关系\r\n * @returns {boolean}\r\n */\r\nexport const domContained = (nodes, child, includeEqual = false) => {\r\n\tlet contains = findAll(nodes);\r\n\tfor (let i = 0; i < contains.length; i++) {\r\n\t\tif ((includeEqual ? contains[i] === child : false) ||\r\n\t\t\tcontains[i].compareDocumentPosition(child) & 16) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n};\r\n\r\n/**\r\n * 获取指定容器下可聚焦元素列表\r\n * @param {Node} dom\r\n * @return {Node[]}\r\n */\r\nexport const getFocusableElements = (dom = document) => {\r\n\tlet els = findAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"]):not([disabled]), details:not([disabled]), summary:not(:disabled)', dom);\r\n\treturn els.filter(el => {\r\n\t\treturn !isNodeHidden(el);\r\n\t});\r\n}\r\n\r\n/**\r\n * 检测节点是否被隐藏了（无法聚焦），可视区域外部的节点是可以聚焦的\r\n * @param {Node} node\r\n * @return {boolean}\r\n */\r\nexport const isNodeHidden = (node) => {\r\n\treturn node.offsetParent === null;\r\n}\r\n\r\n/**\r\n * get node xpath\r\n * @param el\r\n * @return {String}\r\n */\r\nexport const getNodeXPath = (el) => {\r\n\tlet allNodes = document.getElementsByTagName('*');\r\n\tlet seg_list = [];\r\n\tfor (seg_list = []; el && el.nodeType === 1; el = el.parentNode) {\r\n\t\tif (el.hasAttribute('id')) {\r\n\t\t\tlet uniqueIdCount = 0;\r\n\t\t\tfor (let n = 0; n < allNodes.length; n++) {\r\n\t\t\t\tif (allNodes[n].hasAttribute('id') && allNodes[n].id === el.id) uniqueIdCount++;\r\n\t\t\t\tif (uniqueIdCount > 1) break;\r\n\t\t\t}\r\n\t\t\tif (uniqueIdCount === 1) {\r\n\t\t\t\tseg_list.unshift('id(\"' + el.getAttribute('id') + '\")');\r\n\t\t\t\treturn seg_list.join('/');\r\n\t\t\t} else {\r\n\t\t\t\tseg_list.unshift(el.localName.toLowerCase() + '[@id=\"' + el.getAttribute('id') + '\"]');\r\n\t\t\t}\r\n\t\t} else if (el.hasAttribute('class')) {\r\n\t\t\tseg_list.unshift(el.localName.toLowerCase() + '[@class=\"' + el.getAttribute('class') + '\"]');\r\n\t\t} else {\r\n\t\t\tlet i, sib;\r\n\t\t\tfor (i = 1, sib = el.previousSibling; sib; sib = sib.previousSibling) {\r\n\t\t\t\tif (sib.localName === el.localName) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tseg_list.unshift(el.localName.toLowerCase() + '[' + i + ']');\r\n\t\t}\r\n\t}\r\n\treturn seg_list.length ? '/' + seg_list.join('/') : null;\r\n}\r\n\r\n/**\r\n * 监听节点树变更\r\n * @param {Node} dom\r\n * @param {Function} callback\r\n * @param {Boolean} includeElementChanged 是否包含表单元素的值变更\r\n */\r\nexport const onDomTreeChange = (dom, callback, includeElementChanged = true) => {\r\n\tconst PRO_KEY = 'ON_DOM_TREE_CHANGE_BIND_' + guid();\r\n\tlet watchEl = () => {\r\n\t\tfindAll(`input:not([${PRO_KEY}]), textarea:not([${PRO_KEY}]), select:not([${PRO_KEY}])`, dom).forEach(el => {\r\n\t\t\tel.setAttribute(PRO_KEY, '1');\r\n\t\t\tel.addEventListener('change', callback);\r\n\t\t});\r\n\t}\r\n\tmutationEffective(dom, { attributes: true, subtree: true, childList: true }, () => {\r\n\t\tincludeElementChanged && watchEl();\r\n\t\tcallback();\r\n\t}, 10);\r\n\tincludeElementChanged && watchEl();\r\n}\r\n\r\n/**\r\n * 更低占用执行mutation监听，支持指定最小间隔时间执行回调\r\n * @param {Node} dom\r\n * @param {Object} option\r\n * @param {Boolean} option.attributes\r\n * @param {Boolean} option.subtree\r\n * @param {Boolean} option.childList\r\n * @param {Function} payload\r\n * @param {Number} minInterval 执行回调最小间隔时间（毫秒）\r\n */\r\nexport const mutationEffective = (dom, option, payload, minInterval = 10) => {\r\n\tlet last_queue_time = 0;\r\n\tlet callback_queueing = false;\r\n\tlet obs = new MutationObserver(() => {\r\n\t\tif (callback_queueing) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet r = minInterval - (Date.now() - last_queue_time);\r\n\t\tif (r > 0) {\r\n\t\t\tcallback_queueing = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tcallback_queueing = false;\r\n\t\t\t\tlast_queue_time = Date.now();\r\n\t\t\t\tpayload(obs);\r\n\t\t\t}, r);\r\n\t\t} else {\r\n\t\t\tlast_queue_time = Date.now();\r\n\t\t\tpayload(obs);\r\n\t\t}\r\n\t});\r\n\tobs.observe(dom, option);\r\n}\r\n\r\n/**\r\n * 监听指定节点，如果匹配的选择器结果有发生变更，则通知外部\r\n * @example 用该函数来做状态联动，如指定容器内是否包含 checkbox，来联动按钮是否能够点击\r\n * domChangedWatch(ListDom, 'input:checked', exists=>button.disabled = !exists);\r\n * @param {Node} container 指定容器\r\n * @param {String} matchedSelector 匹配子节点的选择器\r\n * @param {Function} notification(collection) 通知函数，产生于为 []，表示是否包含选择器子节点数组\r\n * @param {Boolean} executionFirst 是否在一开始先执行一次通知函数\r\n */\r\nexport const domChangedWatch = (container, matchedSelector, notification, executionFirst = true) => {\r\n\tonDomTreeChange(container, () => {\r\n\t\tnotification(findAll(matchedSelector, container));\r\n\t});\r\n\tif (executionFirst) {\r\n\t\tnotification(findAll(matchedSelector, container));\r\n\t}\r\n}\r\n\r\n/**\r\n * 获取中间对齐布局\r\n * @param width\r\n * @param height\r\n * @param {Object} containerDimension\r\n * @param {Number} containerDimension.left\r\n * @param {Number} containerDimension.top\r\n * @param {Number} containerDimension.width\r\n * @param {Number} containerDimension.height\r\n * @return {Array} dimension [dimension.left, dimension.top]\r\n */\r\nexport const keepRectCenter = (width, height, containerDimension = {\r\n\tleft: 0,\r\n\ttop: 0,\r\n\twidth: window.innerWidth,\r\n\theight: window.innerHeight\r\n}) => {\r\n\treturn [\r\n\t\tMath.max((containerDimension.width - width) / 2 + containerDimension.left, 0),\r\n\t\tMath.max((containerDimension.height - height) / 2 + containerDimension.top, 0)\r\n\t];\r\n}\r\n\r\n/**\r\n * @param target\r\n * @param container\r\n */\r\nexport const keepDomInContainer = (target, container = document.body) => {\r\n\tkeepRectInContainer({\r\n\t\tleft: target.left,\r\n\t\ttop: target.top,\r\n\t\twidth: target.clientWidth,\r\n\t\theight: target.clientHeight,\r\n\t});\r\n}\r\n\r\n/**\r\n * 保持对象尽量在容器内部，优先保证上边、左边显示\r\n * @param {Object} objDim\r\n * @param {Number} objDim.left\r\n * @param {Number} objDim.top\r\n * @param {Number} objDim.width\r\n * @param {Number} objDim.height\r\n * @param {Object} ctnDim\r\n * @param {Number} ctnDim.left\r\n * @param {Number} ctnDim.top\r\n * @param {Number} ctnDim.width\r\n * @param {Number} ctnDim.height\r\n * {Array} dimension [dimension.left, dimension.top]\r\n */\r\nexport const keepRectInContainer = (objDim, ctnDim = {\r\n\tleft: 0,\r\n\ttop: 0,\r\n\twidth: window.innerWidth,\r\n\theight: window.innerHeight\r\n}) => {\r\n\tlet ret = { left: objDim.left, top: objDim.top };\r\n\r\n\t//oversize\r\n\tif (objDim.width > ctnDim.width || objDim.height > ctnDim.height) {\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t//右边超出\r\n\tif ((objDim.width + objDim.left) > (ctnDim.width + ctnDim.left)) {\r\n\t\tret.left = objDim.left - ((objDim.width + objDim.left) - (ctnDim.width + ctnDim.left));\r\n\t}\r\n\r\n\t//底边超出\r\n\tif ((objDim.height + objDim.top) > (ctnDim.height + ctnDim.top)) {\r\n\t\tret.top = objDim.top - ((objDim.height + objDim.top) - (ctnDim.height + ctnDim.top));\r\n\t}\r\n\r\n\t//优先保证左边露出\r\n\tif (objDim.left < ctnDim.left) {\r\n\t\tret.left = ctnDim.left;\r\n\t}\r\n\r\n\t//优先保证上边露出\r\n\tif (objDim.top < ctnDim.top) {\r\n\t\tret.top = ctnDim.top;\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\n/**\r\n * 获取对象宽、高\r\n * 通过设置 visibility 方式进行获取\r\n * @param {HTMLElement} dom\r\n * @return {{width: number, height: number}}\r\n */\r\nexport const getDomDimension = (dom) => {\r\n\tlet org_visibility = dom.style.visibility;\r\n\tlet org_display = dom.style.display;\r\n\tlet width, height;\r\n\r\n\tdom.style.visibility = 'hidden';\r\n\tdom.style.display = 'block';\r\n\twidth = dom.clientWidth;\r\n\theight = dom.clientHeight;\r\n\tdom.style.visibility = org_visibility;\r\n\tdom.style.display = org_display;\r\n\treturn { width, height };\r\n}\r\n\r\n/**\r\n * 矩形相交（包括边重叠情况）\r\n * @param {Object} rect1\r\n * @param {Object} rect2\r\n * @returns {boolean}\r\n */\r\nexport const rectAssoc = (rect1, rect2) => {\r\n\tif (rect1.left <= rect2.left) {\r\n\t\treturn (rect1.left + rect1.width) >= rect2.left && (\r\n\t\t\tbetween(rect2.top, rect1.top, rect1.top + rect1.height) ||\r\n\t\t\tbetween(rect2.top + rect2.height, rect1.top, rect1.top + rect1.height) ||\r\n\t\t\trect2.top >= rect1.top && rect2.height >= rect1.height\r\n\t\t);\r\n\t} else {\r\n\t\treturn (rect2.left + rect2.width) >= rect1.left && (\r\n\t\t\tbetween(rect1.top, rect2.top, rect2.top + rect2.height) ||\r\n\t\t\tbetween(rect1.top + rect1.height, rect2.top, rect2.top + rect2.height) ||\r\n\t\t\trect1.top >= rect2.top && rect1.height >= rect2.height\r\n\t\t);\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * isElement\r\n * @param {*} obj\r\n * @returns {boolean}\r\n */\r\nexport const isElement = (obj) => {\r\n\ttry {\r\n\t\t//Using W3 DOM2 (works for FF, Opera and Chrome)\r\n\t\treturn obj instanceof HTMLElement;\r\n\t} catch (e) {\r\n\t\t//Browsers not supporting W3 DOM2 don't have HTMLElement and\r\n\t\t//an exception is thrown and we end up here. Testing some\r\n\t\t//properties that all elements have. (works on IE7)\r\n\t\treturn (typeof obj === \"object\") &&\r\n\t\t\t(obj.nodeType === 1) && (typeof obj.style === \"object\") &&\r\n\t\t\t(typeof obj.ownerDocument === \"object\");\r\n\t}\r\n};\r\n\r\nlet _c = {};\r\n\r\n/**\r\n * 挂载css文件\r\n * @param {String} file\r\n * @param {Boolean} forceReload 是否强制重新挂载，缺省不重复挂载\r\n */\r\nexport const loadCss = (file, forceReload = false) => {\r\n\tif (!forceReload && _c[file]) {\r\n\t\treturn _c[file];\r\n\t}\r\n\t_c[file] = new Promise((resolve, reject) => {\r\n\t\tlet link = document.createElement('link');\r\n\t\tlink.rel = \"stylesheet\";\r\n\t\tlink.href = file;\r\n\t\tlink.onload = () => {\r\n\t\t\tresolve()\r\n\t\t};\r\n\t\tlink.onerror = () => {\r\n\t\t\treject()\r\n\t\t};\r\n\t\tdocument.head.append(link);\r\n\t});\r\n\treturn _c[file];\r\n};\r\n\r\n/**\r\n * 加载script脚本\r\n * @param {String} src 脚本地址\r\n * @param {Boolean} forceReload 是否强制重新加载，缺省为去重加载\r\n * @return {Promise}\r\n */\r\nexport const loadScript = (src, forceReload = false) => {\r\n\tif (!forceReload && _c[src]) {\r\n\t\treturn _c[src];\r\n\t}\r\n\t_c[src] = new Promise((resolve, reject) => {\r\n\t\tlet script = document.createElement('script');\r\n\t\tscript.src = src;\r\n\t\tscript.onload = () => {\r\n\t\t\tresolve()\r\n\t\t};\r\n\t\tscript.onerror = () => {\r\n\t\t\treject()\r\n\t\t};\r\n\t\tdocument.head.append(script);\r\n\t});\r\n\treturn _c[src];\r\n};\r\n\r\n/**\r\n * 在头部插入样式\r\n * @param {String} styleSheetStr 样式代码\r\n * @param {String} id 样式ID，如果提供ID，将会检测是否已经插入，可以避免重复插入\r\n * @param {Document} doc 文档上下文\r\n * @return {HTMLStyleElement}\r\n */\r\nexport const insertStyleSheet = (styleSheetStr, id = '', doc = document) => {\r\n\tif (id && doc.querySelector(`#${id}`)) {\r\n\t\treturn doc.querySelector(`#${id}`);\r\n\t}\r\n\tlet style = doc.createElement('style');\r\n\tdoc.head.appendChild(style);\r\n\tstyle.innerHTML = styleSheetStr;\r\n\tif (id) {\r\n\t\tstyle.id = id;\r\n\t}\r\n\treturn style;\r\n};\r\n\r\n/**\r\n * 获取DOM节点视觉呈现信息\r\n * @param win\r\n * @returns {{\r\n *  screenLeft: number,\r\n *  screenTop: number,\r\n *  visibleWidth: number,\r\n *  visibleHeight: number,\r\n *  horizonScroll: number,\r\n *  documentWidth: number,\r\n *  documentHeight: number,\r\n *  }}\r\n */\r\nexport const getRegion = (win = window) => {\r\n\tlet info = {};\r\n\tlet doc = win.document;\r\n\tinfo.screenLeft = win.screenLeft ? win.screenLeft : win.screenX;\r\n\tinfo.screenTop = win.screenTop ? win.screenTop : win.screenY;\r\n\r\n\t//no ie\r\n\tif (win.innerWidth) {\r\n\t\tinfo.visibleWidth = win.innerWidth;\r\n\t\tinfo.visibleHeight = win.innerHeight;\r\n\t\tinfo.horizenScroll = win.pageXOffset;\r\n\t\tinfo.verticalScroll = win.pageYOffset;\r\n\t} else {\r\n\t\t//IE + DOCTYPE defined || IE4, IE5, IE6+no DOCTYPE\r\n\t\tlet tmp = (doc.documentElement && doc.documentElement.clientWidth) ?\r\n\t\t\tdoc.documentElement : doc.body;\r\n\t\tinfo.visibleWidth = tmp.clientWidth;\r\n\t\tinfo.visibleHeight = tmp.clientHeight;\r\n\t\tinfo.horizenScroll = tmp.scrollLeft;\r\n\t\tinfo.verticalScroll = tmp.scrollTop;\r\n\t}\r\n\r\n\tlet tag = (doc.documentElement && doc.documentElement.scrollWidth) ?\r\n\t\tdoc.documentElement : doc.body;\r\n\tinfo.documentWidth = Math.max(tag.scrollWidth, info.visibleWidth);\r\n\tinfo.documentHeight = Math.max(tag.scrollHeight, info.visibleHeight);\r\n\treturn info;\r\n};\r\n\r\n/**\r\n * 检测矩形是否在指定布局内部\r\n * @param rect\r\n * @param layout\r\n * @returns {*}\r\n */\r\nexport const rectInLayout = (rect, layout) => {\r\n\treturn between(rect.top, layout.top, layout.top + layout.height) && between(rect.left, layout.left, layout.left + layout.width) //左上角\r\n\t\t&& between(rect.top + rect.height, layout.top, layout.top + layout.height) && between(rect.left + rect.width, layout.left, layout.left + layout.width); //右下角\r\n};\r\n\r\n/**\r\n * 设置dom样式\r\n * @param {HTMLElement} dom\r\n * @param {Object} style 样式对象\r\n */\r\nexport const setStyle = (dom, style = {}) => {\r\n\tfor (let key in style) {\r\n\t\tkey = strToPascalCase(key);\r\n\t\tdom.style[key] = dimension2Style(style[key]);\r\n\t}\r\n}\r\n\r\n/**\r\n * 高亮节点关键字\r\n * @param {HTMLElement} node\r\n * @param {RegExp|String} pattern\r\n * @param {String} hlClass\r\n * @return {number}\r\n */\r\nexport const nodeHighlight = (node, pattern, hlClass) => {\r\n\tlet skip = 0;\r\n\tif (node.nodeType === 3) {\r\n\t\tpattern = new RegExp(pattern, 'i');\r\n\t\tlet pos = node.data.search(pattern);\r\n\t\tif (pos >= 0 && node.data.length > 0) { // .* matching \"\" causes infinite loop\r\n\t\t\tlet match = node.data.match(pattern); // get the match(es), but we would only handle the 1st one, hence /g is not recommended\r\n\t\t\tlet spanNode = document.createElement('span');\r\n\t\t\tspanNode.className = hlClass; // set css\r\n\t\t\tlet middleBit = node.splitText(pos); // split to 2 nodes, node contains the pre-pos text, middleBit has the post-pos\r\n\t\t\tlet endBit = middleBit.splitText(match[0].length); // similarly split middleBit to 2 nodes\r\n\t\t\tlet middleClone = middleBit.cloneNode(true);\r\n\t\t\tspanNode.appendChild(middleClone);\r\n\t\t\t// parentNode ie. node, now has 3 nodes by 2 splitText()s, replace the middle with the highlighted spanNode:\r\n\t\t\tmiddleBit.parentNode.replaceChild(spanNode, middleBit);\r\n\t\t\tskip = 1; // skip this middleBit, but still need to check endBit\r\n\t\t}\r\n\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\r\n\t\tfor (let i = 0; i < node.childNodes.length; ++i) {\r\n\t\t\ti += nodeHighlight(node.childNodes[i], pattern, hlClass);\r\n\t\t}\r\n\t}\r\n\treturn skip;\r\n}\r\n\r\n/**\r\n * 创建HTML节点\r\n * @param {String} html\r\n * @param {HTMLElement|null} parentNode 父级节点\r\n * @returns {HTMLElement|HTMLElement[]}\r\n */\r\nexport const createDomByHtml = (html, parentNode = null) => {\r\n\tlet tpl = document.createElement('template');\r\n\thtml = html.trim();\r\n\ttpl.innerHTML = html;\r\n\tlet nodes = [];\r\n\tif (parentNode) {\r\n\t\ttpl.content.childNodes.forEach(node => {\r\n\t\t\tnodes.push(parentNode.appendChild(node));\r\n\t\t})\r\n\t} else {\r\n\t\tnodes = tpl.content.childNodes;\r\n\t}\r\n\treturn nodes.length === 1 ? nodes[0] : nodes;\r\n};\r\n\r\n/**\r\n * 强制重绘元素\r\n * @param {HTMLElement} element\r\n * @param {Number} delay\r\n */\r\nexport function repaint(element, delay = 0) {\r\n\tsetTimeout(() => {\r\n\t\ttry {\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\telement.hidden = true;\r\n\r\n\t\t\t// eslint-disable-next-line no-unused-expressions\r\n\t\t\telement.offsetHeight;\r\n\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\telement.hidden = false;\r\n\t\t} catch (_) {\r\n\t\t\t// Do nothing\r\n\t\t}\r\n\t}, delay);\r\n}\r\n\r\n/**\r\n * 进入全屏模式\r\n * @param {HTMLElement} element\r\n */\r\nexport const enterFullScreen = (element) => {\r\n\tif (element.requestFullscreen) {\r\n\t\treturn element.requestFullscreen();\r\n\t}\r\n\tif (element.webkitRequestFullScreen) {\r\n\t\treturn element.webkitRequestFullScreen();\r\n\t}\r\n\tif (element.mozRequestFullScreen) {\r\n\t\telement.mozRequestFullScreen();\r\n\t}\r\n\tif (element.msRequestFullScreen) {\r\n\t\telement.msRequestFullScreen();\r\n\t}\r\n\tthrow \"Browser no allow full screen\";\r\n}\r\n\r\n/**\r\n * 退出全屏\r\n * @returns {Promise<void>}\r\n */\r\nexport const exitFullScreen = () => {\r\n\treturn document.exitFullscreen();\r\n}\r\n\r\n/**\r\n * 切换全屏\r\n * @param element\r\n * @returns {Promise<unknown>}\r\n */\r\nexport const toggleFullScreen = (element) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif (!isInFullScreen()) {\r\n\t\t\tenterFullScreen(element).then(resolve).catch(reject);\r\n\t\t} else {\r\n\t\t\texitFullScreen().then(resolve).catch(reject);\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * 检测元素是否设置为sticky，且已经产生了吸顶效果\r\n * @param {Node} node\r\n * @param {String} className\r\n * @see https://stackoverflow.com/questions/16302483/event-to-detect-when-positionsticky-is-triggered\r\n */\r\nexport const toggleStickyClass = (node, className) => {\r\n\tconst observer = new IntersectionObserver(([e]) => {\r\n\t\te.target.classList.toggle(className, e.intersectionRatio < 1);\r\n\t}, {\r\n\t\trootMargin: '-1px 0px 0px 0px',\r\n\t\tthreshold: [1],\r\n\t});\r\n\tobserver.observe(node);\r\n}\r\n\r\n/**\r\n * 检测是否正在全屏\r\n * @returns {boolean}\r\n */\r\nexport const isInFullScreen = () => {\r\n\treturn !!document.fullscreenElement;\r\n}\r\n\r\nlet CURRENT_WINDOW;\r\n\r\n/**\r\n * @param win\r\n */\r\nexport const setContextWindow = (win) => {\r\n\tCURRENT_WINDOW = win;\r\n}\r\n\r\n/**\r\n * 获取当前上下文 文档，缺省为获取top\r\n * @return {Document}\r\n */\r\nexport const getContextDocument = () => {\r\n\tlet win = getContextWindow();\r\n\treturn win.document;\r\n};\r\n\r\n/**\r\n * 获取上下文窗口\r\n * @return {Window}\r\n */\r\nexport const getContextWindow = () => {\r\n\tif (CURRENT_WINDOW) {\r\n\t\treturn CURRENT_WINDOW;\r\n\t}\r\n\tlet win;\r\n\ttry {\r\n\t\twin = window;\r\n\t\twhile (win !== win.parent) {\r\n\t\t\twin = win.parent;\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tconsole.warn('context window assign fail:', err);\r\n\t}\r\n\treturn win || window;\r\n}\r\n","import {insertStyleSheet} from \"../Lang/Dom.js\";\r\n\r\nconst NS = 'WebCom-';\r\nconst VAR_PREFIX = '--' + NS;\r\nconst ICON_FONT = NS + 'iconfont';\r\n\r\n//css 样式变量名定义\r\nconst CSS_VAR_COLOR = VAR_PREFIX + 'color';\r\nconst CSS_VAR_COLOR_LIGHTEN = VAR_PREFIX + 'color-lighten';\r\nconst CSS_VAR_DISABLE_COLOR = VAR_PREFIX + 'disable-color';\r\nconst CSS_VAR_BACKGROUND_COLOR = VAR_PREFIX + 'background-color';\r\nconst CSS_VAR_PANEL_SHADOW = VAR_PREFIX + 'panel-shadow';\r\nconst CSS_VAR_PANEL_BORDER = VAR_PREFIX + 'panel-border';\r\nconst CSS_VAR_PANEL_BORDER_COLOR = VAR_PREFIX + 'panel-border-color';\r\nconst CSS_VAR_PANEL_RADIUS = VAR_PREFIX + 'panel-radius';\r\nconst CSS_VAR_FULL_SCREEN_BACKDROP_FILTER = VAR_PREFIX + 'full-screen-backdrop-filter';\r\nconst CSS_VAR_FULL_SCREEN_BACKGROUND_COLOR = VAR_PREFIX + 'full-screen-background-color';\r\n\r\ninsertStyleSheet(`\r\n@font-face {\r\n  font-family: '${ICON_FONT}';  /* Project id 3359671 */\r\n  src: url('//at.alicdn.com/t/c/font_3359671_sytvh320ksc.woff2?t=1725530872922') format('woff2'),\r\n       url('//at.alicdn.com/t/c/font_3359671_sytvh320ksc.woff?t=1725530872922') format('woff'),\r\n       url('//at.alicdn.com/t/c/font_3359671_sytvh320ksc.ttf?t=1725530872922') format('truetype');\r\n}\r\n\r\n:root {\r\n\t${CSS_VAR_COLOR}:#333;\r\n\t${CSS_VAR_COLOR_LIGHTEN}:#666;\r\n\t${CSS_VAR_DISABLE_COLOR}:#aaa;\r\n\t${CSS_VAR_BACKGROUND_COLOR}:#fff;\r\n\t\r\n\t${CSS_VAR_PANEL_SHADOW}:1px 1px 5px #7c7c7c5c;\r\n\t${CSS_VAR_PANEL_BORDER_COLOR}:#ccc;\r\n\t${CSS_VAR_PANEL_BORDER}:1px solid var(${CSS_VAR_PANEL_BORDER_COLOR});\r\n\t${CSS_VAR_PANEL_RADIUS}:4px;\r\n\t\r\n\t${CSS_VAR_FULL_SCREEN_BACKDROP_FILTER}:blur(4px);\r\n\t${CSS_VAR_FULL_SCREEN_BACKGROUND_COLOR}:#33333342;\r\n}`, NS+'theme');\r\n\r\nexport const Theme = {\r\n\tNamespace: NS,\r\n\tCssVarPrefix: VAR_PREFIX,\r\n\tCssVar: {\r\n\t\t'COLOR': CSS_VAR_COLOR,\r\n\t\t'CSS_LIGHTEN': CSS_VAR_COLOR_LIGHTEN,\r\n\t\t'DISABLE_COLOR': CSS_VAR_DISABLE_COLOR,\r\n\t\t'BACKGROUND_COLOR': CSS_VAR_BACKGROUND_COLOR,\r\n\t\t'PANEL_SHADOW': CSS_VAR_PANEL_SHADOW,\r\n\t\t'PANEL_BORDER': CSS_VAR_PANEL_BORDER,\r\n\t\t'PANEL_BORDER_COLOR': CSS_VAR_PANEL_BORDER_COLOR,\r\n\t\t'PANEL_RADIUS': CSS_VAR_PANEL_RADIUS,\r\n\t\t'FULL_SCREEN_BACKDROP_FILTER': CSS_VAR_FULL_SCREEN_BACKDROP_FILTER,\r\n\t\t'FULL_SCREEN_BACKGROUND_COLOR': CSS_VAR_FULL_SCREEN_BACKGROUND_COLOR,\r\n\t},\r\n\tIconFont: ICON_FONT,\r\n\tTipIndex: 10, //功能提示类(指向具体元素)\r\n\tMaskIndex: 100, //遮罩(（全局或指定面板遮罩类）\r\n\tDialogIndex: 1000, //对话框等窗口类垂直索引\r\n\tFullScreenModeIndex: 10000, //全屏类（全屏类\r\n\tContextIndex: 100000, //右键菜单\r\n\tToastIndex: 1000000, //消息提示（顶部呈现）\r\n}","/**\r\n * 缺省二进制文件MIME\r\n * @see https://datatracker.ietf.org/doc/html/rfc2046\r\n * @type {String}\r\n */\r\nexport const MIME_BINARY_DEFAULT = 'application/octet-stream';\r\n\r\n/**\r\n * MIME常见扩展名映射表\r\n * @type {Object}\r\n */\r\nexport const MIME_EXTENSION_MAP = {\r\n\t\"323\": \"text/h323\",\r\n\t\"accdb\": \"application/msaccess\",\r\n\t\"accde\": \"application/msaccess\",\r\n\t\"accdt\": \"application/msaccess\",\r\n\t\"acx\": \"application/internet-property-stream\",\r\n\t\"ai\": \"application/postscript\",\r\n\t\"aif\": \"audio/x-aiff\",\r\n\t\"aifc\": \"audio/aiff\",\r\n\t\"aiff\": \"audio/aiff\",\r\n\t\"application\": \"application/x-ms-application\",\r\n\t\"art\": \"image/x-jg\",\r\n\t\"asf\": \"video/x-ms-asf\",\r\n\t\"asm\": \"text/plain\",\r\n\t\"asr\": \"video/x-ms-asf\",\r\n\t\"asx\": \"video/x-ms-asf\",\r\n\t\"atom\": \"application/atom+xml\",\r\n\t\"au\": \"audio/basic\",\r\n\t\"avi\": \"video/x-msvideo\",\r\n\t\"axs\": \"application/olescript\",\r\n\t\"bas\": \"text/plain\",\r\n\t\"bcpio\": \"application/x-bcpio\",\r\n\t\"bmp\": \"image/bmp\",\r\n\t\"c\": \"text/plain\",\r\n\t\"calx\": \"application/vnd.ms-office.calx\",\r\n\t\"cat\": \"application/vnd.ms-pki.seccat\",\r\n\t\"cdf\": \"application/x-cdf\",\r\n\t\"class\": \"application/x-java-applet\",\r\n\t\"clp\": \"application/x-msclip\",\r\n\t\"cmx\": \"image/x-cmx\",\r\n\t\"cnf\": \"text/plain\",\r\n\t\"cod\": \"image/cis-cod\",\r\n\t\"cpio\": \"application/x-cpio\",\r\n\t\"cpp\": \"text/plain\",\r\n\t\"crd\": \"application/x-mscardfile\",\r\n\t\"crl\": \"application/pkix-crl\",\r\n\t\"crt\": \"application/x-x509-ca-cert\",\r\n\t\"csh\": \"application/x-csh\",\r\n\t\"css\": \"text/css\",\r\n\t\"dcr\": \"application/x-director\",\r\n\t\"der\": \"application/x-x509-ca-cert\",\r\n\t\"dib\": \"image/bmp\",\r\n\t\"dir\": \"application/x-director\",\r\n\t\"disco\": \"text/xml\",\r\n\t\"dll\": \"application/x-msdownload\",\r\n\t\"dll.config\": \"text/xml\",\r\n\t\"dlm\": \"text/dlm\",\r\n\t\"doc\": \"application/msword\",\r\n\t\"docm\": \"application/vnd.ms-word.document.macroEnabled.12\",\r\n\t\"docx\": \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n\t\"dot\": \"application/msword\",\r\n\t\"dotm\": \"application/vnd.ms-word.template.macroEnabled.12\",\r\n\t\"dotx\": \"application/vnd.openxmlformats-officedocument.wordprocessingml.template\",\r\n\t\"dtd\": \"text/xml\",\r\n\t\"dvi\": \"application/x-dvi\",\r\n\t\"dwf\": \"drawing/x-dwf\",\r\n\t\"dxr\": \"application/x-director\",\r\n\t\"eml\": \"message/rfc822\",\r\n\t\"eps\": \"application/postscript\",\r\n\t\"etx\": \"text/x-setext\",\r\n\t\"evy\": \"application/envoy\",\r\n\t\"exe.config\": \"text/xml\",\r\n\t\"fdf\": \"application/vnd.fdf\",\r\n\t\"fif\": \"application/fractals\",\r\n\t\"flr\": \"x-world/x-vrml\",\r\n\t\"flv\": \"video/x-flv\",\r\n\t\"gif\": \"image/gif\",\r\n\t\"gtar\": \"application/x-gtar\",\r\n\t\"gz\": \"application/x-gzip\",\r\n\t\"h\": \"text/plain\",\r\n\t\"hdf\": \"application/x-hdf\",\r\n\t\"hdml\": \"text/x-hdml\",\r\n\t\"hhc\": \"application/x-oleobject\",\r\n\t\"hlp\": \"application/winhlp\",\r\n\t\"hqx\": \"application/mac-binhex40\",\r\n\t\"hta\": \"application/hta\",\r\n\t\"htc\": \"text/x-component\",\r\n\t\"htm\": \"text/html\",\r\n\t\"html\": \"text/html\",\r\n\t\"htt\": \"text/webviewhtml\",\r\n\t\"hxt\": \"text/html\",\r\n\t\"ico\": \"image/x-icon\",\r\n\t\"ief\": \"image/ief\",\r\n\t\"iii\": \"application/x-iphone\",\r\n\t\"ins\": \"application/x-internet-signup\",\r\n\t\"isp\": \"application/x-internet-signup\",\r\n\t\"IVF\": \"video/x-ivf\",\r\n\t\"jar\": \"application/java-archive\",\r\n\t\"jck\": \"application/liquidmotion\",\r\n\t\"jcz\": \"application/liquidmotion\",\r\n\t\"jfif\": \"image/pjpeg\",\r\n\t\"jpe\": \"image/jpeg\",\r\n\t\"jpeg\": \"image/jpeg\",\r\n\t\"jpg\": \"image/jpeg\",\r\n\t\"js\": \"application/x-javascript\",\r\n\t\"jsx\": \"text/jscript\",\r\n\t\"latex\": \"application/x-latex\",\r\n\t\"lit\": \"application/x-ms-reader\",\r\n\t\"lsf\": \"video/x-la-asf\",\r\n\t\"lsx\": \"video/x-la-asf\",\r\n\t\"m13\": \"application/x-msmediaview\",\r\n\t\"m14\": \"application/x-msmediaview\",\r\n\t\"m1v\": \"video/mpeg\",\r\n\t\"m3u\": \"audio/x-mpegurl\",\r\n\t\"man\": \"application/x-troff-man\",\r\n\t\"manifest\": \"application/x-ms-manifest\",\r\n\t\"map\": \"text/plain\",\r\n\t\"mdb\": \"application/x-msaccess\",\r\n\t\"me\": \"application/x-troff-me\",\r\n\t\"mht\": \"message/rfc822\",\r\n\t\"mhtml\": \"message/rfc822\",\r\n\t\"mid\": \"audio/mid\",\r\n\t\"midi\": \"audio/mid\",\r\n\t\"mmf\": \"application/x-smaf\",\r\n\t\"mno\": \"text/xml\",\r\n\t\"mny\": \"application/x-msmoney\",\r\n\t\"mov\": \"video/quicktime\",\r\n\t\"movie\": \"video/x-sgi-movie\",\r\n\t\"mp2\": \"video/mpeg\",\r\n\t\"mp3\": \"audio/mpeg\",\r\n\t\"mpa\": \"video/mpeg\",\r\n\t\"mpe\": \"video/mpeg\",\r\n\t\"mpeg\": \"video/mpeg\",\r\n\t\"mpg\": \"video/mpeg\",\r\n\t\"mpp\": \"application/vnd.ms-project\",\r\n\t\"mpv2\": \"video/mpeg\",\r\n\t\"ms\": \"application/x-troff-ms\",\r\n\t\"mvb\": \"application/x-msmediaview\",\r\n\t\"mvc\": \"application/x-miva-compiled\",\r\n\t\"nc\": \"application/x-netcdf\",\r\n\t\"nsc\": \"video/x-ms-asf\",\r\n\t\"nws\": \"message/rfc822\",\r\n\t\"oda\": \"application/oda\",\r\n\t\"odc\": \"text/x-ms-odc\",\r\n\t\"ods\": \"application/oleobject\",\r\n\t\"one\": \"application/onenote\",\r\n\t\"onea\": \"application/onenote\",\r\n\t\"onetoc\": \"application/onenote\",\r\n\t\"onetoc2\": \"application/onenote\",\r\n\t\"onetmp\": \"application/onenote\",\r\n\t\"onepkg\": \"application/onenote\",\r\n\t\"osdx\": \"application/opensearchdescription+xml\",\r\n\t\"p10\": \"application/pkcs10\",\r\n\t\"p12\": \"application/x-pkcs12\",\r\n\t\"p7b\": \"application/x-pkcs7-certificates\",\r\n\t\"p7c\": \"application/pkcs7-mime\",\r\n\t\"p7m\": \"application/pkcs7-mime\",\r\n\t\"p7r\": \"application/x-pkcs7-certreqresp\",\r\n\t\"p7s\": \"application/pkcs7-signature\",\r\n\t\"pbm\": \"image/x-portable-bitmap\",\r\n\t\"pdf\": \"application/pdf\",\r\n\t\"pfx\": \"application/x-pkcs12\",\r\n\t\"pgm\": \"image/x-portable-graymap\",\r\n\t\"pko\": \"application/vnd.ms-pki.pko\",\r\n\t\"pma\": \"application/x-perfmon\",\r\n\t\"pmc\": \"application/x-perfmon\",\r\n\t\"pml\": \"application/x-perfmon\",\r\n\t\"pmr\": \"application/x-perfmon\",\r\n\t\"pmw\": \"application/x-perfmon\",\r\n\t\"png\": \"image/png\",\r\n\t\"pnm\": \"image/x-portable-anymap\",\r\n\t\"pnz\": \"image/png\",\r\n\t\"pot\": \"application/vnd.ms-powerpoint\",\r\n\t\"potm\": \"application/vnd.ms-powerpoint.template.macroEnabled.12\",\r\n\t\"potx\": \"application/vnd.openxmlformats-officedocument.presentationml.template\",\r\n\t\"ppam\": \"application/vnd.ms-powerpoint.addin.macroEnabled.12\",\r\n\t\"ppm\": \"image/x-portable-pixmap\",\r\n\t\"pps\": \"application/vnd.ms-powerpoint\",\r\n\t\"ppsm\": \"application/vnd.ms-powerpoint.slideshow.macroEnabled.12\",\r\n\t\"ppsx\": \"application/vnd.openxmlformats-officedocument.presentationml.slideshow\",\r\n\t\"ppt\": \"application/vnd.ms-powerpoint\",\r\n\t\"pptm\": \"application/vnd.ms-powerpoint.presentation.macroEnabled.12\",\r\n\t\"pptx\": \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\r\n\t\"prf\": \"application/pics-rules\",\r\n\t\"ps\": \"application/postscript\",\r\n\t\"pub\": \"application/x-mspublisher\",\r\n\t\"qt\": \"video/quicktime\",\r\n\t\"qtl\": \"application/x-quicktimeplayer\",\r\n\t\"ra\": \"audio/x-pn-realaudio\",\r\n\t\"ram\": \"audio/x-pn-realaudio\",\r\n\t\"ras\": \"image/x-cmu-raster\",\r\n\t\"rf\": \"image/vnd.rn-realflash\",\r\n\t\"rgb\": \"image/x-rgb\",\r\n\t\"rm\": \"application/vnd.rn-realmedia\",\r\n\t\"rmi\": \"audio/mid\",\r\n\t\"roff\": \"application/x-troff\",\r\n\t\"rpm\": \"audio/x-pn-realaudio-plugin\",\r\n\t\"rtf\": \"application/rtf\",\r\n\t\"rtx\": \"text/richtext\",\r\n\t\"scd\": \"application/x-msschedule\",\r\n\t\"sct\": \"text/scriptlet\",\r\n\t\"setpay\": \"application/set-payment-initiation\",\r\n\t\"setreg\": \"application/set-registration-initiation\",\r\n\t\"sgml\": \"text/sgml\",\r\n\t\"sh\": \"application/x-sh\",\r\n\t\"shar\": \"application/x-shar\",\r\n\t\"sit\": \"application/x-stuffit\",\r\n\t\"sldm\": \"application/vnd.ms-powerpoint.slide.macroEnabled.12\",\r\n\t\"sldx\": \"application/vnd.openxmlformats-officedocument.presentationml.slide\",\r\n\t\"smd\": \"audio/x-smd\",\r\n\t\"smx\": \"audio/x-smd\",\r\n\t\"smz\": \"audio/x-smd\",\r\n\t\"snd\": \"audio/basic\",\r\n\t\"spc\": \"application/x-pkcs7-certificates\",\r\n\t\"spl\": \"application/futuresplash\",\r\n\t\"src\": \"application/x-wais-source\",\r\n\t\"ssm\": \"application/streamingmedia\",\r\n\t\"sst\": \"application/vnd.ms-pki.certstore\",\r\n\t\"stl\": \"application/vnd.ms-pki.stl\",\r\n\t\"sv4cpio\": \"application/x-sv4cpio\",\r\n\t\"sv4crc\": \"application/x-sv4crc\",\r\n\t\"svg\": \"image/svg+xml\",\r\n\t\"swf\": \"application/x-shockwave-flash\",\r\n\t\"t\": \"application/x-troff\",\r\n\t\"tar\": \"application/x-tar\",\r\n\t\"tcl\": \"application/x-tcl\",\r\n\t\"tex\": \"application/x-tex\",\r\n\t\"texi\": \"application/x-texinfo\",\r\n\t\"texinfo\": \"application/x-texinfo\",\r\n\t\"tgz\": \"application/x-compressed\",\r\n\t\"thmx\": \"application/vnd.ms-officetheme\",\r\n\t\"tif\": \"image/tiff\",\r\n\t\"tiff\": \"image/tiff\",\r\n\t\"tr\": \"application/x-troff\",\r\n\t\"trm\": \"application/x-msterminal\",\r\n\t\"tsv\": \"text/tab-separated-values\",\r\n\t\"txt\": \"text/plain\",\r\n\t\"uls\": \"text/iuls\",\r\n\t\"ustar\": \"application/x-ustar\",\r\n\t\"vbs\": \"text/vbscript\",\r\n\t\"vcf\": \"text/x-vcard\",\r\n\t\"vcs\": \"text/plain\",\r\n\t\"vdx\": \"application/vnd.ms-visio.viewer\",\r\n\t\"vml\": \"text/xml\",\r\n\t\"vsd\": \"application/vnd.visio\",\r\n\t\"vss\": \"application/vnd.visio\",\r\n\t\"vst\": \"application/vnd.visio\",\r\n\t\"vsto\": \"application/x-ms-vsto\",\r\n\t\"vsw\": \"application/vnd.visio\",\r\n\t\"vsx\": \"application/vnd.visio\",\r\n\t\"vtx\": \"application/vnd.visio\",\r\n\t\"wav\": \"audio/wav\",\r\n\t\"wax\": \"audio/x-ms-wax\",\r\n\t\"wbmp\": \"image/vnd.wap.wbmp\",\r\n\t\"wcm\": \"application/vnd.ms-works\",\r\n\t\"wdb\": \"application/vnd.ms-works\",\r\n\t\"wks\": \"application/vnd.ms-works\",\r\n\t\"wm\": \"video/x-ms-wm\",\r\n\t\"wma\": \"audio/x-ms-wma\",\r\n\t\"wmd\": \"application/x-ms-wmd\",\r\n\t\"wmf\": \"application/x-msmetafile\",\r\n\t\"wml\": \"text/vnd.wap.wml\",\r\n\t\"wmlc\": \"application/vnd.wap.wmlc\",\r\n\t\"wmls\": \"text/vnd.wap.wmlscript\",\r\n\t\"wmlsc\": \"application/vnd.wap.wmlscriptc\",\r\n\t\"wmp\": \"video/x-ms-wmp\",\r\n\t\"wmv\": \"video/x-ms-wmv\",\r\n\t\"wmx\": \"video/x-ms-wmx\",\r\n\t\"wmz\": \"application/x-ms-wmz\",\r\n\t\"wps\": \"application/vnd.ms-works\",\r\n\t\"wri\": \"application/x-mswrite\",\r\n\t\"wrl\": \"x-world/x-vrml\",\r\n\t\"wrz\": \"x-world/x-vrml\",\r\n\t\"wsdl\": \"text/xml\",\r\n\t\"wvx\": \"video/x-ms-wvx\",\r\n\t\"x\": \"application/directx\",\r\n\t\"xaf\": \"x-world/x-vrml\",\r\n\t\"xaml\": \"application/xaml+xml\",\r\n\t\"xap\": \"application/x-silverlight-app\",\r\n\t\"xbap\": \"application/x-ms-xbap\",\r\n\t\"xbm\": \"image/x-xbitmap\",\r\n\t\"xdr\": \"text/plain\",\r\n\t\"xht\": \"application/xhtml+xml\",\r\n\t\"xhtml\": \"application/xhtml+xml\",\r\n\t\"xla\": \"application/vnd.ms-excel\",\r\n\t\"xlam\": \"application/vnd.ms-excel.addin.macroEnabled.12\",\r\n\t\"xlc\": \"application/vnd.ms-excel\",\r\n\t\"xlm\": \"application/vnd.ms-excel\",\r\n\t\"xls\": \"application/vnd.ms-excel\",\r\n\t\"xlsb\": \"application/vnd.ms-excel.sheet.binary.macroEnabled.12\",\r\n\t\"xlsm\": \"application/vnd.ms-excel.sheet.macroEnabled.12\",\r\n\t\"xlsx\": \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n\t\"xlt\": \"application/vnd.ms-excel\",\r\n\t\"xltm\": \"application/vnd.ms-excel.template.macroEnabled.12\",\r\n\t\"xltx\": \"application/vnd.openxmlformats-officedocument.spreadsheetml.template\",\r\n\t\"xlw\": \"application/vnd.ms-excel\",\r\n\t\"xml\": \"text/xml\",\r\n\t\"xof\": \"x-world/x-vrml\",\r\n\t\"xpm\": \"image/x-xpixmap\",\r\n\t\"xps\": \"application/vnd.ms-xpsdocument\",\r\n\t\"xsd\": \"text/xml\",\r\n\t\"xsf\": \"text/xml\",\r\n\t\"xsl\": \"text/xml\",\r\n\t\"xslt\": \"text/xml\",\r\n\t\"xwd\": \"image/x-xwindowdump\",\r\n\t\"z\": \"application/x-compress\",\r\n\t\"zip\": \"application/x-zip-compressed\"\r\n}","import {MIME_BINARY_DEFAULT, MIME_EXTENSION_MAP} from \"./MIME.js\";\r\n\r\n/**\r\n * 解析文件扩展名（不包含点，格式如：jpg）\r\n * @param {string} fileName\r\n * @return {string}\r\n */\r\nexport const resolveFileExtension = fileName => {\r\n\tif(fileName.indexOf('.') < 0){\r\n\t\treturn '';\r\n\t}\r\n\tlet segList = fileName.split('.');\r\n\treturn segList[segList.length - 1];\r\n}\r\n\r\n/**\r\n * 根据扩展名获取对应MIME\r\n * @param {String} ext 扩展名（不包含点符号 @see https://en.wikipedia.org/wiki/Filename_extension）\r\n * @param defaultMIME\r\n * @return {String}\r\n */\r\nexport const getMimeByExtension = (ext, defaultMIME = MIME_BINARY_DEFAULT) => {\r\n\treturn MIME_EXTENSION_MAP[ext] || defaultMIME;\r\n}\r\n\r\n/**\r\n * 获取文件名\r\n * @param {string} fileName\r\n * @return {string}\r\n */\r\nexport const resolveFileName = (fileName) => {\r\n\tfileName = fileName.replace(/.*?[/|\\\\]/ig, '');\r\n\treturn fileName.replace(/\\.[^.]*$/g, \"\");\r\n};\r\n\r\n/**\r\n * 检测文件mime是否匹配定义的accept字符串\r\n * @param {String} fileMime 文件类型（格式如：image/png）\r\n * @param {String} acceptStr accept字符串，支持逗号分隔，如 image/*,image/png\r\n * @return {Boolean}\r\n */\r\nexport const fileAcceptMath = (fileMime, acceptStr)=>{\r\n\treturn !!(acceptStr.replace(/\\s/g, '').split(',').filter(ac=>{\r\n\t\treturn new RegExp(ac.replace('*', '.*')).test(fileMime);\r\n\t}).length);\r\n};\r\n\r\n/**\r\n * 逐行读取文件\r\n * @param {File} file\r\n * @param {Function} linePayload 参数(string) 逐行处理函数，返回 false 表示中断读取\r\n * @param {Function} onFinish 完成回调函数\r\n * @param {Function} onError 错误回调函数\r\n */\r\nexport const readFileInLine = (file, linePayload, onFinish = null, onError = null) => {\r\n\tconst CHUNK_SIZE = 1024;\r\n\tconst reader = new FileReader();\r\n\r\n\tlet offset = 0;\r\n\tlet line_buff = '';\r\n\tconst seek = () => {\r\n\t\tif(offset < file.size){\r\n\t\t\tlet slice = file.slice(offset, offset + CHUNK_SIZE);\r\n\t\t\treader.readAsArrayBuffer(slice);\r\n\t\t\toffset += CHUNK_SIZE;\r\n\t\t}else{\r\n\t\t\tonFinish();\r\n\t\t}\r\n\t}\r\n\treader.onload = evt => {\r\n\t\tline_buff += new TextDecoder().decode(new Uint8Array(reader.result))\r\n\t\tif(line_buff.indexOf(\"\\n\") >= 0){\r\n\t\t\tlet break_down = false;\r\n\t\t\tlet lines = line_buff.split(\"\\n\");\r\n\t\t\tline_buff = lines.pop();\r\n\t\t\tlines.find(line => {\r\n\t\t\t\tif(linePayload(line) === false){\r\n\t\t\t\t\tbreak_down = true;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(break_down){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tseek();\r\n\t}\r\n\treader.onerror = (err) => {\r\n\t\tconsole.error(err);\r\n\t\tonError(err);\r\n\t}\r\n\tseek();\r\n}\r\n\r\n/**\r\n * 图片对象转换成文件对象\r\n * @param {Image} img\r\n * @param {Object} fileAttr 额外文件属性\r\n * @return {Promise<File>}\r\n */\r\nexport const imgToFile = (img, fileAttr = {}) => {\r\n\tconst name = fileAttr.name || img.alt || 'image';\r\n\treturn new Promise(resolve => {\r\n\t\tfetch(img.src).then(res => res.blob()).then(blob => {\r\n\t\t\tresolve(blobToFile(blob, {name, lastModified: fileAttr.lastModified}));\r\n\t\t})\r\n\t})\r\n}\r\n\r\n/**\r\n * 文件对象转换成Image对象\r\n * @param {File} file\r\n * @return {Promise<Image>}\r\n */\r\nexport const fileToImg = (file) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst img = new Image();\r\n\t\timg.src = URL.createObjectURL(file);\r\n\t\timg.onload = () => {\r\n\t\t\tif(file.name){\r\n\t\t\t\timg.alt = file.name;\r\n\t\t\t}\r\n\t\t\tresolve(img);\r\n\t\t\tURL.revokeObjectURL(file);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\n/**\r\n * 转换 webp, avif 格式图片为jpg\r\n * @param {File} file 图片文件（如果文件不是图片，可能出错）\r\n * @param {String} toFormat 目标格式：jpeg, png, gif 等\r\n * @param {String|null} newName 新文件名称，缺省为 file.{ext}\r\n * @return {Promise<File>}\r\n */\r\nexport const imageFileFormatConvert = (file, toFormat, newName = null) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet img = new Image();\r\n\t\timg.onload = () => {\r\n\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\tcanvas.width = img.naturalWidth;\r\n\t\t\tcanvas.height = img.naturalHeight;\r\n\t\t\tcanvas.getContext('2d').drawImage(img, 0, 0);\r\n\t\t\tlet blobBin = atob(canvas.toDataURL().split(',')[1]);\r\n\t\t\tlet arr = [];\r\n\t\t\tfor(let i = 0; i < blobBin.length; i++){\r\n\t\t\t\tarr.push(blobBin.charCodeAt(i));\r\n\t\t\t}\r\n\t\t\tnewName = newName || `file.${toFormat}`;\r\n\t\t\tlet pngFile = blobToFile(new Blob([new Uint8Array(arr)], {type: `image/${toFormat}`}), {name: newName});\r\n\t\t\tresolve(pngFile);\r\n\t\t}\r\n\t\timg.onerror = ()=>{\r\n\t\t\treject('image convert error');\r\n\t\t}\r\n\t\timg.src = URL.createObjectURL(file);\r\n\t});\r\n}\r\n\r\n/**\r\n * 转换blob为文件对象\r\n * @param {Blob} blob\r\n * @param {Object} fileAttr 文件属性信息(如name,lastModified)\r\n * @return {File}\r\n */\r\nexport const blobToFile = (blob, fileAttr = {}) => {\r\n\tfileAttr = Object.assign({\r\n\t\tname: 'file',\r\n\t\tlastModified: Date.now()\r\n\t}, fileAttr)\r\n\treturn new File([blob], fileAttr.name, {\r\n\t\tlastModified: fileAttr.lastModified,\r\n\t\ttype: fileAttr.type || blob.type\r\n\t});\r\n}","import {getMimeByExtension, resolveFileExtension, resolveFileName} from \"./File.js\";\r\nimport {BizEvent} from \"./Event.js\";\r\nimport {remove} from \"./Dom.js\";\r\nimport {regQuote} from \"./String.js\";\r\nimport {MIME_BINARY_DEFAULT} from \"./MIME.js\";\r\nimport {isObject} from \"./Util.js\";\r\n\r\n/**\r\n * HTTP请求方法\r\n * @type {{TRACE: string, HEAD: string, DELETE: string, POST: string, GET: string, CONNECT: string, OPTIONS: string, PUT: string}}\r\n */\r\nexport const HTTP_METHOD = {\r\n\tGET: 'GET',\r\n\tPOST: 'POST',\r\n\tPUT: 'PUT',\r\n\tDELETE: 'DELETE',\r\n\tOPTIONS: 'OPTIONS',\r\n\tHEAD: 'HEAD',\r\n\tCONNECT: 'CONNECT',\r\n\tTRACE: 'TRACE',\r\n\r\n\t/**\r\n\t * 解析请求方法，为空返回 GET\r\n\t * @param {String|Null} method\r\n\t * @return {string}\r\n\t */\r\n\tresolve: method => {\r\n\t\tif(!method){\r\n\t\t\treturn HTTP_METHOD.GET;\r\n\t\t}\r\n\t\tlet upMethod = method.toUpperCase();\r\n\t\tif(!HTTP_METHOD[upMethod]){\r\n\t\t\tthrow `method no found: ${method}`;\r\n\t\t}\r\n\t\treturn HTTP_METHOD[upMethod];\r\n\t}\r\n};\r\n\r\n/**\r\n * 请求格式\r\n * @type {{FORM: string, JSON: string}}\r\n */\r\nexport const REQUEST_FORMAT = {\r\n\tJSON: 'JSON',\r\n\tFORM: 'FORM',\r\n}\r\n\r\n/**\r\n * 响应格式\r\n * @type {{XML: string, JSON: string, HTML: string, TEXT: string}}\r\n */\r\nexport const RESPONSE_FORMAT = {\r\n\tJSON: 'JSON',\r\n\tXML: 'XML',\r\n\tHTML: 'HTML',\r\n\tTEXT: 'TEXT',\r\n}\r\n\r\n/**\r\n * 合并请求参数\r\n * @param {String} uri\r\n * @param {String|Object} data\r\n * @returns {*}\r\n */\r\nexport const mergerUriParam = (uri, data) => {\r\n\tif(data === null ||\r\n\t\tdata === undefined ||\r\n\t\t(Array.isArray(data) && data.length === 0) ||\r\n\t\t(typeof (data) === 'string' && data.length === 0)\r\n\t){\r\n\t\treturn uri;\r\n\t}\r\n\treturn uri + (uri.indexOf('?') >= 0 ? '&' : '?') + QueryString.stringify(data);\r\n}\r\n\r\nexport const setHash = data => {\r\n\tlocation.href = location.href.replace(/#.*$/g, '') + '#' + QueryString.stringify(data);\r\n}\r\n\r\nexport const getHash = () => {\r\n\treturn location.hash ? location.hash.substring(1) : '';\r\n}\r\n\r\nconst CODE_ABORT = 509;\r\nconst DEFAULT_TIMEOUT = 0;\r\n\r\n/**\r\n * 请求格式对应的 Content-Type\r\n * @type {{}}\r\n */\r\nconst REQUEST_CONTENT_TYPE_MAP = {\r\n\t[REQUEST_FORMAT.JSON]: 'application/json',\r\n\t[REQUEST_FORMAT.FORM]: 'application/x-www-form-urlencoded',\r\n};\r\n\r\n/**\r\n * 请求数据格式处理\r\n * @type {{}}\r\n */\r\nconst REQUEST_DATA_HANDLE_MAP = {\r\n\t[REQUEST_FORMAT.JSON]: (data, method) => {\r\n\t\tif(method === HTTP_METHOD.GET){\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tif(data instanceof FormData){\r\n\t\t\tlet obj = {};\r\n\t\t\tdata.forEach((v, k) => {\r\n\t\t\t\tobj[k] = v;\r\n\t\t\t});\r\n\t\t\treturn JSON.stringify(obj);\r\n\t\t}\r\n\t\treturn JSON.stringify(data);\r\n\t},\r\n\t[REQUEST_FORMAT.FORM]: (data, method) => {\r\n\t\tif(method === HTTP_METHOD.GET){\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\treturn data instanceof FormData ? data : QueryString.stringify(data);\r\n\t}\r\n};\r\n\r\n/**\r\n * 响应格式对应的 Accept 头\r\n * @type {{}}\r\n */\r\nconst RESPONSE_ACCEPT_TYPE_MAP = {\r\n\t[RESPONSE_FORMAT.JSON]: 'application/json',\r\n\t[RESPONSE_FORMAT.XML]: 'text/xml',\r\n\t[RESPONSE_FORMAT.HTML]: 'text/html',\r\n\t[RESPONSE_FORMAT.TEXT]: 'text/plain',\r\n};\r\n\r\n/**\r\n * 转换数据到FormData\r\n * @param {*} data\r\n * @return {FormData}\r\n */\r\nconst dataToFormData = (data) => {\r\n\tlet fd = new FormData;\r\n\tif(!data){\r\n\t\treturn fd;\r\n\t}\r\n\tif(typeof (data) === 'string'){\r\n\t\tlet dataMap = QueryString.parse(data);\r\n\t\tfor(let k in dataMap){\r\n\t\t\tfd.append(k, dataMap[k]);\r\n\t\t}\r\n\t\treturn fd;\r\n\t}else if(data.toString().indexOf('FormData') >= 0){\r\n\t\tdata.forEach((val, name) => {\r\n\t\t\tfd.append(name, val);\r\n\t\t});\r\n\t\treturn fd;\r\n\t}else if(typeof (data) === 'object'){\r\n\t\tfor(let k in data){\r\n\t\t\tfd.append(k, data[k]);\r\n\t\t}\r\n\t\treturn fd;\r\n\t}\r\n\tlet err = \"Convert data to FormData fail\";\r\n\tconsole.error(err, data);\r\n\tthrow err;\r\n}\r\n\r\n/**\r\n * JSON方式请求\r\n * @param {String} url\r\n * @param {Object|String} data 数据，当前仅支持对象或queryString\r\n * @param {String} method\r\n * @param {Object} option\r\n * @param {String} option.timeout 请求超时时间（ms）超过指定时间将主动断开链接，0 表示不设置超时时间。\r\n * @param {String} option.timeoutCallback 超时回调\r\n * @param {String} option.requestFormat 请求类型（FORM_DATA|JSON） 默认为 REQUEST_FORMAT.JSON 格式\r\n * @param {String} option.responseFormat 响应类型（JSON）默认为 RESPONSE_FORMAT.JSON 格式，暂不支持其他类型\r\n * @return {Promise<unknown>}\r\n */\r\nexport const requestJSON = (url, data, method = HTTP_METHOD.GET, option = {}) => {\r\n\treturn HTTP_METHOD.resolve(method) === HTTP_METHOD.GET ?\r\n\t\tNet.getJSON(url, data, option) :\r\n\t\tNet.postJSON(url, data, option);\r\n}\r\n\r\n/**\r\n * XHR 网络请求\r\n */\r\nexport class Net {\r\n\tcgi = null; //请求接口\r\n\tdata = null; //请求数据\r\n\tfileMap = null;\r\n\toption = {\r\n\t\tmethod: HTTP_METHOD.GET, //请求方法\r\n\t\ttimeout: DEFAULT_TIMEOUT, //超时时间(毫秒)(超时将纳入onError处理)\r\n\t\trequestFormat: REQUEST_FORMAT.FORM, //缺省请求数据格式为 FORM\r\n\t\tresponseFormat: RESPONSE_FORMAT.TEXT, //响应数据格式\r\n\t\theaders: {}, //请求头部信息\r\n\t};\r\n\txhr = null;\r\n\r\n\tonError = new BizEvent(); //(error,code)\r\n\tonResponse = new BizEvent(); //(body || object)\r\n\tonStateChange = new BizEvent(); //(state) http 状态码\r\n\tonProgress = new BizEvent(); //(loadedBytes, totalBytes)\r\n\r\n\t/**\r\n\t * 构造器\r\n\t * @param {String} cgi 请求URL\r\n\t * @param {*} data 请求发送数据\r\n\t * @param {Object} option 选项\r\n\t * @param {Object|null} fileMap 发送文件map\r\n\t */\r\n\tconstructor(cgi, data, option = {}, fileMap = null){\r\n\t\tthis.cgi = cgi;\r\n\t\tthis.data = data;\r\n\t\tthis.fileMap = fileMap;\r\n\t\tthis.option = {\r\n\t\t\t...this.option,\r\n\t\t\t...option\r\n\t\t};\r\n\r\n\t\t//修正请求方法\r\n\t\tthis.option.method = HTTP_METHOD.resolve(this.option.method);\r\n\r\n\t\t//文件上传，强制选项：POST，去除ContentType（浏览器默认 multipart/form-data; boundary=***\r\n\t\tif(this.fileMap){\r\n\t\t\tthis.option.method = HTTP_METHOD.POST;\r\n\t\t\tthis.option.requestFormat = null;\r\n\t\t}\r\n\r\n\t\t//patch GET request parameter\r\n\t\tif(this.option.method === HTTP_METHOD.GET && this.data){\r\n\t\t\tthis.cgi = mergerUriParam(this.cgi, this.data);\r\n\t\t}\r\n\t\tthis.xhr = new XMLHttpRequest();\r\n\t\tthis.xhr.withCredentials = true;\r\n\t\tthis.xhr.open(this.option.method, this.cgi, true);\r\n\t\tthis.xhr.addEventListener(\"progress\", e => {\r\n\t\t\te.lengthComputable && this.onProgress.fire(e.loaded, e.total);\r\n\t\t});\r\n\t\tif(this.xhr.upload){\r\n\t\t\tthis.xhr.upload.onprogress = e => {\r\n\t\t\t\te.lengthComputable && this.onProgress.fire(e.loaded, e.total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.xhr.onreadystatechange = () => {\r\n\t\t\tthis.onStateChange.fire(this.xhr.status);\r\n\t\t}\r\n\t\tthis.xhr.addEventListener(\"load\", e => {\r\n\t\t\tif(this.xhr.readyState === 4){\r\n\t\t\t\tif(this.xhr.status === 200){\r\n\t\t\t\t\tthis.onProgress.fire(e.loaded || e.total, e.total); //fix loaded == 0 in onload event\r\n\t\t\t\t\tlet ret;\r\n\t\t\t\t\tswitch(option.responseFormat){\r\n\t\t\t\t\t\tcase RESPONSE_FORMAT.JSON:\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tret = JSON.parse(this.xhr.responseText);\r\n\t\t\t\t\t\t\t}catch(err){\r\n\t\t\t\t\t\t\t\tconsole.error('response', this.xhr.responseText);\r\n\t\t\t\t\t\t\t\tthis.onError.fire('JSON解析失败：' + err, this.xhr.status);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase RESPONSE_FORMAT.XML:\r\n\t\t\t\t\t\tcase RESPONSE_FORMAT.TEXT:\r\n\t\t\t\t\t\tcase RESPONSE_FORMAT.HTML:\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tret = this.xhr.responseText\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onResponse.fire(ret);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.onError.fire(this.xhr.responseText || this.xhr.statusText);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.xhr.addEventListener(\"error\", () => {\r\n\t\t\tthis.onError.fire(this.xhr.statusText, this.xhr.status);\r\n\t\t});\r\n\t\tthis.xhr.addEventListener(\"abort\", () => {\r\n\t\t\tthis.abort();\r\n\t\t});\r\n\t\tif(this.option.requestFormat){\r\n\t\t\tthis.xhr.setRequestHeader('content-type', REQUEST_CONTENT_TYPE_MAP[this.option.requestFormat]);\r\n\t\t}\r\n\t\tif(this.option.responseFormat){\r\n\t\t\tthis.xhr.setRequestHeader('Accept', RESPONSE_ACCEPT_TYPE_MAP[this.option.responseFormat]);\r\n\t\t}\r\n\t\tfor(let key in this.option.headers){\r\n\t\t\tthis.xhr.setRequestHeader(key, this.option.headers[key]);\r\n\t\t}\r\n\t\tif(this.option.timeout){\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.abort('timeout');\r\n\t\t\t}, this.option.timeout);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 发送请求\r\n\t * 文件上传需要合并参数\r\n\t */\r\n\tsend(){\r\n\t\tif(this.fileMap){\r\n\t\t\tlet data = new FormData();\r\n\t\t\tfor(let name in this.fileMap){\r\n\t\t\t\tdata.append(name, this.fileMap[name]);\r\n\t\t\t}\r\n\t\t\tif(this.data){\r\n\t\t\t\tlet d = dataToFormData(this.data);\r\n\t\t\t\td.forEach((val, name) => {\r\n\t\t\t\t\tdata.append(name, val);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.xhr.send(data);\r\n\t\t}else{\r\n\t\t\tlet data = this.data ? REQUEST_DATA_HANDLE_MAP[this.option.requestFormat](this.data, this.option.method) : null;\r\n\t\t\tthis.xhr.send(data);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 终止请求\r\n\t */\r\n\tabort(reason = ''){\r\n\t\tthis.xhr.abort();\r\n\t\tthis.onError.fire(`Request abort(${reason})`, CODE_ABORT);\r\n\t}\r\n\r\n\tstatic get(cgi, data, option = {}){\r\n\t\toption.method = HTTP_METHOD.GET; //强制请求方法\r\n\t\treturn Net.request(cgi, data, option);\r\n\t}\r\n\r\n\t/**\r\n\t * 强制以JSON方式请求，并以JSON方式处理响应\r\n\t * @param cgi\r\n\t * @param data\r\n\t * @param option\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tstatic getJSON(cgi, data, option = {}){\r\n\t\t//强制，如果不适用请使用 get() 方法\r\n\t\toption.requestFormat = REQUEST_FORMAT.JSON;\r\n\t\toption.responseFormat = RESPONSE_FORMAT.JSON;\r\n\t\treturn Net.get(cgi, data, option);\r\n\t}\r\n\r\n\t/**\r\n\t * 请求JSONP\r\n\t * @param {String} url 请求URL\r\n\t * @param {String|Object} data 请求参数\r\n\t * @param {String} callback_name 回调函数名称，建议固定避免CSRF\r\n\t * @param {Number} timeout 超时时间（毫秒）\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tstatic getJSONP(url, data, callback_name = 'callback', timeout = 3000){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet tm = window.setTimeout(function(){\r\n\t\t\t\twindow[callback_name] = function(){\r\n\t\t\t\t};\r\n\t\t\t\treject(`timeout in ${timeout}ms`);\r\n\t\t\t}, timeout);\r\n\r\n\t\t\twindow[callback_name] = function(data){\r\n\t\t\t\twindow.clearTimeout(tm);\r\n\t\t\t\tresolve(data);\r\n\t\t\t}\r\n\r\n\t\t\tlet script = document.createElement('script');\r\n\t\t\tscript.type = 'text/javascript';\r\n\t\t\tscript.async = true;\r\n\t\t\tscript.src = mergerUriParam(url, data);\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\r\n\t\t});\r\n\t}\r\n\r\n\tstatic post(cgi, data, option = {}){\r\n\t\toption.method = HTTP_METHOD.POST; //强制请求方法\r\n\t\treturn Net.request(cgi, data, option);\r\n\t}\r\n\r\n\t/**\r\n\t * 强制以JSON方式请求，并以JSON方式处理响应\r\n\t * @param cgi\r\n\t * @param data\r\n\t * @param option\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tstatic postJSON(cgi, data, option = {}){\r\n\t\toption.requestFormat = REQUEST_FORMAT.JSON;\r\n\t\toption.responseFormat = RESPONSE_FORMAT.JSON;\r\n\t\treturn Net.post(cgi, data, option);\r\n\t}\r\n\r\n\t/**\r\n\t * 上传文件（缺省采用post方式，服务器响应JSON）\r\n\t * @param {String} url\r\n\t * @param {Object} fileMap\r\n\t * @param {Object|null} data\r\n\t * @param {Object} option\r\n\t * @return {Net}\r\n\t */\r\n\tstatic uploadFile = (url, fileMap, data = null, option = {}) => {\r\n\t\tlet n = new Net(url, data, option, fileMap);\r\n\t\t//异步发送，外部可以对n绑定事件\r\n\t\tsetTimeout(() => {\r\n\t\t\tn.send();\r\n\t\t}, 0);\r\n\t\treturn n;\r\n\t}\r\n\r\n\t/**\r\n\t * 请求\r\n\t * @param cgi\r\n\t * @param data\r\n\t * @param option\r\n\t * @param fileMap\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tstatic request(cgi, data, option = {}, fileMap = null){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet req = new Net(cgi, data, option, fileMap);\r\n\t\t\treq.onResponse.listen(ret => {\r\n\t\t\t\tresolve(ret);\r\n\t\t\t});\r\n\t\t\treq.onError.listen(error => {\r\n\t\t\t\treject(error);\r\n\t\t\t});\r\n\t\t\treq.send();\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n * 下载字符串\r\n * @param {String} string 字符串（文件内容）\r\n * @param {String} fileName 文件名\r\n * @param {String} fileMime 文件类型MIME，缺省为自动从文件名后缀中识别\r\n */\r\nexport const downloadString = (string, fileName, fileMime = '') => {\r\n\tfileMime = fileMime || getMimeByExtension(resolveFileExtension(fileName) || 'txt', MIME_BINARY_DEFAULT);\r\n\tlet blob = new Blob([string], {type: fileMime});\r\n\tlet a = document.createElement('a');\r\n\ta.download = fileName;\r\n\ta.href = URL.createObjectURL(blob);\r\n\ta.dataset.downloadurl = [fileMime, a.download, a.href].join(':');\r\n\ta.style.display = \"none\";\r\n\tdocument.body.appendChild(a);\r\n\ta.click();\r\n\tdocument.body.removeChild(a);\r\n\tsetTimeout(function(){\r\n\t\tURL.revokeObjectURL(a.href);\r\n\t}, 1500);\r\n}\r\n\r\n/**\r\n * 文件下载\r\n * 注意：在浏览器中如果非同域，自定义保存名称无效\r\n * @param url 文件地址\r\n * @param saveName 保存名称（包含扩展名，为空表示自动从src中提取）\r\n */\r\nexport const downloadFile = (url, saveName = '') => {\r\n\tif(!saveName){\r\n\t\tsaveName = resolveFileName(url) + '.' + resolveFileExtension(url);\r\n\t}\r\n\tlet link = document.createElement('a');\r\n\tlink.rel = 'noopener noreferrer';\r\n\tlink.target = '_blank';\r\n\tlink.href = url;\r\n\tlink.download = saveName;\r\n\tdocument.body.appendChild(link);\r\n\tlink.click();\r\n\tremove(link);\r\n};\r\n\r\n/**\r\n * 批量文件下载（由于chrome浏览器最多只能一次事件触发下载10个，超过10个需要异步下载）\r\n * @param {String[]|Object[]} urls\r\n * @param {String} urls.name\r\n * @param {String} urls.url\r\n * @param {Function|Null} itemCallback\r\n */\r\nexport const downloadFiles = (urls, itemCallback = null) => {\r\n\tlet loop = () => {\r\n\t\tlet item = urls.pop();\r\n\t\tlet name = '';\r\n\t\tlet url = '';\r\n\t\tif(isObject(item)){\r\n\t\t\turl = item.url;\r\n\t\t\tname = item.name;\r\n\t\t} else {\r\n\t\t\turl = item;\r\n\t\t}\r\n\t\tdownloadFile(url, name);\r\n\t\titemCallback && itemCallback(item);\r\n\t\tif(urls.length){\r\n\t\t\tsetTimeout(loop, 50);\r\n\t\t}\r\n\t}\r\n\tloop();\r\n}\r\n\r\nexport const QueryString = {\r\n\tparse(str){\r\n\t\tif(str[0] === '?'){\r\n\t\t\tstr = str.substring(1);\r\n\t\t}\r\n\t\tlet retObj = {};\r\n\t\tlet qs = str.split('&');\r\n\t\tqs.forEach(q => {\r\n\t\t\tlet [k, v] = q.split('=');\r\n\t\t\tif(!k.length){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tretObj[decodeURIComponent(k)] = decodeURIComponent(v);\r\n\t\t});\r\n\t\treturn retObj;\r\n\t},\r\n\r\n\t/**\r\n\t * 替换制定URL中变量\r\n\t * @param {String} queryString\r\n\t * @param {String} key\r\n\t * @param {String} newValue\r\n\t * @return {string}\r\n\t */\r\n\treplace(queryString, key, newValue){\r\n\t\tif(!new RegExp('[?&]' + regQuote(key) + '=').test(queryString)){\r\n\t\t\treturn queryString + (queryString.indexOf('?') >= 0 ? '&' : '?') + encodeURIComponent(key) + '=' + encodeURIComponent(newValue);\r\n\t\t}\r\n\t\treturn queryString.replace(new RegExp('([?&])(' + encodeURIComponent(key) + '=)[^\\\\&]+'), '$1$2' + encodeURIComponent(newValue));\r\n\t},\r\n\r\n\tstringify(data){\r\n\t\tif(typeof (data) === 'undefined' || typeof (data) !== 'object'){\r\n\t\t\treturn data\r\n\t\t}\r\n\t\tlet query = []\r\n\t\tfor(let param in data){\r\n\t\t\tif(data.hasOwnProperty(param)){\r\n\t\t\t\tif(data[param] === null){\r\n\t\t\t\t\tcontinue; //null数据不提交\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof (data[param]) === 'object' && data[param].length){\r\n\t\t\t\t\tdata[param].forEach(item => {\r\n\t\t\t\t\t\tquery.push(encodeURI(param + '=' + item))\r\n\t\t\t\t\t});\r\n\t\t\t\t}else if(typeof (data[param]) === 'object'){\r\n\t\t\t\t\t//todo 不处理子级object、空数组情况\r\n\t\t\t\t}else{\r\n\t\t\t\t\tquery.push(encodeURI(param + '=' + data[param]))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn query.join('&')\r\n\t}\r\n};\r\n\r\n/**\r\n * open link without referer\r\n * @param link\r\n * @returns {boolean}\r\n */\r\nexport const openLinkWithoutReferer = (link) => {\r\n\tlet instance = window.open(\"about:blank\");\r\n\tinstance.document.write(\"<meta http-equiv=\\\"refresh\\\" content=\\\"0;url=\" + link + \"\\\">\");\r\n\tinstance.document.close();\r\n\treturn false;\r\n};\r\n","import { findAll, isButton, lockElementInteraction, mutationEffective, onDomTreeChange } from \"./Dom.js\";\r\nimport {guid, mergeDeep} from \"./Util.js\";\r\nimport { Theme } from \"../Widget/Theme.js\";\r\nimport { isEquals, objectPushByPath } from \"./Array.js\";\r\nimport { requestJSON } from \"./Net.js\";\r\n\r\n/**\r\n * 检测元素是否可以输入（包含checkbox、radio类）\r\n * @param {HTMLElement} el\r\n * @returns {boolean}\r\n */\r\nexport const inputAble = el => {\r\n\tif (el instanceof HTMLInputElement ||\r\n\t\tel instanceof HTMLTextAreaElement) {\r\n\t\treturn !(el.disabled || //禁用\r\n\t\t\tel.readOnly || //只读\r\n\t\t\tel.tagName === 'BUTTON' || //按钮\r\n\t\t\t(el.tagName === 'INPUT' && ['hidden', 'button', 'submit', 'reset'].includes(el.type)) //特殊input\r\n\t\t);\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * 检测元素是否可以按键输入（文本型）\r\n * @param {HTMLElement} el\r\n * @returns {Boolean}\r\n */\r\nexport const inputTypeAble = (el) => {\r\n\treturn inputAble(el) && (\r\n\t\t['text', 'password', 'url', 'search', 'tel', 'address', 'number', 'date', 'datetime-local', 'month'].includes(el.type)\r\n\t\t|| el.tagName === 'TEXTAREA'\r\n\t);\r\n}\r\n\r\n/**\r\n * 获取form元素值。\r\n * 该函数过滤元素disabled情况，但不判断name是否存在\r\n * 针对多重选择，提取数据格式为数组\r\n * @param {HTMLFormElement} el\r\n * @returns {String|Array|Null} 元素值，元素不可用时返回null\r\n */\r\nexport const getElementValue = (el) => {\r\n\tif (el.disabled) {\r\n\t\treturn null;\r\n\t}\r\n\tif (el.tagName === 'INPUT' && (el.type === 'radio' || el.type === 'checkbox')) {\r\n\t\treturn el.checked ? el.value : null;\r\n\t}\r\n\tif (el.tagName === 'SELECT' && el.multiple) {\r\n\t\tlet vs = [];\r\n\t\tfindAll('option:checked', el).forEach(item => {\r\n\t\t\tvs.push(item.value);\r\n\t\t});\r\n\t\treturn vs;\r\n\t}\r\n\treturn el.value;\r\n}\r\n\r\n/**\r\n * 根据表单元素名称获取值\r\n * @param {String} name\r\n * @param {Node} container 容器，缺省为整个文档\r\n * @return {String[]|String} 表单元素值，如果是checkbox或者select多选情况，返回类型为数组，其他返回为字符串\r\n */\r\nexport const getElementValueByName = (name, container = document) => {\r\n\tlet elements = findAll(`[name=\"${name}\"]:not([disabled])`, container);\r\n\tlet values = [];\r\n\tlet multiple = false;\r\n\telements.forEach(element => {\r\n\t\tswitch (element.type) {\r\n\t\t\tcase 'checkbox':\r\n\t\t\t\tmultiple = true;\r\n\t\t\t\tif (element.checked) {\r\n\t\t\t\t\tvalues.push(element.value);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'radio':\r\n\t\t\t\tif (element.checked) {\r\n\t\t\t\t\tvalues.push(element.value);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'select':\r\n\t\t\t\tif (element.multiple) {\r\n\t\t\t\t\tmultiple = true;\r\n\t\t\t\t\tArray.from(element.selectedOptions).forEach(opt => {\r\n\t\t\t\t\t\tvalues.push(opt.value);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalues.push(element.value);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalues.push(element.value);\r\n\t\t}\r\n\t})\r\n\treturn multiple ? values : values[0];\r\n}\r\n\r\n/**\r\n * 表单元素同步变更\r\n * 该方法会检测元素数据合法性（表单校验）\r\n * @param {HTMLElement} dom\r\n * @param {Function} getter 函数执行返回 Promise，返回null时，不填充input\r\n * @param {Function} setter 函数执行返回 Promise，checkbox、radio类型元素未选择时，返回null，设置失败元素将还原初始值\r\n */\r\nexport const formSync = (dom, getter, setter) => {\r\n\tlet els = getAvailableElements(dom);\r\n\tels.forEach(function (el) {\r\n\t\tlet name = el.name;\r\n\t\tlet current_val = getElementValue(el);\r\n\t\tel.disabled = true;\r\n\t\tgetter(name).then(v => {\r\n\t\t\tel.disabled = false;\r\n\t\t\tif (el.type === 'radio' || el.type === 'checkbox') {\r\n\t\t\t\tel.checked = el.value == v;\r\n\t\t\t\tcurrent_val = v;\r\n\t\t\t} else if (v !== null) {\r\n\t\t\t\tel.value = v;\r\n\t\t\t\tcurrent_val = v;\r\n\t\t\t}\r\n\t\t});\r\n\t\tel.addEventListener('change', e => {\r\n\t\t\tel.disabled = true;\r\n\t\t\tif (!el.checkValidity()) {\r\n\t\t\t\tel.reportValidity();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet val = el.value;\r\n\t\t\tif ((el.type === 'radio' || el.type === 'checkbox') && !el.checked) {\r\n\t\t\t\tval = null;\r\n\t\t\t}\r\n\t\t\tsetter(el.name, val).then(() => {\r\n\t\t\t\tel.disabled = false;\r\n\t\t\t}, () => {\r\n\t\t\t\tif (el.type === 'radio' || el.type === 'checkbox') {\r\n\t\t\t\t\tel.checked = el.value == current_val;\r\n\t\t\t\t} else if (current_val !== null) {\r\n\t\t\t\t\tel.value = current_val;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * 获取指定容器下所有可用表单元素\r\n * @param {HTMLElement} dom\r\n * @param {Boolean} ignore_empty_name 是否忽略没有name属性的元素，缺省为必须校验\r\n * @return {HTMLFormElement[]}\r\n */\r\nexport const getAvailableElements = (dom, ignore_empty_name = false) => {\r\n\tlet els = dom.querySelectorAll('input,textarea,select');\r\n\treturn Array.from(els).filter(el => {\r\n\t\treturn !isButton(el) && !el.disabled && (ignore_empty_name || el.name);\r\n\t});\r\n}\r\n\r\n/**\r\n * 表单元素校验\r\n * @param {HTMLElement} dom\r\n * @param {Boolean} name_validate 是否校验名称必填\r\n * @return boolean 是否校验通过\r\n */\r\nexport const formValidate = (dom, name_validate = false) => {\r\n\tlet els = getAvailableElements(dom, !name_validate);\r\n\tlet pass = true;\r\n\tArray.from(els).every(el => {\r\n\t\tif (!el.checkValidity()) {\r\n\t\t\tel.reportValidity();\r\n\t\t\tpass = false;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\treturn pass;\r\n}\r\n\r\n/**\r\n * 获取指定DOM节点下表单元素包含的表单数据，并以Body String方式组装。\r\n * 该函数过滤表单元素处于 disabled、缺少name等不合理情况\r\n * @param {HTMLElement} dom 表单节点或普通HTML容器节点\r\n * @param {Boolean} validate 是否校验表单\r\n * @returns {String} 如果校验失败，则返回null\r\n */\r\nexport const formSerializeString = (dom, validate = true) => {\r\n\tlet data_list = getFormDataAvailable(dom, validate);\r\n\tlet data_string_list = [];\r\n\tdata_list.forEach(item => {\r\n\t\tlet [name, value] = item;\r\n\t\tif (Array.isArray(value)) {\r\n\t\t\tvalue.forEach(val => {\r\n\t\t\t\tdata_string_list.push(encodeURIComponent(name) + '=' + encodeURIComponent(String(val)));\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdata_string_list.push(encodeURIComponent(name) + '=' + encodeURIComponent(String(value)));\r\n\t\t}\r\n\t});\r\n\treturn data_string_list.join('&');\r\n}\r\n\r\n/**\r\n * 修正通过PHP表单获取到的表单JSON对象，转换成真正的JSON对象\r\n * 由于 PHP 表单元素名称允许使用中括号来表示多级数组，因此需要修正\r\n * @param {Object|Array} data \r\n */\r\nexport const fixedPhpJSON = (data) => {\r\n\tlet result = {};\r\n\tfor (let key in data) {\r\n\t\tlet val = data[key];\r\n\t\tif (key.indexOf('[') < 0) {\r\n\t\t\tresult[key] = val;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t//去掉php数组key中的引号，方便后面转换成path\r\n\t\tkey = key.replace(/['\"]/g, '');\r\n\r\n\t\t//最后一级是数组，值需要打包成数组\r\n\t\tif (key.match(/\\[]$/)) {\r\n\t\t\tkey = key.replace(/\\[]$/, '');\r\n\t\t\tval = Array.isArray(val) ? val : [val];\r\n\t\t}\r\n\t\tlet tmp = {};\r\n\t\tlet path = key.replace(/\\[]$/, '.').replace(/]/g, '').replace(/\\[/g, '.');\r\n\t\tobjectPushByPath(path, val, tmp, '.');\r\n\t\tmergeDeep(result, tmp);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * 序列化PHP表单到JSON\r\n * PHP 表单元素名称允许使用中括号来表示多级数组\r\n * @param {HTMLElement} dom 表单节点或普通HTML容器节点\r\n * @param {Boolean} validate 是否校验表单\r\n * @return {Object}\r\n */\r\nexport const serializePhpFormToJSON = (dom, validate = true) => {\r\n\tlet json = formSerializeJSON(dom, validate);\r\n\tif(json === null) {\r\n\t\treturn null;\r\n\t}\r\n\treturn fixedPhpJSON(json);\r\n}\r\n\r\n/**\r\n * 修正GET提交方式的表单action错误\r\n * @param {HTMLFormElement} form\r\n */\r\nexport const fixGetFormAction = (form) => {\r\n\tlet action = form.action;\r\n\tif (form.method && form.method.toLowerCase() !== 'get' || !action.length || action.indexOf('?') < 0) {\r\n\t\treturn;\r\n\t}\r\n\tlet url = new URL(action);\r\n\tlet ipt;\r\n\turl.searchParams.forEach((v, k) => {\r\n\t\tipt = document.createElement('input');\r\n\t\tipt.type = 'hidden';\r\n\t\tipt.name = k;\r\n\t\tipt.value = v;\r\n\t\tform.appendChild(ipt);\r\n\t});\r\n}\r\n\r\n/**\r\n * 绑定表单提交到JSON\r\n * @param {HTMLFormElement} form\r\n * @param {Function} onSubmitting\r\n * @return {Promise}\r\n */\r\nexport const bindFormSubmitAsJSON = (form, onSubmitting = () => { }) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tform.addEventListener('submit', e => {\r\n\t\t\tlockElementInteraction(form, reset => {\r\n\t\t\t\tonSubmitting();\r\n\t\t\t\trequestJSON(form.action, formSerializeJSON(form), form.method).then(resolve, reject).finally(reset);\r\n\t\t\t});\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t});\r\n}\r\n\r\nconst objSame = (obj1, obj2) => {\r\n\treturn JSON.stringify(obj1) === JSON.stringify(obj2);\r\n}\r\n\r\n/**\r\n * 自动监听表单元素change，或表单dom变更，触发保存动作\r\n * @param {Node} form\r\n * @param {Function} savePromise():Promise\r\n * @param {Number} minSaveInterval 最小保存间隔，上次保存完成后至少等待间隔时间才继续下一次保存\r\n */\r\nexport const bindFormAutoSave = (form, savePromise, minSaveInterval = 2000) => {\r\n\tconst PRO_KEY = '_auto_save_listen_' + guid();\r\n\tlet last_execute_time = 0; //上次执行时间\r\n\tlet last_submit_data = formSerializeJSON(form, false); //上次提交数据\r\n\tlet submitting = false; //是否正在提交\r\n\r\n\tconst save = () => {\r\n\t\tlet data = formSerializeJSON(form, false);\r\n\t\tif (!data || objSame(last_submit_data, data)) {\r\n\t\t\tsubmitting = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlast_submit_data = data;\r\n\t\tsavePromise(data).finally(() => {\r\n\t\t\tlast_execute_time = Date.now();\r\n\t\t\tif (objSame(last_submit_data, formSerializeJSON(form, false))) {\r\n\t\t\t\tsubmitting = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetTimeout(save, minSaveInterval);\r\n\t\t});\r\n\t};\r\n\tconst trigger = () => {\r\n\t\tconst form_data = formSerializeJSON(form, false);\r\n\t\tif (!form_data || submitting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst remains = minSaveInterval - (Date.now() - last_execute_time);\r\n\t\tsubmitting = true;\r\n\t\tsetTimeout(save, Math.max(remains, 0));\r\n\t};\r\n\tmutationEffective(form, { attributes: false, subtree: true, childList: true }, obs => {\r\n\t\tfindAll(`input:not([${PRO_KEY}]), textarea:not([${PRO_KEY}]), select:not([${PRO_KEY}])`).forEach(el => {\r\n\t\t\tel.setAttribute(PRO_KEY, '1');\r\n\t\t\tel.addEventListener('change', trigger);\r\n\t\t});\r\n\t\ttrigger();\r\n\t}, 100);\r\n\tfindAll('input,textarea,select').forEach(el => { el.addEventListener('change', trigger); });\r\n}\r\n\r\n/**\r\n * 获取表单可用数据，以数组方式返回\r\n * 注意：该数组包含 [name, value]，其中 name 可重复。\r\n * @param {HTMLElement} dom 表单节点或普通HTML容器节点\r\n * @param {Boolean} validate 是否校验表单\r\n * @return {Array[]} 如果表单校验失败，返回空数组\r\n */\r\nexport const getFormDataAvailable = (dom, validate = true) => {\r\n\tif (validate && !formValidate(dom)) {\r\n\t\treturn [];\r\n\t}\r\n\tlet els = getAvailableElements(dom);\r\n\tlet data_list = [];\r\n\tels.forEach(el => {\r\n\t\tlet name = el.name;\r\n\t\tlet value = getElementValue(el);\r\n\t\tif (value !== null) {\r\n\t\t\tdata_list.push([name, value]);\r\n\t\t}\r\n\t})\r\n\treturn data_list;\r\n}\r\n\r\n/**\r\n * 获取指定DOM节点下表单元素包含的表单数据，并以JSON方式组装。\r\n * 注意：同名表单项以JS数组方式组装，PHP方法名称中中括号将被作为变量名一部分使用\r\n * @param {HTMLElement} dom 表单节点或普通HTML容器节点\r\n * @param {Boolean} validate 是否校验表单\r\n * @returns {Object|Null} JSON数据，如果数据为空或者表单校验失败返回NULL\r\n */\r\nexport const formSerializeJSON = (dom, validate = true) => {\r\n\tlet data_list = getFormDataAvailable(dom, validate);\r\n\tif (!data_list.length) {\r\n\t\treturn null;\r\n\t}\r\n\tlet name_counts = {};\r\n\tdata_list.forEach(item => {\r\n\t\tlet [name] = item;\r\n\t\tif (name_counts[name] === undefined) {\r\n\t\t\tname_counts[name] = 1;\r\n\t\t} else {\r\n\t\t\tname_counts[name]++\r\n\t\t}\r\n\t});\r\n\tlet json_obj = {};\r\n\tdata_list.forEach(item => {\r\n\t\tlet [name, value] = item;\r\n\t\tif (name_counts[name] > 1) {\r\n\t\t\tif (json_obj[name] === undefined) {\r\n\t\t\t\tjson_obj[name] = [value];\r\n\t\t\t} else {\r\n\t\t\t\tjson_obj[name].push(value);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tjson_obj[name] = value;\r\n\t\t}\r\n\t});\r\n\treturn json_obj;\r\n};\r\n\r\n/**\r\n * 转换表单数据对象到JSON对象\r\n * @example convertFormDataToObject({name:\"hello\", age:\"10\", isBoy:0, ext:\"{city:'shenzhen'}\"}, {name:\"\", age:0, isBoy:true, ext:{}})，\r\n * 结果返回： {name:\"hello\", age:10, isBoy:false, ext:{city:shenzhen}}\r\n * @param {Object} formDataMap 数据对象（从表单获取到的数据都是字符串类型的）\r\n * @param {Object} formatSchema 格式定义对象，如： {name:\"Jack\", age:10, isBoy:true}\r\n * @param {Boolean} mustExistsInSchema 是否必须存在格式定义中\r\n * @return {Object}\r\n */\r\nexport const convertFormDataToObject = (formDataMap, formatSchema, mustExistsInSchema = true) => {\r\n\tlet ret = {};\r\n\tfor (let key in formDataMap) {\r\n\t\tlet value = formDataMap[key];\r\n\t\tlet define = formatSchema[key];\r\n\t\tif (define === undefined) {\r\n\t\t\tif (mustExistsInSchema) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tret[key] = value;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tswitch (typeof (define)) {\r\n\t\t\tcase 'string':\r\n\t\t\t\tret[key] = value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'boolean':\r\n\t\t\t\tret[key] = value === '1' || value === 'true';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'number':\r\n\t\t\t\tret[key] = parseInt(value, 10);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'object':\r\n\t\t\t\tret[key] = value ? JSON.parse(value) : {};\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow \"format schema no supported\";\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\n/**\r\n * 转换对象为表单元素数值\r\n * @param {Object} objectMap\r\n * @param {Array} boolMapping\r\n * @return {Object}\r\n */\r\nexport const convertObjectToFormData = (objectMap, boolMapping = [\"1\", \"0\"]) => {\r\n\tlet ret = {};\r\n\tfor (let key in objectMap) {\r\n\t\tlet value = objectMap[key];\r\n\t\tswitch (typeof (value)) {\r\n\t\t\tcase 'string':\r\n\t\t\tcase 'number':\r\n\t\t\t\tret[key] = String(value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'boolean':\r\n\t\t\t\tret[key] = value ? boolMapping[0] : boolMapping[1];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'object':\r\n\t\t\t\tret[key] = JSON.stringify(value);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow \"format schema no supported\";\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n}\r\n\r\n///////////////////////////  退出窗口未保存表单提示  ///////////////////////////\r\nexport const WINDOW_UNLOAD_ALERT_MAP_VAR_KEY = 'WINDOW_UNLOAD_ALERT_MAP_VAR_KEY';\r\n\r\nwindow[WINDOW_UNLOAD_ALERT_MAP_VAR_KEY] = [\r\n\t//{msg, target} 窗口、提示语、表单对象或ID（用于数据定位）\r\n];\r\n\r\nlet unload_event_bind = false;\r\n\r\n/**\r\n * 设置窗口跳转时提示语\r\n * @see 当前模式暂不支持多重设置\r\n * @param {String} msg 提示语为空表示不提示\r\n * @param {Node} target 关联对象DOM，例如Form对象\r\n */\r\nexport const setWindowUnloadMessage = (msg, target) => {\r\n\tlet found = false;\r\n\t//如果是iframe里面调用，target改为iframe\r\n\tif (top !== window) {\r\n\t\ttarget = window.frameElement;\r\n\t}\r\n\ttop[WINDOW_UNLOAD_ALERT_MAP_VAR_KEY].map(item => {\r\n\t\tif (item.target === target) {\r\n\t\t\titem.msg = msg;\r\n\t\t\tfound = true;\r\n\t\t}\r\n\t});\r\n\tif (!found) {\r\n\t\ttop[WINDOW_UNLOAD_ALERT_MAP_VAR_KEY].push({ msg, target });\r\n\t}\r\n\tconsole.debug('set window unload message', JSON.stringify(msg), target);\r\n\r\n\t//绑定一次 beforeunload 只能一次显示所有的告警\r\n\tif (!unload_event_bind) {\r\n\t\tconsole.debug('beforeunload bind');\r\n\t\twindow.addEventListener('beforeunload', (e) => {\r\n\t\t\tlet unload_alert_list = getWindowUnloadAlertList();\r\n\t\t\tconsole.debug('window.beforeunload, bind message:', JSON.stringify(unload_alert_list));\r\n\t\t\tif (unload_alert_list.length) {\r\n\t\t\t\tlet msg = unload_alert_list.join(\"\\n\");\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.returnValue = msg;\r\n\t\t\t\treturn msg;\r\n\t\t\t}\r\n\t\t});\r\n\t\tunload_event_bind = true;\r\n\t}\r\n}\r\n\r\n/**\r\n * 获取跳转提示\r\n * @param {Node|null} specify_target 指定目标\r\n * @return {String[]}\r\n */\r\nexport const getWindowUnloadAlertList = (specify_target = null) => {\r\n\tlet msg_list = [];\r\n\ttop[WINDOW_UNLOAD_ALERT_MAP_VAR_KEY].forEach(item => {\r\n\t\tif (item.msg.length //msg exists\r\n\t\t\t&& item.target.parentNode //dom exists\r\n\t\t\t&& (!specify_target || specify_target === item.target) //match target\r\n\t\t) {\r\n\t\t\tmsg_list.push(item.msg);\r\n\t\t}\r\n\t});\r\n\t//对同样的提示内容去重\r\n\treturn msg_list.filter((val, idx, arr) => arr.indexOf(val) === idx);\r\n}\r\n\r\n//设置方法到window对象，提供给类似dialog等组件使用\r\nwindow['getWindowUnloadAlertList'] = getWindowUnloadAlertList;\r\nwindow['setWindowUnloadMessage'] = setWindowUnloadMessage;\r\n\r\nlet _form_data_cache_init = {};\r\nlet _form_data_cache_new = {};\r\nlet _form_us_msg = {};\r\nlet _form_us_sid_attr_key = Theme.Namespace + 'form-unsaved-sid';\r\n\r\n/**\r\n * 绑定页面离开时，表单未保存警告\r\n * @param {HTMLFormElement} form\r\n * @param {String} alertMsg 提示语\r\n */\r\nexport const bindFormUnSavedUnloadAlert = (form, alertMsg = '') => {\r\n\tif (form.getAttribute(_form_us_sid_attr_key)) {\r\n\t\treturn;\r\n\t}\r\n\tlet us_sid = guid();\r\n\t_form_us_msg[us_sid] = alertMsg || '表单尚未保存，是否确认离开？';\r\n\tform.setAttribute(_form_us_sid_attr_key, us_sid);\r\n\r\n\tlet upd_tm = null;\r\n\tlet upd = () => {\r\n\t\tupd_tm && clearTimeout(upd_tm);\r\n\t\tupd_tm = setTimeout(() => {\r\n\t\t\t_form_data_cache_new[us_sid] = formSerializeJSON(form, false);\r\n\t\t\tsetWindowUnloadMessage(validateFormChanged(form, us_sid), form);\r\n\t\t}, 100);\r\n\t}\r\n\r\n\t//本来reset 需要setTimeout执行的，由于upd()中已经做了，这里就不用重复\r\n\tform.addEventListener('reset', upd);\r\n\tonDomTreeChange(form, () => {\r\n\t\tlet els = getAvailableElements(form, true);\r\n\t\tels.forEach(el => {\r\n\t\t\tif (el.getAttribute('__form_unsaved_bind__')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tel.setAttribute('__form_unsaved_bind__', '1');\r\n\t\t\tel.addEventListener('input', upd);\r\n\t\t});\r\n\t}, false);\r\n\tresetFormChangedState(form);\r\n}\r\n\r\n/**\r\n * 校验表单内容是否变更\r\n * @param {HTMLFormElement} form\r\n * @param us_sid\r\n * @return {String}\r\n */\r\nexport const validateFormChanged = (form, us_sid = null) => {\r\n\tus_sid = us_sid || form.getAttribute(_form_us_sid_attr_key);\r\n\tif (!us_sid) {\r\n\t\tconsole.warn(\"Form no init by bindFormUnSavedAlert()\");\r\n\t\treturn '';\r\n\t}\r\n\tif (!isEquals(_form_data_cache_init[us_sid], _form_data_cache_new[us_sid])) {\r\n\t\treturn _form_us_msg[us_sid];\r\n\t}\r\n\treturn '';\r\n}\r\n\r\n/**\r\n * 重置表单未保存提示状态\r\n * @param {HTMLFormElement} form\r\n */\r\nexport const resetFormChangedState = (form) => {\r\n\tlet us_sid = form.getAttribute(_form_us_sid_attr_key);\r\n\tif (!us_sid) {\r\n\t\tconsole.warn(\"Form no init by bindFormUnSavedAlert()\");\r\n\t\treturn false;\r\n\t}\r\n\t_form_data_cache_init[us_sid] = _form_data_cache_new[us_sid] = formSerializeJSON(form, false);\r\n\tsetWindowUnloadMessage('', form);\r\n}\r\n","import {findAll, findAllOrFail, findOne} from \"./Dom.js\";\r\nimport {inputAble} from \"./Form.js\";\r\nimport {capitalize} from \"./String.js\";\r\n\r\n/**\r\n * KeyboardEvent.key 映射\r\n * @var Object{*}\r\n */\r\nlet KEY_MAP = {\r\n\t0: 'Digit0', 1: 'Digit1', 2: 'Digit2', 3: 'Digit3', 4: 'Digit4', 5: 'Digit5', 6: 'Digit6', 7: 'Digit7', 8: 'Digit8', 9: 'Digit9',\r\n\tA: 'KeyA', B: 'KeyB', C: 'KeyC', D: 'KeyD', E: 'KeyE', F: 'KeyF', G: 'KeyG', H: 'KeyH', I: 'KeyI', J: 'KeyJ', K: 'KeyK', L: 'KeyL', M: 'KeyM', N: 'KeyN', O: 'KeyO', P: 'KeyP', Q: 'KeyQ', R: 'KeyR', S: 'KeyS', T: 'KeyT', U: 'KeyU', V: 'KeyV', W: 'KeyW', X: 'KeyX', Y: 'KeyY', Z: 'KeyZ',\r\n\tSpace: ' ', Enter: 'Enter', Tab: 'Tab',\r\n\tShift: 'Shift', Control: 'Control', Alt:'Alt',\r\n\tF1: 'F1', F2: 'F2', F3: 'F3', F4: 'F4', F5: 'F5', F6: 'F6', F7: 'F7', F8: 'F8', F9: 'F9', F10: 'F10', F11: 'F11', F12: 'F12', F13: 'F13', F14: 'F14', F15: 'F15', F16: 'F16', F17: 'F17', F19: 'F19', F20: 'F20',\r\n\tArrowUp: 'ArrowUp', ArrowDown: 'ArrowDown', ArrowLeft: 'ArrowLeft', ArrowRight: 'ArrowRight',\r\n\tHome: 'Home', End: 'End', PageUp: 'PageUp', PageDown: 'PageDown',\r\n\tEscape: 'Escape', Backspace: 'Backspace', Delete: 'Delete', Insert: 'Insert', Clear: 'Clear', Copy: 'Copy', Paste: 'Paste', Redo: 'Redo', Undo: 'Undo',\r\n\tMeta: 'Meta',  Symbol:'Symbol',\r\n\tCapsLock:'CapsLock', NumLock: 'NumLock', ScrollLock: 'ScrollLock', SymbolLock: 'SymbolLock', FnLock: 'FnLock',\r\n\tContextMenu: 'ContextMenu',\r\n};\r\n\r\nconst SYMBOLS = '~!@#$%^&*()_+{}|:\"<>?`-=[]\\\\;\\',./'.split('');\r\n\r\n//添加符号\r\nSYMBOLS.forEach(sym=>{\r\n\tKEY_MAP[sym] = sym;\r\n});\r\n\r\n//字母\r\nKEY_MAP.Alpla = [KEY_MAP.A, KEY_MAP.B, KEY_MAP.C, KEY_MAP.D, KEY_MAP.E, KEY_MAP.F, KEY_MAP.G, KEY_MAP.H, KEY_MAP.I, KEY_MAP.J, KEY_MAP.K, KEY_MAP.L, KEY_MAP.M, KEY_MAP.N, KEY_MAP.O, KEY_MAP.P, KEY_MAP.Q, KEY_MAP.R, KEY_MAP.S, KEY_MAP.T, KEY_MAP.U, KEY_MAP.V, KEY_MAP.W, KEY_MAP.X, KEY_MAP.Y, KEY_MAP.Z];\r\n//数字\r\nKEY_MAP.Number = [KEY_MAP[0], KEY_MAP[1], KEY_MAP[2], KEY_MAP[3], KEY_MAP[4], KEY_MAP[5], KEY_MAP[6], KEY_MAP[7], KEY_MAP[8], KEY_MAP[9]];\r\n//符号\r\nKEY_MAP.Symbol = SYMBOLS;\r\n//空白键\r\nKEY_MAP.Whitespace = [KEY_MAP.Space, KEY_MAP.Enter, KEY_MAP.Tab];\r\n//内容按键\r\nKEY_MAP.Content = [...KEY_MAP.Alpla, ...KEY_MAP.Whitespace, ...KEY_MAP.Number, ];\r\n//功能键\r\nKEY_MAP.Fn = [KEY_MAP.F1, KEY_MAP.F2, KEY_MAP.F3, KEY_MAP.F4, KEY_MAP.F5, KEY_MAP.F6, KEY_MAP.F7, KEY_MAP.F8, KEY_MAP.F9, KEY_MAP.F10, KEY_MAP.F11, KEY_MAP.F12, KEY_MAP.F13, KEY_MAP.F14, KEY_MAP.F15, KEY_MAP.F16, KEY_MAP.F17, KEY_MAP.F19, KEY_MAP.F20];\r\n//方向键\r\nKEY_MAP.Arrow = [KEY_MAP.ArrowUp, KEY_MAP.ArrowDown, KEY_MAP.ArrowLeft, KEY_MAP.ArrowRight];\r\n//导航\r\nKEY_MAP.Navigation = [...KEY_MAP.Arrow, KEY_MAP.Home, KEY_MAP.End, KEY_MAP.PageUp, KEY_MAP.PageDown];\r\n\r\nexport const KEYBOARD_KEY_MAP = KEY_MAP;\r\n\r\nexport class BizEvent {\r\n\tevents = [];\r\n\tbreakOnFalseReturn = false;\r\n\r\n\t/**\r\n\t * 是否在返回false时中断事件继续执行\r\n\t * @param {boolean} breakOnFalseReturn\r\n\t */\r\n\tconstructor(breakOnFalseReturn = false){\r\n\t\tthis.breakOnFalseReturn = breakOnFalseReturn;\r\n\t}\r\n\r\n\t/**\r\n\t * 监听事件\r\n\t * @param {Function} payload\r\n\t */\r\n\tlisten(payload){\r\n\t\tthis.events.push(payload);\r\n\t}\r\n\r\n\t/**\r\n\t * 移除监听\r\n\t * @param {Function} payload\r\n\t */\r\n\tremove(payload){\r\n\t\tthis.events = this.events.filter(ev => ev !== payload);\r\n\t}\r\n\r\n\t/**\r\n\t * 清除所有监听\r\n\t */\r\n\tclean(){\r\n\t\tthis.events = [];\r\n\t}\r\n\r\n\t/**\r\n\t * 触发时间\r\n\t * @param {*} args 触发传参\r\n\t * @returns {boolean}\r\n\t */\r\n\tfire(...args){\r\n\t\tlet breakFlag = false;\r\n\t\tthis.events.forEach(event => {\r\n\t\t\tlet ret = event.apply(null, args);\r\n\t\t\tif(this.breakOnFalseReturn && ret === false){\r\n\t\t\t\tbreakFlag = true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn !breakFlag;\r\n\t}\r\n}\r\n\r\nconst EVENT_ACTIVE = 'active';\r\n\r\n/**\r\n * hover 事件，兼容移动端\r\n * @param {Node|Node[]|String|String[]} nodes\r\n * @param {Function|Null} hoverIn\r\n * @param {Function|Null} hoverOut\r\n * @param {String} hoverClass 额外添加hover类名\r\n */\r\nexport const onHover = (nodes, hoverIn = null, hoverOut = null, hoverClass = '') => {\r\n\tconst _in = (e, node) => {\r\n\t\thoverClass && node.classList.add(hoverClass);\r\n\t\treturn hoverIn ? hoverIn(e) : null;\r\n\t}\r\n\tconst _out = (e, node) => {\r\n\t\thoverClass && node.classList.remove(hoverClass);\r\n\t\treturn hoverOut ? hoverOut(e) : null;\r\n\t}\r\n\tfindAll(nodes).forEach(node => {\r\n\t\tnode.addEventListener('touchstart', e => {return _in(e, node);});\r\n\t\tnode.addEventListener('touchend', e => {return _out(e, node);});\r\n\t\tnode.addEventListener('mouseenter', e => {return _in(e, node);});\r\n\t\tnode.addEventListener('mouseleave', e => {return _out(e, node);});\r\n\t});\r\n}\r\n\r\n/**\r\n * 绑定连续多次按键\r\n * @param {Node} node \r\n * @param {String|Number} key \r\n * @param {Function} payload \r\n * @param {Number} interval\r\n */\r\nexport const bindKeyContinuous = (node, key, payload, interval = 500) => {\r\n\tlet lastPressTime = 0;\r\n\tnode.addEventListener('keyup', e => {\r\n\t\tif(e.key === key){\r\n\t\t\tlet now = Date.now();\r\n\t\t\tif((now - lastPressTime) < interval){\r\n\t\t\t\tconsole.log('asfasf');\r\n\t\t\t\tpayload.call(node, e);\r\n\t\t\t\tlastPressTime = 0;\r\n\t\t\t} else {\r\n\t\t\t\tlastPressTime = Date.now();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlastPressTime = 0;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 主动触发事件\r\n * @param {Node|Node[]|String|String[]} nodes\r\n * @param event\r\n */\r\nexport const fireEvent = (nodes, event) => {\r\n\tfindAll(nodes).forEach(node=>{\r\n\t\tif(\"createEvent\" in document){\r\n\t\t\tlet evo = document.createEvent(\"HTMLEvents\");\r\n\t\t\tevo.initEvent(event, false, true);\r\n\t\t\tnode.dispatchEvent(evo);\r\n\t\t}else{\r\n\t\t\tnode.fireEvent(\"on\" + event);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 绑定节点交互触发时间（包括鼠标点击、键盘回车、键盘空格）\r\n * @param {Node|Node[]|String|String[]} nodes\r\n * @param {CallableFunction} payload (event|null, targetFixed)\r\n * @param {Boolean} cancelBubble\r\n * @param {Boolean} triggerAtOnce 是否立即触发一次（针对初始化场景）\r\n */\r\nexport const bindNodeActive = (nodes, payload, cancelBubble = false, triggerAtOnce = false) => {\r\n\tfindAll(nodes).forEach(node=>{\r\n\t\tnode.addEventListener('click', e=>{\r\n\t\t\tpayload.call(node, e, node);\r\n\t\t}, cancelBubble);\r\n\t\tnode.addEventListener('keyup', e => {\r\n\t\t\tif(e.keyCode === KEYS.Space || e.keyCode === KEYS.Enter){\r\n\t\t\t\tnode.click(); //keyup同时触发一个 PointerEvent事件，这里做修正\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}, cancelBubble);\r\n\t\tif(triggerAtOnce){\r\n\t\t\tpayload.call(node, null, node);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport const objectOnChanged = (obj, onSet)=>{\r\n\tconst proxy = new Proxy(obj, {\r\n\t\tset: function(target, key, value){\r\n\t\t\tconsole.log(`${key} set to ${value}`);\r\n\t\t\tif(onSet(key, value) === false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\ttarget[key] = value;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * on document ready\r\n * @param {Function} callback\r\n */\r\nexport const onDocReady = (callback)=>{\r\n\tif (document.readyState === 'complete') {\r\n\t\tcallback();\r\n\t} else {\r\n\t\tdocument.addEventListener(\"DOMContentLoaded\", callback);\r\n\t}\r\n}\r\n\r\n/**\r\n * 触发HTML节点事件\r\n * @param {HTMLElement} node\r\n * @param {String} event\r\n */\r\nexport const triggerDomEvent = (node, event) => {\r\n\tif(\"createEvent\" in document){\r\n\t\tlet evt = document.createEvent(\"HTMLEvents\");\r\n\t\tevt.initEvent(event.toLowerCase(), false, true);\r\n\t\tnode.dispatchEvent(evt);\r\n\t}else{\r\n\t\tnode.fireEvent(\"on\"+event.toLowerCase());\r\n\t}\r\n};\r\n\r\n/**\r\n * 批量绑定事件，支持active自定义事件\r\n * @param {Node|Node[]|String|String[]} nodes\r\n * @param {String|String[]} event 事件名称或事件名称列表\r\n * @param {Function} payload (event|null, targetFixed)\r\n * @param {*} option\r\n * @param {Boolean} triggerAtOnce 是否立即触发一次（针对初始化场景）\r\n */\r\nexport const bindNodeEvents = (nodes, event, payload, option = null, triggerAtOnce = false) => {\r\n\tfindAll(nodes).forEach(node => {\r\n\t\tlet evs = Array.isArray(event) ? event : [event];\r\n\t\tevs.forEach(ev => {\r\n\t\t\tif(ev === EVENT_ACTIVE){\r\n\t\t\t\tbindNodeActive(node, payload, option);\r\n\t\t\t}else{\r\n\t\t\t\tnode.addEventListener(ev, e => {\r\n\t\t\t\t\tpayload.call(node, e, node)\r\n\t\t\t\t}, option);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(triggerAtOnce){\r\n\t\t\tpayload.call(node, null, node);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 绑定组合键\r\n * @param {Object} node\r\n * @param {String} keyStr 快捷键组合，如 \"ctrl+k\", \"A\"\r\n * @param {Function} payload\r\n * @param {Object} option\r\n * @param {String} option.event 事件类型，默认为keydown\r\n * @param {String|Node} option.scope 事件绑定范围，默认为document\r\n * @param {Boolean} option.preventDefault 是否阻止默认事件，默认为阻止\r\n */\r\nexport const bindHotKeys = (node, keyStr, payload, option = {}) => {\r\n\tlet keys = keyStr.replace(/\\s/ig, '').toLowerCase().split('+');\r\n\tlet {event, preventDefault} = option;\r\n\tpreventDefault = preventDefault === undefined ? true : !!preventDefault;\r\n\tevent = event || 'keydown';\r\n\tnode = findOne(node);\r\n\tnode.addEventListener(event, e => {\r\n\t\tif((keys.includes('shift') ^ e.shiftKey) ||\r\n\t\t\t(keys.includes('ctrl') ^ e.ctrlKey) ||\r\n\t\t\t(keys.includes('alt') ^ e.altKey)\r\n\t\t){\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t//需要考虑避开可输入区域\r\n\t\tif(e.target !== node && //如果对象非绑定指定对象，\r\n\t\t\tKEYBOARD_KEY_MAP.Content.includes(e.key) && (!e.altKey && !e.ctrlKey) && //输入内容\r\n\t\t\tinputAble(e.target) //可输入对象（这里不需要考虑 [contenteditable]，由调用方自己负责\r\n\t\t){\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t//移除组合键\r\n\t\tlet singleKeys = keys.filter(k => {\r\n\t\t\treturn !['shift', 'ctrl', 'alt', 'meta'].includes(k);\r\n\t\t});\r\n\t\tif(singleKeys.length > 1){\r\n\t\t\tconsole.error('bindHotKeys no support pattern:', keyStr);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//去除单纯按快捷键方式\r\n\t\tlet pressKeyCode = [KEYBOARD_KEY_MAP.Shift, KEYBOARD_KEY_MAP.Control, KEYBOARD_KEY_MAP.Alt].includes(e.key) ? null : e.keyCode;\r\n\t\tif((!singleKeys.length && !pressKeyCode) || (capitalize(singleKeys[0].toLowerCase()) === e.key)){\r\n\t\t\tpayload.call(e.target, e);\r\n\t\t\tif(preventDefault){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t})\r\n}\r\n\r\n/**\r\n * 事件代理\r\n * @param {HTMLElement|HTMLElement[]|String} container\r\n * @param {String} selector\r\n * @param {String} eventName\r\n * @param {Function} payload(event, matchedTarget) 回调，第二个参数为匹配的对象节点\r\n */\r\nexport const eventDelegate = (container, selector, eventName, payload)=>{\r\n\tfindAllOrFail(container).forEach(ctn=>{\r\n\t\tctn.addEventListener(eventName, ev=>{\r\n\t\t\tlet target = ev.target;\r\n\t\t\twhile(target){\r\n\t\t\t\tif(target.matches(selector)){\r\n\t\t\t\t\tpayload.call(target, ev, target);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(target === ctn){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\ttarget = target.parentNode;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * KeyboardEvent.keyCode 映射\r\n * @deprecated 废弃\r\n * **/\r\nexport const KEYS = {\r\n\tA: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, 0: 48, 1: 49, 2: 50, 3: 51, 4: 52, 5: 53, 6: 54, 7: 55, 8: 56, 9: 57,\r\n\tBackSpace: 8, Esc: 27, RightArrow: 39, Tab: 9, Space: 32, DownArrow: 40, Clear: 12, PageUp: 33, Insert: 45, Enter: 13, PageDown: 34, Delete: 46, Shift: 16, End: 35, NumLock: 144, Control: 17, Home: 36, Alt: 18, LeftArrow: 37, CapsLock: 20, UpArrow: 38,\r\n\tF1: 112,F2: 113,F3: 114,F4: 115,F5: 116,F6: 117,F7: 118,F8: 119,F9: 120,F10: 121,F11: 122,F12: 123,\r\n\tNumPad0: 96, NumPad1: 97, NumPad2: 98, NumPad3: 99, NumPad4: 100, NumPad5: 101, NumPad6: 102, NumPad7: 103, NumPad8: 104, NumPad9: 105, NumPadMultiple: 106, NumPadPlus: 107, NumPadDash: 109, NumPadDot: 110, NumPadSlash: 111, NumPadEnter: 108\r\n};","import {convertBlobToBase64} from \"./Base64.js\";\r\n\r\n/**\r\n * 通过 src 加载图片\r\n * @param {String} src\r\n * @returns {Promise<HTMLImageElement>}\r\n */\r\nexport const loadImgBySrc = (src)=>{\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet img = new Image;\r\n\t\timg.referrerPolicy = 'no-referrer';\r\n\t\timg.onload = ()=>{\r\n\t\t\tresolve(img);\r\n\t\t};\r\n\t\timg.onabort = ()=>{\r\n\t\t\treject('Image loading abort');\r\n\t\t};\r\n\t\timg.onerror = ()=>{\r\n\t\t\treject('Image load failure');\r\n\t\t};\r\n\t\timg.src = src;\r\n\t});\r\n}\r\n\r\n/**\r\n * 从 img.srcset 属性中解析出最高分辨率图片\r\n * @param {String} srcset_str\r\n * @return {string}\r\n */\r\nexport const getHighestResFromSrcSet = (srcset_str) => {\r\n\treturn srcset_str\r\n\t\t.split(\",\")\r\n\t\t.reduce(\r\n\t\t\t(acc, item) => {\r\n\t\t\t\tlet [url, width] = item.trim().split(\" \");\r\n\t\t\t\twidth = parseInt(width);\r\n\t\t\t\tif(width > acc.width) return {width, url};\r\n\t\t\t\treturn acc;\r\n\t\t\t},\r\n\t\t\t{width: 0, url: \"\"}\r\n\t\t).url;\r\n}\r\n\r\n/**\r\n * 通过ImageSrc获取base64（网络请求模式）\r\n * @param src\r\n * @returns {Promise<unknown>}\r\n */\r\nexport const getBase64BySrc = (src)=>{\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet xhr = new XMLHttpRequest();\r\n\t\txhr.open('GET', src, true);\r\n\t\txhr.responseType = 'blob';\r\n\t\txhr.onload = function(){\r\n\t\t\tif(this.status === 200){\r\n\t\t\t\tlet blob = this.response;\r\n\t\t\t\tconvertBlobToBase64(blob).then(base64 => {\r\n\t\t\t\t\tresolve(base64);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\txhr.onerror = function() {\r\n\t\t\treject('Error:'+this.statusText);\r\n\t\t};\r\n\t\txhr.onabort = function(){\r\n\t\t\treject('Request abort');\r\n\t\t}\r\n\t\txhr.send();\r\n\t});\r\n}\r\n\r\n/**\r\n * 通过 Image 获取base64数据\r\n * @param img\r\n * @returns {string|string|*|string|null}\r\n */\r\nexport const getBase64ByImg = (img) => {\r\n\tif(!img.src){\r\n\t\treturn null;\r\n\t}\r\n\tif(img.src.indexOf('data:') === 0){\r\n\t\treturn img.src;\r\n\t}\r\n\tlet canvas = document.createElement(\"canvas\");\r\n\tcanvas.width = img.width;\r\n\tcanvas.height = img.height;\r\n\tlet ctx = canvas.getContext(\"2d\");\r\n\tctx.drawImage(img, 0, 0, img.width, img.height);\r\n\treturn canvas.toDataURL(\"image/png\")\r\n};\r\n\r\n/**\r\n * 通过缩放+定位将图片放置在指定容器中间\r\n * @param {Number} contentWidth\r\n * @param {Number} contentHeight\r\n * @param {Number} containerWidth\r\n * @param {Number} containerHeight\r\n * @param {Number} spacing\r\n * @param {Boolean} zoomIn 是否在图片小于容器时放大，默认不放大\r\n * @returns {{top: number, left: number, width: number, height: number}|{top: number, left: number, width, height}}\r\n */\r\nexport const scaleFixCenter = ({\r\n   contentWidth,\r\n   contentHeight,\r\n   containerWidth,\r\n   containerHeight,\r\n   spacing = 0,\r\n   zoomIn = false}) => {\r\n\tif(contentWidth <= containerWidth && contentHeight <= containerHeight && !zoomIn){\r\n\t\treturn {\r\n\t\t\twidth: contentWidth,\r\n\t\t\theight: contentHeight,\r\n\t\t\tleft: (containerWidth - contentWidth) / 2,\r\n\t\t\ttop: (containerHeight - contentHeight) / 2\r\n\t\t};\r\n\t}\r\n\tlet ratioX = containerWidth / contentWidth;\r\n\tlet ratioY = containerHeight / contentHeight;\r\n\r\n\tlet ratio = Math.min(ratioX, ratioY);\r\n\treturn {\r\n\t\twidth: contentWidth * ratio - spacing * 2,\r\n\t\theight: contentHeight * ratio - spacing * 2,\r\n\t\tleft: (containerWidth - contentWidth * ratio) / 2 + spacing,\r\n\t\ttop: (containerHeight - contentHeight * ratio) / 2 + spacing,\r\n\t}\r\n}\r\n\r\n/**\r\n * 获取图像元素平均色彩\r\n * @param {HTMLImageElement} imgEl\r\n * @return {{r: number, b: number, g: number}}\r\n */\r\nexport const getAverageRGB = (imgEl) => {\r\n\tlet blockSize = 5, // only visit every 5 pixels\r\n\t\tdefaultRGB = {r: 0, g: 0, b: 0}, // for non-supporting envs\r\n\t\tcanvas = document.createElement('canvas'),\r\n\t\tcontext = canvas.getContext && canvas.getContext('2d'),\r\n\t\tdata, width, height,\r\n\t\ti = -4,\r\n\t\tlength,\r\n\t\trgb = {r: 0, g: 0, b: 0},\r\n\t\tcount = 0;\r\n\r\n\tif(!context){\r\n\t\treturn defaultRGB;\r\n\t}\r\n\r\n\theight = canvas.height = imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height;\r\n\twidth = canvas.width = imgEl.naturalWidth || imgEl.offsetWidth || imgEl.width;\r\n\tcontext.drawImage(imgEl, 0, 0);\r\n\r\n\ttry{\r\n\t\tdata = context.getImageData(0, 0, width, height);\r\n\t}catch(e){\r\n\t\t/* security error, img on diff domain */\r\n\t\treturn defaultRGB;\r\n\t}\r\n\r\n\tlength = data.data.length;\r\n\twhile((i += blockSize * 4) < length){\r\n\t\t++count;\r\n\t\trgb.r += data.data[i];\r\n\t\trgb.g += data.data[i + 1];\r\n\t\trgb.b += data.data[i + 2];\r\n\t}\r\n\r\n\t// ~~ used to floor values\r\n\trgb.r = ~~(rgb.r / count);\r\n\trgb.g = ~~(rgb.g / count);\r\n\trgb.b = ~~(rgb.b / count);\r\n\treturn rgb;\r\n}\r\n","/**\r\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\r\n  * to work around bugs in some JS interpreters.\r\n  */\r\nconst safeAdd = (x, y) => {\r\n\tlet lsw = (x & 0xffff) + (y & 0xffff);\r\n\tlet msw = (x >> 16) + (y >> 16) + (lsw >> 16);\r\n\treturn (msw << 16) | (lsw & 0xffff)\r\n}\r\n\r\n/**\r\n* Bitwise rotate a 32-bit number to the left.\r\n*/\r\nconst bitRotateLeft = (num, cnt) => {\r\n\treturn (num << cnt) | (num >>> (32 - cnt))\r\n}\r\n\r\n/**\r\n* These functions implement the four basic operations the algorithm uses.\r\n*/\r\nconst md5cmn = (q, a, b, x, s, t) => {\r\n\treturn safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\r\n}\r\n\r\nconst md5ff = (a, b, c, d, x, s, t) => {\r\n\treturn md5cmn((b & c) | (~b & d), a, b, x, s, t)\r\n}\r\n\r\nconst md5gg = (a, b, c, d, x, s, t) => {\r\n\treturn md5cmn((b & d) | (c & ~d), a, b, x, s, t)\r\n}\r\n\r\nconst md5hh = (a, b, c, d, x, s, t) => {\r\n\treturn md5cmn(b ^ c ^ d, a, b, x, s, t)\r\n}\r\n\r\nconst md5ii = (a, b, c, d, x, s, t) => {\r\n\treturn md5cmn(c ^ (b | ~d), a, b, x, s, t)\r\n}\r\n\r\n/**\r\n* Calculate the MD5 of an array of little-endian words, and a bit length.\r\n*/\r\nconst binlMD5 = (x, len) => {\r\n\t/* append padding */\r\n\tx[len >> 5] |= 0x80 << (len % 32);\r\n\tx[((len + 64) >>> 9 << 4) + 14] = len;\r\n\r\n\tlet i;\r\n\tlet olda;\r\n\tlet oldb;\r\n\tlet oldc;\r\n\tlet oldd;\r\n\tlet a = 1732584193;\r\n\tlet b = -271733879;\r\n\tlet c = -1732584194;\r\n\tlet d = 271733878;\r\n\r\n\tfor(i = 0; i < x.length; i += 16){\r\n\t\tolda = a;\r\n\t\toldb = b;\r\n\t\toldc = c;\r\n\t\toldd = d;\r\n\r\n\t\ta = md5ff(a, b, c, d, x[i], 7, -680876936);\r\n\t\td = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\r\n\t\tc = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\r\n\t\tb = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\r\n\t\ta = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\r\n\t\td = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\r\n\t\tc = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\r\n\t\tb = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\r\n\t\ta = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\r\n\t\td = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\r\n\t\tc = md5ff(c, d, a, b, x[i + 10], 17, -42063);\r\n\t\tb = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\r\n\t\ta = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\r\n\t\td = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\r\n\t\tc = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\r\n\t\tb = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\r\n\r\n\t\ta = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\r\n\t\td = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\r\n\t\tc = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\r\n\t\tb = md5gg(b, c, d, a, x[i], 20, -373897302);\r\n\t\ta = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\r\n\t\td = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\r\n\t\tc = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\r\n\t\tb = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\r\n\t\ta = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\r\n\t\td = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\r\n\t\tc = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\r\n\t\tb = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\r\n\t\ta = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\r\n\t\td = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\r\n\t\tc = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\r\n\t\tb = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\r\n\r\n\t\ta = md5hh(a, b, c, d, x[i + 5], 4, -378558);\r\n\t\td = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\r\n\t\tc = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\r\n\t\tb = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\r\n\t\ta = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\r\n\t\td = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\r\n\t\tc = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\r\n\t\tb = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\r\n\t\ta = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\r\n\t\td = md5hh(d, a, b, c, x[i], 11, -358537222);\r\n\t\tc = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\r\n\t\tb = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\r\n\t\ta = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\r\n\t\td = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\r\n\t\tc = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\r\n\t\tb = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\r\n\r\n\t\ta = md5ii(a, b, c, d, x[i], 6, -198630844);\r\n\t\td = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\r\n\t\tc = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\r\n\t\tb = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\r\n\t\ta = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\r\n\t\td = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\r\n\t\tc = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\r\n\t\tb = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\r\n\t\ta = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\r\n\t\td = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\r\n\t\tc = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\r\n\t\tb = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\r\n\t\ta = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\r\n\t\td = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\r\n\t\tc = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\r\n\t\tb = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\r\n\r\n\t\ta = safeAdd(a, olda)\r\n\t\tb = safeAdd(b, oldb)\r\n\t\tc = safeAdd(c, oldc)\r\n\t\td = safeAdd(d, oldd)\r\n\t}\r\n\treturn [a, b, c, d]\r\n}\r\n\r\n/**\r\n* Convert an array of little-endian words to a string\r\n*/\r\nconst binl2rstr = (input) => {\r\n\tlet i;\r\n\tlet output = '';\r\n\tlet length32 = input.length * 32;\r\n\tfor(i = 0; i < length32; i += 8){\r\n\t\toutput += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xff)\r\n\t}\r\n\treturn output\r\n}\r\n\r\n/**\r\n* Convert a raw string to an array of little-endian words\r\n* Characters >255 have their high-byte silently ignored.\r\n*/\r\nconst rstr2binl = (input) => {\r\n\tlet i;\r\n\tlet output = [];\r\n\toutput[(input.length >> 2) - 1] = undefined;\r\n\tfor(i = 0; i < output.length; i += 1){\r\n\t\toutput[i] = 0\r\n\t}\r\n\tlet length8 = input.length * 8;\r\n\tfor(i = 0; i < length8; i += 8){\r\n\t\toutput[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << (i % 32)\r\n\t}\r\n\treturn output\r\n}\r\n\r\n/**\r\n* Calculate the MD5 of a raw string\r\n*/\r\nconst rstrMD5 = (s) => {\r\n\treturn binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\r\n}\r\n\r\n/**\r\n* Calculate the HMAC-MD5, of a key and some data (raw strings)\r\n*/\r\nconst rstrHMACMD5 = (key, data) => {\r\n\tlet i;\r\n\tlet bkey = rstr2binl(key);\r\n\tlet ipad = [];\r\n\tlet opad = [];\r\n\tlet hash;\r\n\tipad[15] = opad[15] = undefined;\r\n\tif(bkey.length > 16){\r\n\t\tbkey = binlMD5(bkey, key.length * 8)\r\n\t}\r\n\tfor(i = 0; i < 16; i += 1){\r\n\t\tipad[i] = bkey[i] ^ 0x36363636;\r\n\t\topad[i] = bkey[i] ^ 0x5c5c5c5c\r\n\t}\r\n\thash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\r\n\treturn binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\r\n}\r\n\r\n/**\r\n* Convert a raw string to a hex string\r\n*/\r\nconst rstr2hex = (input) => {\r\n\tlet hexTab = '0123456789abcdef';\r\n\tlet output = '';\r\n\tlet x;\r\n\tlet i;\r\n\tfor(i = 0; i < input.length; i += 1){\r\n\t\tx = input.charCodeAt(i);\r\n\t\toutput += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\r\n\t}\r\n\treturn output\r\n}\r\n\r\n/**\r\n* Encode a string as utf-8\r\n*/\r\nconst str2rstrUTF8 = (input) => {\r\n\treturn unescape(encodeURIComponent(input))\r\n}\r\n\r\n/**\r\n* Take string arguments and return either raw or hex encoded strings\r\n*/\r\nconst rawMD5 = (s) => {\r\n\treturn rstrMD5(str2rstrUTF8(s))\r\n}\r\n\r\nconst hexMD5 = (s) => {\r\n\treturn rstr2hex(rawMD5(s))\r\n}\r\n\r\nconst rawHMACMD5 = (k, d) => {\r\n\treturn rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\r\n}\r\n\r\nconst hexHMACMD5 = (k, d) => {\r\n\treturn rstr2hex(rawHMACMD5(k, d))\r\n}\r\n\r\nexport const MD5 = (string, key, raw) => {\r\n\tif(!key){\r\n\t\tif(!raw){\r\n\t\t\treturn hexMD5(string)\r\n\t\t}\r\n\t\treturn rawMD5(string)\r\n\t}\r\n\tif(!raw){\r\n\t\treturn hexHMACMD5(key, string)\r\n\t}\r\n\treturn rawHMACMD5(key, string)\r\n};\r\n","import {BizEvent} from \"./Event.js\";\r\n\r\nlet hook_flag = false;\r\nconst RptEv = new BizEvent();\r\nconst doHook = () => {\r\n\tlet observer = new ReportingObserver((reports) => {\r\n\t\tonReportApi.fire(reports);\r\n\t}, {\r\n\t\ttypes: ['deprecation'],\r\n\t\tbuffered: true\r\n\t});\r\n\tobserver.observe();\r\n};\r\n\r\nexport const onReportApi = {\r\n\tlisten(payload){\r\n\t\t!hook_flag && doHook();\r\n\t\thook_flag = true;\r\n\t\tRptEv.listen(payload);\r\n\t},\r\n\tremove(payload){\r\n\t\treturn RptEv.remove(payload);\r\n\t},\r\n\tfire(...args){\r\n\t\treturn RptEv.fire(...args);\r\n\t}\r\n};\r\n","import {getHash, QueryString} from \"./Net.js\";\r\n\r\nlet payloads = [];\r\nlet popstate_bind = false;\r\n\r\n/**\r\n * 压栈状态\r\n * @param {Object} param\r\n * @param {String} title\r\n */\r\nexport const pushState = (param, title = '') => {\r\n\tlet url = location.href.replace(/#.*$/g, '') + '#' + QueryString.stringify(param);\r\n\twindow.history.pushState(param, title, url);\r\n\texePayloads(param);\r\n}\r\n\r\n/**\r\n * 监听 window onpopstate 事件\r\n * @param {Function} payload\r\n */\r\nexport const onStateChange = (payload) => {\r\n\tif(!popstate_bind){\r\n\t\tpopstate_bind = true;\r\n\t\twindow.addEventListener('popstate', e=>{\r\n\t\t\tlet state = e.state ?? {};\r\n\t\t\tlet hashObj = QueryString.parse(getHash());\r\n\t\t\texePayloads({...state, ...hashObj});\r\n\t\t})\r\n\t}\r\n\tpayloads.push(payload);\r\n}\r\n\r\nconst exePayloads = (param) => {\r\n\tpayloads.forEach(payload => {\r\n\t\tpayload(param);\r\n\t});\r\n}","export const ONE_MINUTE = 60000;\r\nexport const ONE_HOUR = 3600000;\r\nexport const ONE_DAY = 86400000;\r\nexport const ONE_WEEK = 604800000;\r\nexport const ONE_MONTH_30 = 2592000000;\r\nexport const ONE_MONTH_31 = 2678400000;\r\nexport const ONE_YEAR_365 = 31536000000;\r\n\r\n/**\r\n * 限制函数执行频率\r\n * @param {Function} payload\r\n * @param interval\r\n * @param executeOnFistTime\r\n */\r\nexport function frequencyControl(payload, interval, executeOnFistTime = false){\r\n\tif(payload._frq_tm){\r\n\t\tclearTimeout(payload._frq_tm);\r\n\t}\r\n\tpayload._frq_tm = setTimeout(() => {\r\n\t\tfrequencyControl(payload, interval, executeOnFistTime);\r\n\t}, interval);\r\n}\r\n\r\n/**\r\n * 获取指定月份天数\r\n * @param {Number} year\r\n * @param {Number} month 月份，从1开始\r\n * @returns {number}\r\n */\r\nexport const getMonthLastDay = (year, month) => {\r\n\tconst date1 = new Date(year, month, 0)\r\n\treturn date1.getDate()\r\n}\r\n\r\n/**\r\n * 获取指定上一个月份\r\n * @param {Number} year\r\n * @param {Number} month 当前月份，从1开始\r\n * @returns {Array}\r\n */\r\nexport const getLastMonth = (year, month) => {\r\n\treturn month === 1 ? [year - 1, 12] : [year, month - 1];\r\n}\r\n\r\n/**\r\n * 获取指定下一个月份\r\n * @param {Number} year\r\n * @param {Number} month 当前月份，从1开始\r\n * @returns {Array}\r\n */\r\nexport const getNextMonth = (year, month) => {\r\n\treturn month === 12 ? [year + 1, 1] : [year, month + 1];\r\n}\r\n\r\n/**\r\n * @param startTime\r\n * @param index\r\n * @param total\r\n * @param pretty\r\n * @return {string|number}\r\n */\r\nexport const getETA = (startTime, index, total, pretty = true)=>{\r\n\tif(!index){\r\n\t\treturn '';\r\n\t}\r\n\tlet sec = ((Date.now()) - startTime) * (total - index)/index;\r\n\tif(!pretty){\r\n\t\treturn sec;\r\n\t}\r\n\treturn prettyTime(sec*1000);\r\n}\r\n\r\n/**\r\n * 计时（该方法采用timeout方式，不够精准\r\n * @param {Number} timeout\r\n * @param {Function} tickFunc\r\n * @param {Function} onFinish\r\n */\r\nexport const countDown = (timeout, tickFunc, onFinish) => {\r\n\tlet loop = () => {\r\n\t\ttickFunc && tickFunc(timeout);\r\n\t\tif(timeout-- > 0){\r\n\t\t\tsetTimeout(loop, 1000);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tonFinish && onFinish();\r\n\t};\r\n\tloop();\r\n}\r\n\r\n/**\r\n * 格式化时间长度\r\n * @param {Number} micSec 毫秒\r\n * @param {String} delimiter 单位之间的间隔文本\r\n * @return {string}\r\n */\r\nexport const prettyTime = (micSec, delimiter = '') => {\r\n\tlet d = 0, h = 0, m = 0, s = 0;\r\n\tif(micSec > ONE_DAY){\r\n\t\td = Math.floor(micSec / ONE_DAY);\r\n\t\tmicSec -= d * ONE_DAY;\r\n\t}\r\n\tif(micSec > ONE_HOUR){\r\n\t\th = Math.floor(micSec / ONE_HOUR);\r\n\t\tmicSec -= h * ONE_HOUR;\r\n\t}\r\n\tif(micSec > ONE_MINUTE){\r\n\t\tm = Math.floor(micSec / ONE_MINUTE);\r\n\t\tmicSec -= m * ONE_MINUTE;\r\n\t}\r\n\tif(micSec > 1000){\r\n\t\ts = Math.floor(micSec / 1000);\r\n\t\tmicSec -= s * 1000;\r\n\t}\r\n\tlet txt = '';\r\n\ttxt += d ? `${d}天` : '';\r\n\ttxt += (txt || h) ? `${delimiter}${h}小时` : '';\r\n\ttxt += (txt || m) ? `${delimiter}${m}分` : '';\r\n\ttxt += (txt || s) ? `${delimiter}${s}秒` : '';\r\n\treturn txt.trim();\r\n}\r\n\r\n/**\r\n * 指定偏移月数计算\r\n * @param {Number} monthNum\r\n * @param {Date|Null} start_date\r\n * @return {{month: number, year: number}} 返回年、月（以1开始）\r\n */\r\nexport const monthsOffsetCalc = (monthNum, start_date = new Date()) => {\r\n\tlet year = start_date.getFullYear();\r\n\tlet month = start_date.getMonth() + 1;\r\n\tmonth = month + monthNum;\r\n\tif(month > 12){\r\n\t\tlet yearNum = Math.floor((month - 1) / 12);\r\n\t\tmonth = month % 12 === 0 ? 12 : month % 12;\r\n\t\tyear += yearNum;\r\n\t}else if(month <= 0){\r\n\t\tmonth = Math.abs(month);\r\n\t\tlet yearNum = Math.floor((month + 12) / 12);\r\n\t\tlet n = month % 12;\r\n\t\tif(n === 0){\r\n\t\t\tyear -= yearNum;\r\n\t\t\tmonth = 12\r\n\t\t}else{\r\n\t\t\tyear -= yearNum;\r\n\t\t\tmonth = Math.abs(12 - n)\r\n\t\t}\r\n\t}\r\n\treturn {year, month}\r\n}\r\n\r\n/**\r\n * Defining locale\r\n * @type {string[]}\r\n */\r\nconst shortMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\nconst longMonths = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\r\nconst shortDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\nconst longDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\r\n\r\n/**\r\n * PHP 时间函数映射\r\n * 具体含义可以参考：http://php.net/manual/en/function.date.php\r\n * 或者 php.date.en.md\r\n */\r\nconst PHP_DATE_CHAR_MAP = {\r\n\td: dateObj => {\r\n\t\tlet d = dateObj.getDate();\r\n\t\treturn (d < 10 ? '0' : '') + d\r\n\t},\r\n\tD: dateObj => {\r\n\t\treturn shortDays[dateObj.getDay()]\r\n\t},\r\n\tj: dateObj => {\r\n\t\treturn dateObj.getDate()\r\n\t},\r\n\tl: dateObj => {\r\n\t\treturn longDays[dateObj.getDay()]\r\n\t},\r\n\tN: dateObj => {\r\n\t\tlet N = dateObj.getDay();\r\n\t\treturn (N === 0 ? 7 : N)\r\n\t},\r\n\tS: dateObj => {\r\n\t\tlet S = dateObj.getDate();\r\n\t\treturn (S % 10 === 1 && S !== 11 ? 'st' : (S % 10 === 2 && S !== 12 ? 'nd' : (S % 10 === 3 && S !== 13 ? 'rd' : 'th')))\r\n\t},\r\n\tw: dateObj => {\r\n\t\treturn dateObj.getDay()\r\n\t},\r\n\tz: dateObj => {\r\n\t\tlet d = new Date(dateObj.getFullYear(), 0, 1);\r\n\t\treturn Math.ceil((dateObj - d) / 86400000)\r\n\t},\r\n\t// Week\r\n\tW: dateObj => {\r\n\t\tlet target = new Date(dateObj.valueOf())\r\n\t\tlet dayNr = (dateObj.getDay() + 6) % 7\r\n\t\ttarget.setDate(target.getDate() - dayNr + 3)\r\n\t\tlet firstThursday = target.valueOf()\r\n\t\ttarget.setMonth(0, 1)\r\n\t\tif(target.getDay() !== 4){\r\n\t\t\ttarget.setMonth(0, 1 + ((4 - target.getDay()) + 7) % 7)\r\n\t\t}\r\n\t\tlet retVal = 1 + Math.ceil((firstThursday - target) / 604800000)\r\n\r\n\t\treturn (retVal < 10 ? '0' + retVal : retVal)\r\n\t},\r\n\t// Month\r\n\tF: dateObj => {\r\n\t\treturn longMonths[dateObj.getMonth()]\r\n\t},\r\n\tm: dateObj => {\r\n\t\tlet m = dateObj.getMonth();\r\n\t\treturn (m < 9 ? '0' : '') + (m + 1)\r\n\t},\r\n\tM: dateObj => {\r\n\t\treturn shortMonths[dateObj.getMonth()]\r\n\t},\r\n\tn: dateObj => {\r\n\t\treturn dateObj.getMonth() + 1\r\n\t},\r\n\tt: dateObj => {\r\n\t\tlet year = dateObj.getFullYear()\r\n\t\tlet nextMonth = dateObj.getMonth() + 1\r\n\t\tif(nextMonth === 12){\r\n\t\t\tyear = year++\r\n\t\t\tnextMonth = 0\r\n\t\t}\r\n\t\treturn new Date(year, nextMonth, 0).getDate()\r\n\t},\r\n\t// Year\r\n\tL: dateObj => {\r\n\t\tlet L = dateObj.getFullYear();\r\n\t\treturn (L % 400 === 0 || (L % 100 !== 0 && L % 4 === 0))\r\n\t},\r\n\to: dateObj => {\r\n\t\tlet d = new Date(dateObj.valueOf());\r\n\t\td.setDate(d.getDate() - ((dateObj.getDay() + 6) % 7) + 3);\r\n\t\treturn d.getFullYear()\r\n\t},\r\n\tY: dateObj => {\r\n\t\treturn dateObj.getFullYear()\r\n\t},\r\n\ty: dateObj => {\r\n\t\treturn ('' + dateObj.getFullYear()).substr(2)\r\n\t},\r\n\t// Time\r\n\ta: dateObj => {\r\n\t\treturn dateObj.getHours() < 12 ? 'am' : 'pm'\r\n\t},\r\n\tA: dateObj => {\r\n\t\treturn dateObj.getHours() < 12 ? 'AM' : 'PM'\r\n\t},\r\n\tB: dateObj => {\r\n\t\treturn Math.floor((((dateObj.getUTCHours() + 1) % 24) + dateObj.getUTCMinutes() / 60 + dateObj.getUTCSeconds() / 3600) * 1000 / 24)\r\n\t},\r\n\tg: dateObj => {\r\n\t\treturn dateObj.getHours() % 12 || 12\r\n\t},\r\n\tG: dateObj => {\r\n\t\treturn dateObj.getHours()\r\n\t},\r\n\th: dateObj => {\r\n\t\tlet h = dateObj.getHours();\r\n\t\treturn ((h % 12 || 12) < 10 ? '0' : '') + (h % 12 || 12)\r\n\t},\r\n\tH: dateObj => {\r\n\t\tlet H = dateObj.getHours();\r\n\t\treturn (H < 10 ? '0' : '') + H\r\n\t},\r\n\ti: dateObj => {\r\n\t\tlet i = dateObj.getMinutes();\r\n\t\treturn (i < 10 ? '0' : '') + i\r\n\t},\r\n\ts: dateObj => {\r\n\t\tlet s = dateObj.getSeconds();\r\n\t\treturn (s < 10 ? '0' : '') + s\r\n\t},\r\n\tv: dateObj => {\r\n\t\tlet v = dateObj.getMilliseconds();\r\n\t\treturn (v < 10 ? '00' : (v < 100 ? '0' : '')) + v\r\n\t},\r\n\t// Timezone\r\n\te: dateObj => {\r\n\t\treturn Intl.DateTimeFormat().resolvedOptions().timeZone\r\n\t},\r\n\tI: dateObj => {\r\n\t\tlet DST = null\r\n\t\tfor(let i = 0; i < 12; ++i){\r\n\t\t\tlet d = new Date(dateObj.getFullYear(), i, 1)\r\n\t\t\tlet offset = d.getTimezoneOffset()\r\n\r\n\t\t\tif(DST === null) DST = offset\r\n\t\t\telse if(offset < DST){\r\n\t\t\t\tDST = offset;\r\n\t\t\t\tbreak\r\n\t\t\t}else if(offset > DST) break\r\n\t\t}\r\n\t\treturn (dateObj.getTimezoneOffset() === DST) | 0\r\n\t},\r\n\tO: dateObj => {\r\n\t\tlet O = dateObj.getTimezoneOffset();\r\n\t\treturn (-O < 0 ? '-' : '+') + (Math.abs(O / 60) < 10 ? '0' : '') + Math.floor(Math.abs(O / 60)) + (Math.abs(O % 60) === 0 ? '00' : ((Math.abs(O % 60) < 10 ? '0' : '')) + (Math.abs(O % 60)))\r\n\t},\r\n\tP: dateObj => {\r\n\t\tlet P = dateObj.getTimezoneOffset();\r\n\t\treturn (-P < 0 ? '-' : '+') + (Math.abs(P / 60) < 10 ? '0' : '') + Math.floor(Math.abs(P / 60)) + ':' + (Math.abs(P % 60) === 0 ? '00' : ((Math.abs(P % 60) < 10 ? '0' : '')) + (Math.abs(P % 60)))\r\n\t},\r\n\tT: dateObj => {\r\n\t\tlet tz = dateObj.toLocaleTimeString(navigator.language, {timeZoneName: 'short'}).split(' ');\r\n\t\treturn tz[tz.length - 1]\r\n\t},\r\n\tZ: dateObj => {\r\n\t\treturn -dateObj.getTimezoneOffset() * 60\r\n\t},\r\n\t// Full Date/Time\r\n\tc: dateObj => {\r\n\t\treturn dateObj.format('Y-m-d\\\\TH:i:sP')\r\n\t},\r\n\tr: dateObj => {\r\n\t\treturn dateObj.toString()\r\n\t},\r\n\tU: dateObj => {\r\n\t\treturn Math.floor(dateObj.getTime() / 1000)\r\n\t}\r\n}\r\n\r\n/**\r\n * 格式化日期（以PHP方式格式化）\r\n * @param {String} format\r\n * @param {Object,Number,String} date 日期，可以是日期对象、毫秒数或者日期字符串，缺省为今天\r\n * @return {String}\r\n */\r\nexport const formatDate = function(format, date = null){\r\n\tlet dateObj = null;\r\n\tif(typeof date === 'object' && date !== null){\r\n\t\tdateObj = date;\r\n\t}else{\r\n\t\tdateObj = new Date(date || (Date.now()));\r\n\t}\r\n\treturn format.replace(/(\\\\?)(.)/g, function(_, esc, chr){\r\n\t\treturn (esc === '' && PHP_DATE_CHAR_MAP[chr]) ? PHP_DATE_CHAR_MAP[chr](dateObj) : chr\r\n\t})\r\n}","const DOMAIN_DEFAULT = 'default';\r\n\r\nexport const trans = (text, domain = DOMAIN_DEFAULT) => {\r\n\treturn text;\r\n}","import {createDomByHtml, findAll, insertStyleSheet} from \"../Lang/Dom.js\";\r\nimport {getAvailableElements} from \"../Lang/Form.js\";\r\nimport {randomInt} from \"../Lang/Math.js\";\r\nimport {randomSentence} from \"../Lang/String.js\";\r\nimport {triggerDomEvent} from \"../Lang/Event.js\";\r\nimport {Theme} from \"./Theme.js\";\r\n\r\nconst DEFAULT_MAXLENGTH = 40;\r\nconst DEFAULT_MAX = 100;\r\nlet button_init = false;\r\n\r\n/**\r\n * 初始化表单填充按钮\r\n * @param {String} scopeSelector 自动填充范围，缺省为全局\r\n */\r\nexport const initAutofillButton = (scopeSelector = 'body') => {\r\n\tif(button_init){\r\n\t\tthrow \"autofill button already initialized\";\r\n\t}\r\n\tbutton_init = true;\r\n\tinsertStyleSheet(`\r\n\t\t#auto-fill-form-btn {position: absolute; left:calc(100vw - 200px); top:50px;z-index:99999;user-select:none;opacity:0.4;transition:all 0.1s linear; border-color:#ddd; border:1px solid #aaa; --size:2em; border-radius:5px; width:var(--size); height:var(--size); line-height:var(--size); text-align:center; cursor:pointer; background-color:#fff;}\r\n\t\t#auto-fill-form-btn:hover {opacity:1}\r\n\t\t#auto-fill-form-btn:before {content:\"\\\\e75d\"; font-family:${Theme.IconFont}}\r\n\t`, Theme.Namespace+'-autofill');\r\n\tlet button = createDomByHtml('<span id=\"auto-fill-form-btn\" title=\"自动填充\"></span>', document.body);\r\n\tbutton.addEventListener('click', e => {\r\n\t\tfindAll(`${scopeSelector} form`).forEach(fillForm);\r\n\t});\r\n\ttryPositionInFirstForm(`${scopeSelector}`, button);\r\n}\r\n\r\n/**\r\n * 尝试定位在第一个有效的表单旁边\r\n * @param {String} scope\r\n * @param {Node} button\r\n */\r\nconst tryPositionInFirstForm = (scope, button) => {\r\n\tlet firstAvailableForm = findAll(`${scope} form`).find(form => {\r\n\t\treturn !!getAvailableElements(form).length;\r\n\t});\r\n\tif(firstAvailableForm){\r\n\t\tbutton.style.left = firstAvailableForm.offsetLeft + firstAvailableForm.offsetWidth - button.offsetWidth + 'px';\r\n\t\tbutton.style.top = firstAvailableForm.offsetTop + 'px';\r\n\t}\r\n}\r\n\r\n/**\r\n * 填充表单数据\r\n * @param {HTMLFormElement|Node} formOrContainer\r\n * @return {boolean}\r\n */\r\nexport const fillForm = (formOrContainer) => {\r\n\tlet inputElements = getAvailableElements(formOrContainer, true);\r\n\tif(!inputElements.length){\r\n\t\treturn false;\r\n\t}\r\n\tlet radio_filled = {};\r\n\tinputElements.forEach(element => {\r\n\t\tif(element.type === 'hidden'){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet required = element.required ? true : randomInt(0, 5) > 2;\r\n\t\tlet maxlength = parseInt(element.getAttribute('maxlength') || 0) || DEFAULT_MAXLENGTH;\r\n\t\tlet name = element.name;\r\n\r\n\t\tswitch(element.type){\r\n\t\t\tcase 'text':\r\n\t\t\tcase 'password':\r\n\t\t\tcase 'search':\r\n\t\t\tcase 'address':\r\n\t\t\t\trequired && (element.value = randomSentence(maxlength));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'checkbox':\r\n\t\t\t\telement.checked = Math.random() > 0.5;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'radio':\r\n\t\t\t\tif(name.length && radio_filled[name]){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tradio_filled[name] = true;\r\n\t\t\t\trequired = true;\r\n\t\t\t\tlet all_radios = Array.from(formOrContainer.querySelectorAll(`input[name=${name}]`));\r\n\t\t\t\tlet matched_radio = all_radios[randomInt(0, all_radios.length - 1)];\r\n\t\t\t\tmatched_radio.setAttribute('checked', 'checked');\r\n\t\t\t\ttriggerDomEvent(element, 'change');\r\n\t\t\t\treturn;\r\n\r\n\t\t\tcase 'number':\r\n\t\t\t\tlet min = element.min ? parseFloat(element.min) : 0;\r\n\t\t\t\tlet max = element.max ? parseFloat(element.max) : DEFAULT_MAX;\r\n\t\t\t\trequired && (element.value = randomInt(min, max));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tif(element.tagName === 'SELECT'){\r\n\t\t\t\t\trequired && (element.selectedIndex = randomInt(0, element.querySelectorAll('option').length - 1));\r\n\t\t\t\t}else if(element.tagName === 'TEXTAREA'){\r\n\t\t\t\t\trequired && (element.value = randomSentence(maxlength, true));\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\trequired && triggerDomEvent(element, 'change');\r\n\t});\r\n}","import {createDomByHtml, findOne, getContextWindow, hide, insertStyleSheet, remove, show} from \"./../Lang/Dom.js\"\r\nimport {Theme} from \"./Theme.js\";\r\n\r\nconst COM_ID = Theme.Namespace + 'toast';\r\n\r\nconst TOAST_CLS_MAIN = Theme.Namespace + 'toast';\r\nconst rotate_animate = Theme.Namespace + '-toast-rotate';\r\nconst fadeIn_animate = Theme.Namespace + '-toast-fadein';\r\nconst fadeOut_animate = Theme.Namespace + '-toast-fadeout';\r\nconst FADEIN_TIME = 200;\r\nconst FADEOUT_TIME = 500;\r\n\r\nconst STYLE_STR = `\r\n\t@keyframes ${rotate_animate} {\r\n\t    0% {transform:scale(1.4) rotate(0deg);}\r\n\t    100% {transform:scale(1.4) rotate(360deg);}\r\n\t} \r\n\t@keyframes ${fadeIn_animate} {\r\n\t\t0% { opacity: 0; }\r\n\t\t100% { opacity: 1; } \r\n\t}\r\n\t@keyframes ${fadeOut_animate} {\r\n\t\t0% { opacity:1;}\r\n\t\t100% { opacity: 0} \r\n\t}\r\n\t.${TOAST_CLS_MAIN}-wrap{position:fixed; margin:0; padding:0; top:5px; pointer-events:none; background-color:transparent; width:100%; border:none; text-align:center; z-index:${Theme.ToastIndex};}\r\n\t.${TOAST_CLS_MAIN} {pointer-events:auto}\r\n\t.${TOAST_CLS_MAIN}>span {margin-bottom:0.5rem;}\r\n\t.${TOAST_CLS_MAIN} .ctn{display:inline-block;border-radius:3px;padding:.5rem 1rem .5rem 2.8rem; text-align:left; line-height:1.5rem; background-color:var(${Theme.CssVar.BACKGROUND_COLOR});color:var(${Theme.CssVar.COLOR});box-shadow:var(${Theme.CssVar.PANEL_SHADOW}); animation:${fadeIn_animate} ${FADEIN_TIME}ms}\r\n\t.${TOAST_CLS_MAIN} .ctn:before {content:\"\";font-family:${Theme.IconFont}; position:absolute; font-size:1.4rem; margin-left:-1.8rem;}\r\n\t.${TOAST_CLS_MAIN}-hide .ctn {animation:${fadeOut_animate} ${FADEOUT_TIME}ms; animation-fill-mode:forwards}\r\n\t.${TOAST_CLS_MAIN}-info .ctn:before {content:\"\\\\e77e\";color: gray;}\r\n\t.${TOAST_CLS_MAIN}-warning .ctn:before {content:\"\\\\e673\"; color:orange}\r\n\t.${TOAST_CLS_MAIN}-success .ctn:before {content:\"\\\\e78d\"; color:#007ffc}\r\n\t.${TOAST_CLS_MAIN}-error .ctn:before {content: \"\\\\e6c6\"; color:red;} \r\n\t.${TOAST_CLS_MAIN}-loading .ctn:before {content:\"\\\\e635\";color:gray;animation: 1.5s linear infinite ${rotate_animate};animation-play-state: inherit;transform:scale(1.4);will-change: transform}\r\n`;\r\n\r\nlet toastWrap = null;\r\n\r\nconst getWrapper = () => {\r\n\tif(!toastWrap){\r\n\t\ttoastWrap = createDomByHtml(`<div class=\"${TOAST_CLS_MAIN}-wrap\" popover=\"manual\"></div>`, document.body);\r\n\t}\r\n\treturn toastWrap;\r\n}\r\n\r\nclass Toast {\r\n\tstatic TYPE_INFO = 'info';\r\n\tstatic TYPE_SUCCESS = 'success';\r\n\tstatic TYPE_WARNING = 'warning';\r\n\tstatic TYPE_ERROR = 'error';\r\n\tstatic TYPE_LOADING = 'loading';\r\n\r\n\t/**\r\n\t * 各种类型提示默认隐藏时间\r\n\t */\r\n\tstatic DEFAULT_TIME_MAP = {\r\n\t\t[Toast.TYPE_INFO]: 1500,\r\n\t\t[Toast.TYPE_SUCCESS]: 1500,\r\n\t\t[Toast.TYPE_WARNING]: 2000,\r\n\t\t[Toast.TYPE_ERROR]: 2500,\r\n\t\t[Toast.TYPE_LOADING]: 0,\r\n\t};\r\n\r\n\tmessage = '';\r\n\ttype = Toast.TYPE_INFO;\r\n\ttimeout = Toast.DEFAULT_TIME_MAP[this.type];\r\n\r\n\tdom = null;\r\n\r\n\t/**\r\n\t * @param {String} message\r\n\t * @param {String} type\r\n\t * @param {Number} timeout 超时时间，0表示不关闭\r\n\t */\r\n\tconstructor(message, type = null, timeout = null){\r\n\t\tinsertStyleSheet(STYLE_STR, COM_ID + '-style');\r\n\t\tthis.message = message;\r\n\t\tthis.type = type || Toast.TYPE_SUCCESS;\r\n\t\tthis.timeout = timeout === null ? Toast.DEFAULT_TIME_MAP[this.type] : timeout;\r\n\t}\r\n\r\n\t/**\r\n\t * 显示提示\r\n\t * @param {String} message\r\n\t * @param {String} type\r\n\t * @param {Number} timeout 超时时间，0表示不关闭\r\n\t * @param {Function} timeoutCallback 超时关闭回调\r\n\t * @returns\r\n\t */\r\n\tstatic showToast = (message, type = null, timeout = null, timeoutCallback = null) => {\r\n\t\tlet toast = new Toast(message, type, timeout);\r\n\t\ttoast.show(timeoutCallback);\r\n\t\treturn toast;\r\n\t}\r\n\r\n\t/**\r\n\t * 显示[提示]\r\n\t * @param {String} message\r\n\t * @param {Function} timeoutCallback 超时关闭回调\r\n\t * @return {Toast}\r\n\t */\r\n\tstatic showInfo = (message, timeoutCallback = null) => {\r\n\t\treturn this.showToast(message, Toast.TYPE_INFO, this.DEFAULT_TIME_MAP[Toast.TYPE_INFO], timeoutCallback);\r\n\t}\r\n\r\n\t/**\r\n\t * 显示[成功]\r\n\t * @param {String} message\r\n\t * @param {Function} timeoutCallback 超时关闭回调\r\n\t * @return {Toast}\r\n\t */\r\n\tstatic showSuccess = (message, timeoutCallback = null) => {\r\n\t\treturn this.showToast(message, Toast.TYPE_SUCCESS, this.DEFAULT_TIME_MAP[Toast.TYPE_SUCCESS], timeoutCallback);\r\n\t}\r\n\r\n\t/**\r\n\t * 显示[告警]\r\n\t * @param {String} message\r\n\t * @param {Function} timeoutCallback 超时关闭回调\r\n\t * @return {Toast}\r\n\t */\r\n\tstatic showWarning = (message, timeoutCallback = null) => {\r\n\t\treturn this.showToast(message, Toast.TYPE_WARNING, this.DEFAULT_TIME_MAP[Toast.TYPE_WARNING], timeoutCallback);\r\n\t}\r\n\r\n\t/**\r\n\t * 显示[错误]\r\n\t * @param {String} message\r\n\t * @param {Function} timeoutCallback 超时关闭回调\r\n\t * @return {Toast}\r\n\t */\r\n\tstatic showError = (message, timeoutCallback = null) => {\r\n\t\treturn this.showToast(message, Toast.TYPE_ERROR, this.DEFAULT_TIME_MAP[Toast.TYPE_ERROR], timeoutCallback);\r\n\t}\r\n\r\n\t/**\r\n\t * 显示[加载中]\r\n\t * @param {String} message\r\n\t * @param {Function} timeoutCallback 超时关闭回调\r\n\t * @return {Toast}\r\n\t */\r\n\tstatic showLoading = (message, timeoutCallback = null) => {\r\n\t\treturn this.showToast(message, Toast.TYPE_LOADING, this.DEFAULT_TIME_MAP[Toast.TYPE_LOADING], timeoutCallback);\r\n\t}\r\n\r\n\t/**\r\n\t * 延期显示 loading（推荐使用）\r\n\t * 在一些业务后台能够快速响应场景，不显示loading过程能够提升用户体验\r\n\t * @param {String} message\r\n\t * @param {Number} delayMicroseconds 延迟显示\r\n\t * @param {Function} timeoutCallback\r\n\t * @return {Toast}\r\n\t */\r\n\tstatic showLoadingLater = (message, delayMicroseconds = 200, timeoutCallback = null) => {\r\n\t\tlet time = Toast.DEFAULT_TIME_MAP[Toast.TYPE_LOADING];\r\n\t\tlet toast = new Toast(message, Toast.TYPE_LOADING, time);\r\n\t\ttoast.show(timeoutCallback);\r\n\t\thide(toast.dom);\r\n\t\tsetTimeout(() => {\r\n\t\t\ttoast.dom && show(toast.dom);\r\n\t\t}, delayMicroseconds);\r\n\t\treturn toast;\r\n\t}\r\n\r\n\t/**\r\n\t * 显示提示\r\n\t * @param {Function} onTimeoutClose 超时关闭回调\r\n\t */\r\n\tshow(onTimeoutClose = null){\r\n\t\tlet wrapper = getWrapper();\r\n\t\tif(wrapper.showPopover){\r\n\t\t\twrapper.showPopover();\r\n\t\t} else {\r\n\t\t\tshow(wrapper);\r\n\t\t}\r\n\r\n\t\tthis.dom = createDomByHtml(\r\n\t\t\t`<span class=\"${TOAST_CLS_MAIN} ${TOAST_CLS_MAIN}-${this.type}\">\r\n\t\t\t\t<span class=\"ctn\">${this.message}</span><div></div>\r\n\t\t\t</span>`, wrapper);\r\n\t\tif(this.timeout){\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.hide(true);\r\n\t\t\t\tonTimeoutClose && onTimeoutClose();\r\n\t\t\t}, this.timeout);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 更新内容\r\n\t * @param html\r\n\t */\r\n\tupdate(html){\r\n\t\tfindOne('.ctn', this.dom).innerHTML = html;\r\n\t}\r\n\r\n\t/**\r\n\t * 隐藏提示信息\r\n\t * @param {Boolean} fadeOut 是否使用渐隐式淡出\r\n\t */\r\n\thide(fadeOut = false){\r\n\t\t//稍微容错下，避免setTimeout后没有父节点\r\n\t\tif(!this.dom || !document.body.contains(this.dom)){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(fadeOut){\r\n\t\t\tthis.dom.classList.add(TOAST_CLS_MAIN + '-hide');\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.hide(false);\r\n\t\t\t}, FADEOUT_TIME);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tremove(this.dom);\r\n\t\tthis.dom = null;\r\n\t\tlet wrapper = getWrapper();\r\n\t\tif(!wrapper.childNodes.length){\r\n\t\t\tif(wrapper.hidePopover){\r\n\t\t\t\twrapper.hidePopover();\r\n\t\t\t} else {\r\n\t\t\t\thide(wrapper);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nwindow[COM_ID] = Toast;\r\nlet CONTEXT_WINDOW = getContextWindow();\r\nlet ToastClass = CONTEXT_WINDOW[COM_ID] || Toast;\r\n\r\nexport {ToastClass as Toast};","import {\r\n\tbindIframeAutoResize,\r\n\tcreateDomByHtml,\r\n\tfindOne,\r\n\tgetContextWindow,\r\n\tinsertStyleSheet,\r\n\tremove\r\n} from \"../Lang/Dom.js\";\r\nimport {bindNodeActive, BizEvent, KEYBOARD_KEY_MAP} from \"../Lang/Event.js\";\r\nimport {Theme} from \"./Theme.js\";\r\nimport {guid} from \"../Lang/Util.js\";\r\nimport {dimension2Style, escapeAttr} from \"../Lang/Html.js\";\r\n\r\nconst COM_ID = Theme.Namespace + 'dialog';\r\nconst DLG_CLS_PREF = COM_ID;\r\nconst DLG_CLS_TI = DLG_CLS_PREF + '-ti';\r\nconst DLG_CLS_CTN = DLG_CLS_PREF + '-ctn';\r\nconst DLG_CLS_OP = DLG_CLS_PREF + '-op';\r\nconst DLG_CLS_TOP_BUTTON_ZONE = DLG_CLS_PREF + '-top-button-zone';\r\nconst DLG_CLS_TOP_BUTTON = DLG_CLS_PREF + '-top-btn';\r\nconst DLG_CLS_TOP_CLOSE = DLG_CLS_PREF + '-close-btn';\r\nconst DLG_CLS_TOP_SCREEN_TOGGLE = DLG_CLS_PREF + '-screen-toggle-btn';\r\n\r\nconst ARIA_LABEL_CONFIRM = 'Confirm';\r\nconst ARIA_LABEL_CLOSE = 'Close';\r\n\r\nexport const DLG_CLS_BTN = DLG_CLS_PREF + '-btn';\r\nexport const DLG_CLS_WEAK_BTN = DLG_CLS_PREF + '-weak-btn';\r\n\r\nconst IFRAME_ID_ATTR_FLAG = 'data-dialog-flag';\r\n\r\nconst STATE_ACTIVE = 'active'; //激活状态。如果是存在模态对话框，只允许唯一一个激活，如果没有模态对话框情况，允许多个同时激活\r\nconst STATE_DISABLED = 'disabled'; //禁用状态。存在模态框情况下，全局只允许唯一一个激活，其余均为禁用状态\r\nconst STATE_HIDDEN = 'hidden'; //隐藏状态。通过主动调用hide方法使得对话框隐藏\r\n\r\nconst DIALOG_TYPE_ATTR_KEY = 'data-dialog-type';\r\nconst TYPE_NORMAL = 'normal';\r\nconst TYPE_PROMPT = 'prompt';\r\nconst TYPE_CONFIRM = 'confirm'; //提示对话框（包含【告警】【确认】）\r\n\r\n/**\r\n * Content Type\r\n * @type {string}\r\n */\r\nconst DLG_CTN_TYPE_IFRAME = DLG_CLS_PREF + '-ctn-iframe';\r\nconst DLG_CTN_TYPE_HTML = DLG_CLS_PREF + '-ctn-html';\r\n\r\nconst STYLE_STR = `\r\n\t.${DLG_CLS_PREF} {border:none; margin:auto !important; padding:0 !important; /** 原生浏览器有1em内边距 **/ border-radius:var(${Theme.CssVar.PANEL_RADIUS}); overflow:auto; min-width:1em; box-sizing:border-box; background-color:var(${Theme.CssVar.BACKGROUND_COLOR}); color:var(${Theme.CssVar.COLOR});}\r\n\t.${DLG_CLS_PREF} {position:fixed;inset-block-start: 0px;inset-block-end: 0px;}\r\n\t.${DLG_CLS_PREF}:focus {outline:none}\r\n\t.${DLG_CLS_PREF}[data-transparent] {background-color:transparent !important; box-shadow:none !important}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_TI} {box-sizing:border-box; line-height:1; padding:0.75em 2.5em 0.75em 0.75em; font-weight:normal;color:var(${Theme.CssVar.CSS_LIGHTEN})}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_TOP_BUTTON_ZONE} {position:absolute; right:0; top:0; display:flex; gap:0.5em; }\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_TOP_BUTTON} {display:flex; align-items:center; justify-content: center; line-height:1; width:2.25em; height:2.5em; overflow:hidden; opacity:0.6; cursor:pointer; box-sizing:border-box}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_TOP_BUTTON}:after {content:\"\"; font-size:0.9em; font-family:${Theme.IconFont}; line-height:1; display:block;}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_TOP_BUTTON}:hover {opacity:1;}\r\n\t\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_TOP_CLOSE}:after {content:\"\\\\e61a\"}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_TOP_SCREEN_TOGGLE}:after {content:\"\\\\e629\"; font-size:1.4em;}\r\n\t \r\n\t.${DLG_CLS_PREF} .${DLG_CLS_CTN} {overflow-y:auto; max-height:calc(100vh - 5em)}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_CTN}:focus {outline:none !important;}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_OP} {padding:.75em; text-align:right;}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_OP} [role=\"button\"]:first-child {margin-left:0;}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_OP} [role=\"button\"] {margin-left:0.5em;}\r\n\t.${DLG_CLS_PREF}.full-dialog .${DLG_CLS_CTN} {max-height:calc(100vh - 100px); overflow-y:auto}\r\n\t.${DLG_CLS_PREF}[data-dialog-state=\"${STATE_ACTIVE}\"] {box-shadow:1px 1px 60px 1px #44444457}\r\n\t.${DLG_CLS_PREF}[data-dialog-state=\"${STATE_ACTIVE}\"] .${DLG_CLS_TI} {color:#333}\r\n\t.${DLG_CLS_PREF}[data-dialog-state=\"${STATE_DISABLED}\"]:before {content:\"\"; left:0; top:0; position:absolute; width:100%; height:100%;}\r\n\t.${DLG_CLS_PREF}[data-dialog-state=\"${STATE_DISABLED}\"] * {opacity:0.85 !important; user-select:none;}\r\n\t\r\n\t.${DLG_CLS_PREF}[${DIALOG_TYPE_ATTR_KEY}=\"${TYPE_CONFIRM}\"] .${DLG_CLS_CTN} {padding:1.5em 1.5em 1em 1.5em; min-height:40px; word-wrap:break-word}\r\n\t.${DLG_CLS_PREF}[${DIALOG_TYPE_ATTR_KEY}=\"${TYPE_CONFIRM}\"] .${DLG_CLS_PREF}-confirm-ti {font-size:1.2em; margin-bottom:.75em;}\r\n\t.${DLG_CLS_PREF}[${DIALOG_TYPE_ATTR_KEY}=\"${TYPE_PROMPT}\"] .${DLG_CLS_CTN} {padding:2em 2em 1em 2em}\r\n\t.${DLG_CLS_PREF}[${DIALOG_TYPE_ATTR_KEY}=\"${TYPE_PROMPT}\"] .${DLG_CLS_CTN} label {font-size:1.1em; margin-bottom:.75em; display:block;}\r\n\t.${DLG_CLS_PREF}[${DIALOG_TYPE_ATTR_KEY}=\"${TYPE_PROMPT}\"] .${DLG_CLS_CTN} input[type=text] {width:100%; box-sizing:border-box;}\r\n\t\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_CTN}-iframe {padding:0 !important; max-height:inherit}\r\n\t.${DLG_CLS_PREF} .${DLG_CLS_CTN}-iframe iframe {width:100%; display:block; border:none; min-height:30px; max-height:calc(100vh - 5em)}\r\n\t.${DLG_CLS_PREF}::backdrop {backdrop-filter:brightness(0.65)}\r\n`;\r\n\r\nlet _bind_esc_ = false\r\n/**\r\n * 绑定ESC按键事件关闭最上一层可关闭的对话框\r\n * 该事件仅绑定一次\r\n */\r\nconst bindGlobalEsc = () => {\r\n\tif(_bind_esc_){\r\n\t\treturn;\r\n\t}\r\n\t_bind_esc_ = true;\r\n\tdocument.addEventListener('keydown', e => {\r\n\t\tif(e.key === KEYBOARD_KEY_MAP.Escape){\r\n\t\t\tlet current = DialogManager.getFrontDialog();\r\n\t\t\tif(current && current.config.showTopCloseButton){\r\n\t\t\t\tDialogManager.close(current);\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/** @var Dialog[] **/\r\nlet DIALOG_COLLECTION = [];\r\n\r\n/**\r\n * 对话框层级比较函数（层级高的排上面）\r\n * @param {Dialog} dialog1\r\n * @param {Dialog} dialog2\r\n * @return {number}\r\n */\r\nconst sortZIndex = (dialog1, dialog2) => {\r\n\treturn dialog1.zIndex - dialog2.zIndex;\r\n}\r\n\r\n/**\r\n * 获取非隐藏的模态对话框列表\r\n * 顺序由底到上排列\r\n * @param {Dialog|null} excludedDialog 排除在外的对话框\r\n * @return {Dialog[]}\r\n */\r\nconst getModalDialogs = (excludedDialog = null) => {\r\n\tlet list = DIALOG_COLLECTION.filter(d => {\r\n\t\treturn d.state !== STATE_HIDDEN && d.config.modal && (!excludedDialog || d !== excludedDialog);\r\n\t});\r\n\treturn list.sort(sortZIndex);\r\n};\r\n\r\n/**\r\n * 获取非隐藏的普通对话框列表\r\n * 顺序由底到上排列\r\n * @param {Dialog|null} excludedDialog 排除在外的对话框\r\n * @return {Dialog[]}\r\n */\r\nconst getNoModalDialogs = (excludedDialog = null) => {\r\n\tlet list = DIALOG_COLLECTION.filter(d => {\r\n\t\treturn d.state !== STATE_HIDDEN && !d.config.modal && (!excludedDialog || d !== excludedDialog);\r\n\t});\r\n\treturn list.sort(sortZIndex);\r\n};\r\n\r\n/**\r\n * 获取所有非隐藏对话框\r\n * 顺序由底到上排列\r\n * @param {Dialog|null} excludedDialog 排除在外的对话框\r\n * @return {*[]}\r\n */\r\nconst getAllAvailableDialogs = (excludedDialog = null) => {\r\n\tlet modalDialogs = getModalDialogs(excludedDialog);\r\n\tlet noModalDialogs = getNoModalDialogs(excludedDialog);\r\n\treturn noModalDialogs.concat(modalDialogs);\r\n}\r\n\r\n/**\r\n * 设置对话框状态\r\n * @param {Dialog} dlg\r\n * @param {String} toState\r\n */\r\nconst setState = (dlg, toState) => {\r\n\tdlg.state = toState;\r\n\tdlg.dom.setAttribute('data-dialog-state', toState);\r\n\tdlg.dom[toState === STATE_HIDDEN ? 'hide' : (dlg.config.modal ? 'showModal' : 'show')]();\r\n}\r\n\r\n/**\r\n * 设置对话框zIndex\r\n * @param {Dialog} dlg\r\n * @param {Number|String} zIndex\r\n */\r\nconst setZIndex = (dlg, zIndex) => {\r\n\tdlg.zIndex = dlg.dom.style.zIndex = String(zIndex);\r\n}\r\n\r\nconst setType = (dlg, type) => {\r\n\tdlg.dom.setAttribute('data-dialog-type', type);\r\n}\r\n\r\nconst resolveContentType = (content) => {\r\n\tif(typeof (content) === 'object' && content.src){\r\n\t\treturn DLG_CTN_TYPE_IFRAME;\r\n\t}\r\n\treturn DLG_CTN_TYPE_HTML;\r\n}\r\n\r\n/**\r\n * 构造DOM结构\r\n * @param {Dialog} dlg\r\n */\r\nconst domConstruct = (dlg) => {\r\n\tlet html = `\r\n\t\t<dialog \r\n\t\t\tclass=\"${DLG_CLS_PREF} ${dlg.config.cssClass || ''}\" \r\n\t\t\tid=\"${dlg.id}\" \r\n\t\t\tdata-dialog-type=\"${TYPE_NORMAL}\"\r\n\t\t\t${dlg.config.transparent ? 'data-transparent' : ''}\r\n\t\t\t${dlg.state === STATE_HIDDEN ? '' : 'open'} \r\n\t\t\tstyle=\"${dlg.config.width ? 'width:' + dimension2Style(dlg.config.width) : ''}\">\r\n\t\t${dlg.config.title ? `<div class=\"${DLG_CLS_TI}\">${dlg.config.title}</div>` : ''}\r\n\t`;\r\n\thtml += `<div class=\"${DLG_CLS_CTN} ${resolveContentType(dlg.config.content)}\" \r\n\t\t\tstyle=\"min-height: ${dimension2Style(Dialog.CONTENT_MIN_HEIGHT)}; ${dlg.config.height ? 'height:' + dimension2Style(dlg.config.height) + ';' : ''}\" \r\n\t\t\ttabindex=\"0\">${renderContent(dlg)}</div>`;\r\n\tif(dlg.config.buttons.length){\r\n\t\thtml += `<div class=\"${DLG_CLS_OP}\">`;\r\n\t\tdlg.config.buttons.forEach(button => { //autofocus 在部分浏览器场景可能会失效，这里采用js主动切换\r\n\t\t\tif(!button.callback && !button.ariaLabel){\r\n\t\t\t\tbutton.ariaLabel = 'Close';\r\n\t\t\t}\r\n\t\t\thtml += `<input type=\"button\" class=\"${button.className || ''}\" \r\n\t\t\t\t${button.default ? 'autofocus' : ''} \r\n\t\t\t\ttabindex=\"0\" \r\n\t\t\t\trole=\"button\"\r\n\t\t\t\t${button.ariaLabel ? 'aria-label=\"' + button.ariaLabel + '\"' : ''}\r\n\t\t\t\tvalue=\"${escapeAttr(button.title)}\">`;\r\n\t\t});\r\n\t\thtml += '</div>';\r\n\t}\r\n\thtml += `<div class=\"${DLG_CLS_TOP_BUTTON_ZONE}\">` +\r\n\t\t(dlg.config.showTopFullscreenToggleButton ? `<span class=\"${DLG_CLS_TOP_BUTTON} ${DLG_CLS_TOP_SCREEN_TOGGLE}\" title=\"切换全屏\" tabindex=\"0\"></span>` : '') +\r\n\t\t(dlg.config.showTopCloseButton ? `<span class=\"${DLG_CLS_TOP_BUTTON} ${DLG_CLS_TOP_CLOSE}\" title=\"关闭\" tabindex=\"0\"></span>` : '') +\r\n\t\t'</div>';\r\n\r\n\thtml += `</dialog>`;\r\n\tdlg.dom = createDomByHtml(html, document.body);\r\n\r\n\t//bind iframe content\r\n\tif(resolveContentType(dlg.config.content) === DLG_CTN_TYPE_IFRAME){\r\n\t\tlet iframe = dlg.dom.querySelector('iframe');\r\n\t\t//如果设定高度，iframe调整为100%\r\n\t\tif(dlg.config.height){\r\n\t\t\tiframe.style.height = '100%';\r\n\t\t}else{\r\n\t\t\tbindIframeAutoResize(iframe);\r\n\t\t}\r\n\r\n\t\t//bind window.unload event\r\n\t\tdlg.onClose.listen(() => {\r\n\t\t\t//避免跨域，try\r\n\t\t\ttry{\r\n\t\t\t\tlet win = iframe.contentWindow;\r\n\t\t\t\tif(win.getWindowUnloadAlertList){\r\n\t\t\t\t\tlet alert_list = win.getWindowUnloadAlertList(iframe);\r\n\t\t\t\t\tif(alert_list.length){\r\n\t\t\t\t\t\tlet unload_alert = alert_list.join(\"\\n\");\r\n\t\t\t\t\t\t//兼容使用原生弹窗效果\r\n\t\t\t\t\t\tif(!window.confirm(unload_alert)){\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twin.setWindowUnloadMessage('', iframe);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}catch(err){\r\n\t\t\t\tconsole.warn(err);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n};\r\n\r\n/**\r\n * 事件绑定\r\n * @param {Dialog} dlg\r\n */\r\nconst eventBind = (dlg) => {\r\n\t//bind dialog active\r\n\tdlg.dom.addEventListener('mousedown', () => {\r\n\t\tdlg.state === STATE_ACTIVE && DialogManager.trySetFront(dlg);\r\n\t});\r\n\r\n\t//阻止原生modal对话框，ESC关闭对话框\r\n\tdlg.dom.addEventListener('cancel', e => {\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t//bind buttons event\r\n\tfor(let i in dlg.config.buttons){\r\n\t\tlet cb = dlg.config.buttons[i].callback || dlg.close;\r\n\t\tlet btn = dlg.dom.querySelectorAll(`.${DLG_CLS_OP} [role=\"button\"]`)[i];\r\n\t\tbtn.addEventListener('click', cb.bind(dlg), false);\r\n\t}\r\n\r\n\t//bind top close button event\r\n\tif(dlg.config.showTopCloseButton){\r\n\t\tlet close_btn = dlg.dom.querySelector(`.${DLG_CLS_TOP_CLOSE}`);\r\n\t\tbindNodeActive(close_btn, dlg.close.bind(dlg));\r\n\t\tbindGlobalEsc();\r\n\t}\r\n}\r\n\r\n/**\r\n * 渲染内容区域\r\n * @param {Dialog} dlg\r\n * @returns {string}\r\n */\r\nconst renderContent = (dlg) => {\r\n\tswitch(resolveContentType(dlg.config.content)){\r\n\t\tcase DLG_CTN_TYPE_IFRAME:\r\n\t\t\treturn `<iframe src=\"${dlg.config.content.src}\" ${IFRAME_ID_ATTR_FLAG}=\"${dlg.id}\"></iframe>`;\r\n\r\n\t\tcase DLG_CTN_TYPE_HTML:\r\n\t\t\treturn dlg.config.content;\r\n\r\n\t\tdefault:\r\n\t\t\tconsole.error('Content type error', dlg.config.content);\r\n\t\t\tthrow 'Content type error';\r\n\t}\r\n};\r\n\r\n/**\r\n * 获取当前页面（iframe）所在的对话框\r\n * @returns {Promise}\r\n */\r\nexport const getCurrentFrameDialog = () => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif(!window.parent || !window.frameElement){\r\n\t\t\treject('no in iframe');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(!parent[COM_ID].DialogManager){\r\n\t\t\treject('No dialog manager found.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet id = window.frameElement.getAttribute(IFRAME_ID_ATTR_FLAG);\r\n\t\tif(!id){\r\n\t\t\treject(\"ID no found in iframe element\");\r\n\t\t}\r\n\t\tlet dlg = parent[COM_ID].DialogManager.findById(id);\r\n\t\tif(dlg){\r\n\t\t\tresolve(dlg);\r\n\t\t}else{\r\n\t\t\treject('no dlg find:' + id);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 对话框管理器\r\n */\r\nconst DialogManager = {\r\n\tregister(dlg){\r\n\t\tDIALOG_COLLECTION.push(dlg)\r\n\t},\r\n\r\n\t/**\r\n\t * 激活并显示对话框\r\n\t * @param {Dialog} dlg\r\n\t */\r\n\tshow(dlg){\r\n\t\tdlg.state = STATE_DISABLED; //避免 getModal* 获取不到当前对话框\r\n\r\n\t\tlet modalDialogs = getModalDialogs(dlg);\r\n\t\tlet noModalDialogs = getNoModalDialogs(dlg);\r\n\t\tif(dlg.config.modal){\r\n\t\t\tnoModalDialogs.forEach(d => {\r\n\t\t\t\tsetState(d, STATE_DISABLED);\r\n\t\t\t});\r\n\t\t\tmodalDialogs.forEach(d => {\r\n\t\t\t\tsetState(d, STATE_DISABLED);\r\n\t\t\t});\r\n\t\t\tsetZIndex(dlg, Dialog.DIALOG_INIT_Z_INDEX + noModalDialogs.length + modalDialogs.length);\r\n\t\t\tsetState(dlg, STATE_ACTIVE);\r\n\t\t}else{\r\n\t\t\tmodalDialogs.forEach((d, idx) => {\r\n\t\t\t\tsetZIndex(d, dlg.zIndex + idx + 1);\r\n\t\t\t});\r\n\t\t\tsetZIndex(dlg, Dialog.DIALOG_INIT_Z_INDEX + noModalDialogs.length);\r\n\t\t\tsetState(dlg, modalDialogs.length ? STATE_DISABLED : STATE_ACTIVE);\r\n\t\t}\r\n\t\tdlg.onShow.fire();\r\n\t},\r\n\r\n\t/**\r\n\t * 关闭对话框\r\n\t * @param {Dialog} dlg\r\n\t * @param {Boolean} destroy 是否摧毁\r\n\t */\r\n\tclose: (dlg, destroy = true) => {\r\n\t\tif(dlg.onClose.fire() === false){\r\n\t\t\tconsole.warn('dialog close cancel by onClose events');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet modalDialogs = getModalDialogs(dlg);\r\n\t\tlet noModalDialogs = getNoModalDialogs(dlg);\r\n\t\tmodalDialogs.forEach((d, idx) => {\r\n\t\t\tsetZIndex(d, Dialog.DIALOG_INIT_Z_INDEX + noModalDialogs.length + idx);\r\n\t\t});\r\n\t\t//active last modal dialog\r\n\t\tif(modalDialogs.length){\r\n\t\t\tsetState(modalDialogs[modalDialogs.length - 1], STATE_ACTIVE);\r\n\t\t}\r\n\t\tnoModalDialogs.forEach((d, idx) => {\r\n\t\t\tsetZIndex(d, Dialog.DIALOG_INIT_Z_INDEX + idx);\r\n\t\t\tsetState(d, modalDialogs.length ? STATE_DISABLED : STATE_ACTIVE);\r\n\t\t});\r\n\t\tif(destroy){\r\n\t\t\tDIALOG_COLLECTION = DIALOG_COLLECTION.filter(d => d !== dlg);\r\n\t\t\tremove(dlg.dom);\r\n\t\t}else{\r\n\t\t\tsetState(dlg, STATE_HIDDEN);\r\n\t\t}\r\n\t\tgetAllAvailableDialogs().length || dlg.dom.classList.remove(`${DLG_CLS_PREF}-masker`);\r\n\t},\r\n\r\n\t/**\r\n\t * 隐藏对话框\r\n\t * @param dlg\r\n\t * @returns {boolean}\r\n\t */\r\n\thide(dlg){\r\n\t\treturn this.close(dlg, false);\r\n\t},\r\n\r\n\t/**\r\n\t * 获取当前激活的对话框\r\n\t * @returns {Dialog|null}\r\n\t */\r\n\tgetFrontDialog(){\r\n\t\tlet dialogs = getAllAvailableDialogs();\r\n\t\treturn dialogs[dialogs.length - 1];\r\n\t},\r\n\r\n\t/**\r\n\t * 尝试设置指定窗口前置\r\n\t * @param {Dialog} dlg\r\n\t * @return {boolean}\r\n\t */\r\n\ttrySetFront(dlg){\r\n\t\tlet modalDialogs = getModalDialogs();\r\n\t\tlet currentFrontDialog = this.getFrontDialog();\r\n\r\n\t\tif(currentFrontDialog === dlg){\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t//模态模式下，不允许通过该方法切换对话框，\r\n\t\t//只有在对话框 show、hide的情况下自动调整层级\r\n\t\tif(modalDialogs.length){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet otherNoModalDialogs = getNoModalDialogs(dlg);\r\n\t\totherNoModalDialogs.forEach((d, idx) => {\r\n\t\t\tsetZIndex(d, Dialog.DIALOG_INIT_Z_INDEX + idx);\r\n\t\t});\r\n\t\tsetZIndex(dlg, Dialog.DIALOG_INIT_Z_INDEX + otherNoModalDialogs.length);\r\n\t},\r\n\r\n\t/**\r\n\t * 关闭全部对话框\r\n\t */\r\n\tcloseAll(){\r\n\t\tDIALOG_COLLECTION.forEach(dlg => {\r\n\t\t\tremove(dlg.dom);\r\n\t\t});\r\n\t\tDIALOG_COLLECTION = [];\r\n\t},\r\n\r\n\t/**\r\n\t * 根据ID查找对话框\r\n\t * @param id\r\n\t * @returns {Dialog}\r\n\t */\r\n\tfindById(id){\r\n\t\treturn DIALOG_COLLECTION.find(dlg => {\r\n\t\t\treturn dlg.id === id\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst CUSTOM_EVENT_BUCKS = {\r\n\t/** id: {event: []} **/\r\n};\r\n\r\nclass Dialog {\r\n\tstatic CONTENT_MIN_HEIGHT = 30; //最小高度\r\n\tstatic DEFAULT_WIDTH = 500; //默认宽度\r\n\tstatic DIALOG_INIT_Z_INDEX = Theme.DialogIndex;\r\n\r\n\t//对话框ID，缺省为自动生成\r\n\tid = null;\r\n\r\n\t/** @var {HTMLElement} dom **/\r\n\tdom = null;\r\n\r\n\tstate = STATE_HIDDEN;\r\n\tzIndex = Theme.DialogIndex;\r\n\r\n\tonClose = new BizEvent(true);\r\n\tonShow = new BizEvent(true);\r\n\r\n\tconfig = {\r\n\t\ttitle: '', //对话框标题，为 null 或者空字符串时不显示标题行\r\n\t\tcontent: '',\r\n\t\tcssClass: '', //额外css类名\r\n\t\tmodal: true, //是否为模态窗口\r\n\t\ttransparent: false, //是否透明\r\n\t\twidth: Dialog.DEFAULT_WIDTH,\r\n\t\theight: null, //高度，缺省为自动高度\r\n\t\tbuttons: [/** {title:'', default:true, callback, ariaLabel }**/], //对话框配置按钮列表\r\n\t\tshowTopCloseButton: true, //是否显示顶部关闭窗口\r\n\t\tshowTopFullscreenToggleButton: false, //是否显示顶部切换全屏按钮\r\n\t};\r\n\r\n\t/**\r\n\t * @param {Object} config\r\n\t * @param {String|Null} config.id 为对话框指定ID\r\n\t * @param {String} config.title 对话框标题\r\n\t * @param {String} config.content 对话框内容，允许提交 {src:\"http://\"} 格式，渲染为iframe\r\n\t * @param {String} config.cssClass 对话框额外添加样式类名\r\n\t * @param {Boolean} config.modal 是否为模态对话框\r\n\t * @param {Boolean} config.transparent 是否透明\r\n\t * @param {Number} config.width 宽度\r\n\t * @param {Number} config.height 高度（指内容区高度，不包含标题栏）\r\n\t * @param {Array} config.buttons 按钮列表\r\n\t * @param {Boolean} config.buttons.default 单个按钮对象中是否作为默认按钮（默认聚焦）\r\n\t * @param {String} config.buttons.title 按钮标题\r\n\t * @param {String} config.buttons.ariaLabel 按钮无障碍标题，确认按钮：ARIA_LABEL_CONFIRM, 关闭按钮：ARIA_LABEL_CLOSE\r\n\t * @param {Function} config.buttons.callback 按钮点击后回调，缺省为关闭对话框\r\n\t * @param {Boolean} config.showTopCloseButton 是否显示对话框右上角关闭按钮，如果显示按钮则支持ESC关闭对话框\r\n\t */\r\n\tconstructor(config = {}){\r\n\t\tinsertStyleSheet(STYLE_STR, COM_ID + '-style');\r\n\t\tthis.config = Object.assign(this.config, config);\r\n\t\tthis.id = this.id || 'dialog-' + Math.random();\r\n\t\tdomConstruct(this);\r\n\t\teventBind(this);\r\n\t\tDialogManager.register(this);\r\n\t}\r\n\r\n\tsetWidth(width){\r\n\t\tthis.config.width = width;\r\n\t\tthis.dom.style.width = dimension2Style(width);\r\n\t}\r\n\r\n\tsetTitle(title){\r\n\t\tthis.config.title = title;\r\n\t\tfindOne('.' + DLG_CLS_TI, this.dom).innerText = title;\r\n\t}\r\n\r\n\tshow(){\r\n\t\tDialogManager.show(this);\r\n\t}\r\n\r\n\thide(){\r\n\t\tDialogManager.hide(this);\r\n\t}\r\n\r\n\tclose(){\r\n\t\tDialogManager.close(this);\r\n\t}\r\n\r\n\t/**\r\n\t * 触发自定义事件\r\n\t * @param {String} event\r\n\t * @param {*} args\r\n\t * @return {boolean} 是否存在自定义事件\r\n\t */\r\n\tfireCustomEvent(event, ...args){\r\n\t\tif(CUSTOM_EVENT_BUCKS[this.id] && CUSTOM_EVENT_BUCKS[this.id][event]){\r\n\t\t\tCUSTOM_EVENT_BUCKS[this.id][event].fire(...args);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * 监听自定义事件\r\n\t * @param {String} event\r\n\t * @param {Function} callback\r\n\t */\r\n\tlistenCustomEvent(event, callback){\r\n\t\tif(CUSTOM_EVENT_BUCKS[this.id] === undefined){\r\n\t\t\tCUSTOM_EVENT_BUCKS[this.id] = {};\r\n\t\t}\r\n\t\tif(CUSTOM_EVENT_BUCKS[this.id][event] === undefined){\r\n\t\t\tCUSTOM_EVENT_BUCKS[this.id][event] = new BizEvent();\r\n\t\t}\r\n\t\tCUSTOM_EVENT_BUCKS[this.id][event].listen(callback);\r\n\t}\r\n\r\n\t/**\r\n\t * 显示对话框\r\n\t * @param {String} title\r\n\t * @param {Object|String} content\r\n\t * @param {Object} config\r\n\t * @param {String|Null} config.id\r\n\t * @param {Boolean} config.modal\r\n\t * @param {Boolean} config.transparent\r\n\t * @param {Number} config.width\r\n\t * @param {Number} config.height\r\n\t * @param {Array} config.buttons\r\n\t * @param {Boolean} config.buttons.default\r\n\t * @param {String} config.buttons.title\r\n\t * @param {Function} config.buttons.callback\r\n\t * @param {Boolean} config.showTopCloseButton\r\n\t * @returns {Dialog}\r\n\t */\r\n\tstatic show(title, content, config){\r\n\t\tlet p = new Dialog({title, content, ...config});\r\n\t\tp.show();\r\n\t\treturn p;\r\n\t}\r\n\r\n\t/**\r\n\t * 确认框\r\n\t * @param {String} title\r\n\t * @param {String} content\r\n\t * @param {Object} opt\r\n\t * @returns {Promise<unknown>}\r\n\t */\r\n\tstatic confirm(title, content, opt = {}){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet p = new Dialog({\r\n\t\t\t\tcontent: `<div class=\"${DLG_CLS_PREF}-confirm-ti\">${title}</div>\r\n\t\t\t\t\t\t<div class=\"${DLG_CLS_PREF}-confirm-ctn\">${content}</div>`,\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '确定', default: true, ariaLabel: ARIA_LABEL_CONFIRM, callback: () => {\r\n\t\t\t\t\t\t\tp.close();\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '取消', ariaLabel: ARIA_LABEL_CLOSE, callback: () => {\r\n\t\t\t\t\t\t\tp.close();\r\n\t\t\t\t\t\t\treject && reject()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\twidth: 420,\r\n\t\t\t\tmodal: true,\r\n\t\t\t\tshowTopCloseButton: false,\r\n\t\t\t\t...opt\r\n\t\t\t});\r\n\t\t\tsetType(p, TYPE_CONFIRM);\r\n\t\t\tp.show();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 提示框\r\n\t * @param {String} title\r\n\t * @param {String} content\r\n\t * @param {Object} opt\r\n\t * @returns {Promise<unknown>}\r\n\t */\r\n\tstatic alert(title, content, opt = {}){\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tlet p = new Dialog({\r\n\t\t\t\tcontent: `<div class=\"${DLG_CLS_PREF}-confirm-ti\">${title}</div>\r\n\t\t\t\t\t\t<div class=\"${DLG_CLS_PREF}-confirm-ctn\">${content}</div>`,\r\n\t\t\t\tbuttons: [{\r\n\t\t\t\t\ttitle: '确定', default: true, ariaLabel: ARIA_LABEL_CONFIRM, callback: () => {\r\n\t\t\t\t\t\tp.close();\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t},],\r\n\t\t\t\twidth: 420,\r\n\t\t\t\tmodal: true,\r\n\t\t\t\tshowTopCloseButton: false,\r\n\t\t\t\t...opt\r\n\t\t\t});\r\n\t\t\tsetType(p, TYPE_CONFIRM);\r\n\t\t\tp.show();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 显示 iframe 类型对话框\r\n\t * @param title\r\n\t * @param iframeSrc\r\n\t * @param opt\r\n\t * @returns {Dialog}\r\n\t */\r\n\tstatic iframe(title = null, iframeSrc, opt = {}){\r\n\t\treturn Dialog.show(title, {src: iframeSrc}, opt);\r\n\t}\r\n\r\n\t/**\r\n\t * 输入提示框\r\n\t * @param {String} title\r\n\t * @param {Object} option\r\n\t * @param {String} option.initValue\r\n\t * @returns {Promise<unknown>}\r\n\t */\r\n\tstatic prompt(title, option = {initValue: \"\"}){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet input_id = guid(Theme.Namespace + '-prompt-input');\r\n\t\t\tlet input = null;\r\n\t\t\tlet p = new Dialog({\r\n\t\t\t\tcontent: `<label for=\"${input_id}\">${title}</label><input type=\"text\" id=\"${input_id}\" value=\"${escapeAttr(option.initValue || '')}\"/>`,\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '确定', default: true, ariaLabel: ARIA_LABEL_CONFIRM, callback: () => {\r\n\t\t\t\t\t\t\tif(resolve(input.value) === false){\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tp.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{title: '取消', ariaLabel: ARIA_LABEL_CLOSE}\r\n\t\t\t\t],\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tmodal: true,\r\n\t\t\t\tshowTopCloseButton: true,\r\n\t\t\t\t...option\r\n\t\t\t});\r\n\t\t\tinput = p.dom.querySelector('input[type=text]');\r\n\t\t\tsetType(p, TYPE_PROMPT);\r\n\t\t\tp.onClose.listen(reject);\r\n\t\t\tp.onShow.listen(() => {\r\n\t\t\t\tinput.focus();\r\n\t\t\t\tinput.addEventListener('keydown', e => {\r\n\t\t\t\t\tif(e.key === KEYBOARD_KEY_MAP.Enter){\r\n\t\t\t\t\t\tif(resolve(input.value) === false){\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tp.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\tp.show();\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n * 类方法透穿到顶部窗口，避免出现窗口中窗口交互形式\r\n */\r\nif(!window[COM_ID]){\r\n\twindow[COM_ID] = {};\r\n}\r\n\r\nwindow[COM_ID].Dialog = Dialog;\r\nwindow[COM_ID].DialogManager = DialogManager;\r\n\r\nlet CONTEXT_WINDOW = getContextWindow();\r\nlet DialogClass = CONTEXT_WINDOW[COM_ID].Dialog || Dialog;\r\nlet DialogManagerClass = CONTEXT_WINDOW[COM_ID].DialogManager || DialogManager;\r\n\r\nexport {DialogClass as Dialog, DialogManagerClass as DialogManager};","import {createDomByHtml, remove} from \"../Lang/Dom.js\";\r\nimport {trans} from \"../I18N/Lang.js\";\r\nimport {Toast} from \"./Toast.js\";\r\nimport {Dialog} from \"./Dialog.js\";\r\n\r\n/**\r\n * copy text\r\n * @param {String} text\r\n * @param {Boolean} show_msg 是否在不兼容是进行提醒\r\n * @returns {boolean} 是否复制成功\r\n */\r\nexport const copy = (text, show_msg = false) => {\r\n\tlet txtNode = createDomByHtml('<textarea readonly=\"readonly\">', document.body);\r\n\ttxtNode.style.cssText = 'position:absolute; left:-9999px;';\r\n\tlet y = window.pageYOffset || document.documentElement.scrollTop;\r\n\ttxtNode.addEventListener('focus', function(){\r\n\t\twindow.scrollTo(0, y);\r\n\t});\r\n\ttxtNode.value = text;\r\n\ttxtNode.select();\r\n\ttry{\r\n\t\tlet succeeded = document.execCommand('copy');\r\n\t\tshow_msg && Toast.showSuccess(trans('内容已复制到剪贴板'));\r\n\t\treturn succeeded;\r\n\t}catch(err){\r\n\t\tconsole.error(err);\r\n\t\tshow_msg && Dialog.prompt('复制失败，请手工复制', {initValue:text});\r\n\t} finally{\r\n\t\tremove(txtNode);\r\n\t}\r\n\treturn false;\r\n};\r\n\r\n/**\r\n * Copy formatted html content\r\n * @param html\r\n * @param silent\r\n */\r\nexport const copyFormatted = (html, silent = false) => {\r\n\t// Create container for the HTML\r\n\tlet container = createDomByHtml(`\r\n\t\t<div style=\"position:fixed; pointer-events:none; opacity:0;\">${html}</div>\r\n\t`, document.body);\r\n\r\n\t// Detect all style sheets of the page\r\n\tlet activeSheets = Array.prototype.slice.call(document.styleSheets)\r\n\t\t.filter(function(sheet){\r\n\t\t\treturn !sheet.disabled;\r\n\t\t})\r\n\r\n\t// Copy to clipboard\r\n\twindow.getSelection().removeAllRanges();\r\n\r\n\tlet range = document.createRange();\r\n\trange.selectNode(container);\r\n\twindow.getSelection().addRange(range);\r\n\r\n\tdocument.execCommand('copy');\r\n\tfor(let i = 0; i < activeSheets.length; i++){\r\n\t\tactiveSheets[i].disabled = true;\r\n\t}\r\n\tdocument.execCommand('copy')\r\n\tfor(let i = 0; i < activeSheets.length; i++){\r\n\t\tactiveSheets[i].disabled = false;\r\n\t}\r\n\tdocument.body.removeChild(container);\r\n\t!silent && Toast.showSuccess(trans('复制成功'));\r\n}\r\n","import {fileAcceptMath} from \"../Lang/File.js\";\r\nimport {findOne} from \"../Lang/Dom.js\";\r\nimport {Toast} from \"./Toast.js\";\r\n\r\n/**\r\n * 绑定指定容器，使其支持文件（目录拖放），建议使用 label>input:file 结构，同时支持点击选择文件\r\n * 如果容器内部有 inpu[type=file]，同时支持文件选择。\r\n * 容器支持直接粘贴文件\r\n * @param {String|Node} container 容器内如果有 input[type=file]，其onChange事件同时绑定，同时读取 input[type=file]{accept} 属性对文件列表进行过滤\r\n * @param {Object} Option\r\n * @param {Function} Option.onTrigger 用户触发输入，包括文件拖入、文件选择完成\r\n * @param {Function} Option.onFile 单个文件处理回调（参数为文件，返回Boolean），返回false将过略掉该文件\r\n * @param {Function} Option.onFinish 所有文件处理回调（如果是拖动目录，需要等待目录所有文件读取完毕）参数为文件列表，此处文件包含fullPath目录信息\r\n * @param {Function} Option.onError 错误信息回调（多个文件可能会触发多次错误），缺省为显示到Toast上\r\n * @param {String} Option.dragOverClass 拖入时类名\r\n * @param {String} Option.accept 额外限制文件类型\r\n */\r\nexport const bindFileDrop = (container, Option = {}) => {\r\n\tOption = Object.assign({\r\n\t\tonTrigger: () => {\r\n\t\t},\r\n\t\tonFile: (file) => {\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tonFinish: (files) => {\r\n\t\t},\r\n\t\tonError: (err, file = null) => {\r\n\t\t\tToast.showError(err);\r\n\t\t},\r\n\t\tdragOverClass: 'drag-over',\r\n\t\taccept: ''\r\n\t}, Option);\r\n\r\n\tcontainer = findOne(container);\r\n\tconst fileInput = findOne('input[type=file]', container);\r\n\r\n\t//获取accept设置\r\n\tlet accept = Option.accept;\r\n\tif(fileInput && fileInput.accept){\r\n\t\taccept += (accept ? ',' : '') + fileInput.accept;\r\n\t}\r\n\r\n\tconst processFile = file => {\r\n\t\tif(accept && !fileAcceptMath(file.type, accept)){\r\n\t\t\tconsole.warn('request accept:', accept, file);\r\n\t\t\tOption.onError(`文件 <b>${file.name}</b> 不符合，已被忽略。`, file);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn !!Option.onFile(file);\r\n\t}\r\n\r\n\t/**\r\n\t * 处理 event.transferData.files\r\n\t * @param files\r\n\t */\r\n\tconst handleTransferFiles = (files) => {\r\n\t\tlet fs = [];\r\n\t\tArray.from(files).forEach(file => {\r\n\t\t\tfile.fullPath = '/' + file.name;\r\n\t\t\tprocessFile(file) && fs.push(file);\r\n\t\t});\r\n\t\tOption.onFinish(fs);\r\n\t}\r\n\r\n\t/**\r\n\t * 处理event.transferData.items\r\n\t * @param transferItems\r\n\t */\r\n\tconst handleTransferItems = (transferItems) => {\r\n\t\tlet total_item_length = 0;\r\n\t\tArray.from(transferItems).forEach(item => {\r\n\t\t\ttotal_item_length += item.kind === 'file';\r\n\t\t});\r\n\t\t//预先读取，后面items长度会变为空\r\n\t\tlet files = [];\r\n\t\tlet find_cnt = 0;\r\n\t\tfor(let i = 0; i < transferItems.length; i++){\r\n\t\t\tif(transferItems[i].kind !== 'file'){\r\n\t\t\t\tconsole.warn('item is not file', transferItems[i]);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tlet item = transferItems[i].webkitGetAsEntry();\r\n\t\t\tif(item){\r\n\t\t\t\ttraverseFileTree(item, file => {\r\n\t\t\t\t\tprocessFile(file) && files.push(file);\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tfind_cnt++;\r\n\t\t\t\t\tif(find_cnt === total_item_length){\r\n\t\t\t\t\t\tOption.onFinish(files);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//其他应用容器里面的文件对象\r\n\t\t\telse{\r\n\t\t\t\tfind_cnt++;\r\n\t\t\t\tlet file = transferItems[i].getAsFile();\r\n\t\t\t\tif(file && processFile(file)){\r\n\t\t\t\t\tfile.fullPath = '/' + file.name;\r\n\t\t\t\t\tfiles.push(file);\r\n\t\t\t\t}\r\n\t\t\t\tif(find_cnt === total_item_length){\r\n\t\t\t\t\tOption.onFinish(files);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif(fileInput){\r\n\t\tfileInput.addEventListener('change', e => {\r\n\t\t\tOption.onTrigger();\r\n\t\t\thandleTransferFiles(e.target.files);\r\n\t\t\tfileInput.value = '';\r\n\t\t});\r\n\t}\r\n\r\n\t['dragenter', 'dragover'].forEach(ev => {\r\n\t\tcontainer.addEventListener(ev, e => {\r\n\t\t\tOption.dragOverClass && container.classList.add(Option.dragOverClass);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t}, false);\r\n\t});\r\n\t['dragleave', 'drop'].forEach(ev => {\r\n\t\tcontainer.addEventListener(ev, e => {\r\n\t\t\tOption.dragOverClass && container.classList.remove(Option.dragOverClass);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t}, false);\r\n\t});\r\n\tif(!container.getAttribute('tabindex')){\r\n\t\tcontainer.setAttribute('tabindex', 0);\r\n\t}\r\n\tcontainer.addEventListener('paste', e => {\r\n\t\tlet transferItems = Array.from(e.clipboardData.items);\r\n\t\tif(!transferItems.length){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\thandleTransferItems(transferItems);\r\n\t})\r\n\r\n\tcontainer.addEventListener('drop', event => {\r\n\t\tevent.preventDefault();\r\n\t\tOption.onTrigger();\r\n\t\thandleTransferItems(event.dataTransfer.items);\r\n\t}, false);\r\n};\r\n\r\n/**\r\n * 文件遍历（注意，totalCallback是通过文件计数法实现的）\r\n * @param item\r\n * @param {Function} itemCallback\r\n * @param {Function} totalCallback\r\n * @param {String} path\r\n */\r\nconst traverseFileTree = (item, itemCallback, totalCallback, path = '/') => {\r\n\tif(item.isFile){\r\n\t\titem.file(function(file){\r\n\t\t\tfile.fullPath = path + file.name;\r\n\t\t\titemCallback(file);\r\n\t\t\ttotalCallback();\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tif(item.isDirectory){\r\n\t\tlet dirReader = item.createReader();\r\n\t\tdirReader.readEntries(function(entries){\r\n\t\t\tlet fin_count = 0;\r\n\t\t\tlet entry_count = entries.length;\r\n\t\t\tif(!entry_count){\r\n\t\t\t\ttotalCallback();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfor(let i = 0; i < entry_count; i++){\r\n\t\t\t\ttraverseFileTree(entries[i], itemCallback, () => {\r\n\t\t\t\t\tfin_count++;\r\n\t\t\t\t\tif(fin_count === entry_count){\r\n\t\t\t\t\t\ttotalCallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, path + item.name + \"/\");\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tconsole.warn('err', item);\r\n\ttotalCallback();\r\n}","const json_decode = (v) => {\r\n\treturn v === null ? null : JSON.parse(v);\r\n}\r\n\r\nconst json_encode = (v) => {\r\n\treturn JSON.stringify(v);\r\n}\r\n\r\nlet callbacks = [];\r\nconst handler_callbacks = (key, newVal, oldVal)=>{\r\n\tcallbacks.forEach(cb=>{cb(key, newVal, oldVal)});\r\n};\r\n\r\nlet ls_listen_flag = false;\r\n\r\n/**\r\n * 基于LocalStorage的设置项存储\r\n * localStorage中按照 key-value 方式进行存储，value支持数据类型\r\n */\r\nexport class LocalStorageSetting {\r\n\tnamespace = '';\r\n\tsettingKeys = [];\r\n\tconstructor(defaultSetting, namespace = ''){\r\n\t\tthis.namespace = namespace;\r\n\t\tthis.settingKeys = Object.keys(defaultSetting);\r\n\t\tfor(let key in defaultSetting){\r\n\t\t\tlet v = this.get(key);\r\n\t\t\tif(v === null){\r\n\t\t\t\tthis.set(key, defaultSetting[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 获取配置\r\n\t * @param {String} key\r\n\t * @return {null|any}\r\n\t */\r\n\tget(key){\r\n\t\tlet v = localStorage.getItem(this.namespace+key);\r\n\t\tif(v === null){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn json_decode(v);\r\n\t}\r\n\r\n\t/**\r\n\t * 设置配置\r\n\t * @param {String} key\r\n\t * @param {any} value\r\n\t */\r\n\tset(key, value){\r\n\t\thandler_callbacks(key, value, this.get(key));\r\n\t\tlocalStorage.setItem(this.namespace+key, json_encode(value));\r\n\t}\r\n\r\n\t/**\r\n\t * 移除指定配置\r\n\t * @param {String} key\r\n\t */\r\n\tremove(key){\r\n\t\thandler_callbacks(key, null, this.get(key));\r\n\t\tlocalStorage.removeItem(this.namespace+key);\r\n\t}\r\n\r\n\t/**\r\n\t * 配置更新回调（包含配置变更、配置删除）\r\n\t * @param {Function} callback (key, newValue, oldValue)\r\n\t */\r\n\tonUpdated(callback){\r\n\t\tcallbacks.push(callback);\r\n\t\tif(!ls_listen_flag){\r\n\t\t\tls_listen_flag = true;\r\n\t\t\twindow.addEventListener('storage', e => {\r\n\t\t\t\tif(!this.namespace || e.key.indexOf(this.namespace) === 0){\r\n\t\t\t\t\thandler_callbacks(e.key.substring(this.namespace.length), json_decode(e.newValue), json_decode(e.oldValue));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 遍历\r\n\t * @param {Function} payload (key, value)\r\n\t */\r\n\teach(payload){\r\n\t\tthis.settingKeys.forEach(k=>{\r\n\t\t\tpayload(k, this.get(k));\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 移除所有\r\n\t */\r\n\tremoveAll(){\r\n\t\tthis.settingKeys.forEach(k=>{\r\n\t\t\tthis.remove(k);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 获取所有\r\n\t * @return {Object} {key:value}\r\n\t */\r\n\tgetAll(){\r\n\t\tlet obj = {};\r\n\t\tthis.settingKeys.forEach(k=>{\r\n\t\t\tobj[k] = this.get(k);\r\n\t\t});\r\n\t\treturn obj;\r\n\t}\r\n}","import {\r\n\tcreateDomByHtml,\r\n\tfindAll,\r\n\tfindOne,\r\n\tgetContextWindow,\r\n\thide,\r\n\tinsertStyleSheet,\r\n\tremove,\r\n\tsetStyle,\r\n\tshow\r\n} from \"../Lang/Dom.js\";\r\nimport {loadImgBySrc} from \"../Lang/Img.js\";\r\nimport {Theme} from \"./Theme.js\";\r\nimport {bindNodeActive, KEYBOARD_KEY_MAP} from \"../Lang/Event.js\";\r\nimport {downloadFile} from \"../Lang/Net.js\";\r\nimport {Dialog} from \"./Dialog.js\";\r\nimport {Toast} from \"./Toast.js\";\r\nimport {LocalStorageSetting} from \"./LocalStorageSetting.js\";\r\nimport {convertFormDataToObject, convertObjectToFormData, formSync} from \"../Lang/Form.js\";\r\nimport {dimension2Style} from \"../Lang/Html.js\";\r\n\r\nconst COM_ID = Theme.Namespace + 'com-image-viewer'\r\nconst CONTEXT_WINDOW = getContextWindow();\r\nif(!CONTEXT_WINDOW[COM_ID]){\r\n\tCONTEXT_WINDOW[COM_ID] = {};\r\n}\r\n\r\nconst DOM_CLASS = COM_ID;\r\n\r\nconst DEFAULT_VIEW_PADDING = 20;\r\nconst MAX_ZOOM_IN_RATIO = 2; //最大显示比率\r\nconst MIN_ZOOM_OUT_SIZE = 50; //最小显示像素\r\n\r\nconst THUMB_SIZE = 56+4;\r\n\r\nconst ZOOM_IN_RATIO = 0.8; //缩小比率\r\nconst ZOOM_OUT_RATIO = 1.2; //放大比率\r\n\r\n// const NAV_MAX_WIDTH = 'calc(100% - 1300px)';\r\nconst NAV_MAX_WIDTH = 'min(calc(100vw - 200px), 600px)';\r\n\r\nconst ATTR_W_BIND_KEY = 'data-original-width';\r\nconst ATTR_H_BIND_KEY = 'data-original-height';\r\n\r\nconst DISABLED_ATTR_KEY = 'data-disabled';\r\n\r\nconst GRID_IMG_BG = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUAQMAAAC3R49OAAAABlBMVEXv7+////9mUzfqAAAAFElEQVQIW2NksN/ISAz+f9CBGAwAxtEddZlnB4IAAAAASUVORK5CYII=';\r\n\r\nconst BASE_INDEX = Theme.FullScreenModeIndex;\r\nconst OP_INDEX = BASE_INDEX + 1;\r\nconst OPTION_DLG_INDEX = BASE_INDEX + 2;\r\n\r\nexport const IMG_PREVIEW_MODE_SINGLE = 1;\r\nexport const IMG_PREVIEW_MODE_MULTIPLE = 2;\r\n\r\nexport const IMG_PREVIEW_MS_SCROLL_TYPE_NONE = 0;\r\nexport const IMG_PREVIEW_MS_SCROLL_TYPE_SCALE = 1;\r\nexport const IMG_PREVIEW_MS_SCROLL_TYPE_NAV = 2;\r\n\r\nlet PREVIEW_DOM = null;\r\nlet CURRENT_MODE = 0;\r\n\r\n//id, title, payload\r\nconst CMD_CLOSE = ['close', '关闭', () => {\r\n\tdestroy()\r\n}];\r\nconst CMD_NAV_TO = ['nav_to', '关闭', (target) => {\r\n\tnavTo(target.getAttribute('data-dir') !== '1');\r\n}];\r\nconst CMD_SWITCH_TO = ['switch_to', '关闭', (target) => {\r\n\tswitchTo(target.getAttribute('data-index'));\r\n}];\r\nconst CMD_THUMB_SCROLL_PREV = ['thumb_scroll_prev', '关闭', () => {\r\n\tthumbScroll(true)\r\n}];\r\nconst CMD_THUMB_SCROLL_NEXT = ['thumb_scroll_next', '关闭', () => {\r\n\tthumbScroll(false)\r\n}];\r\nconst CMD_ZOOM_OUT = ['zoom_out', '放大', () => {\r\n\tzoom(ZOOM_OUT_RATIO);\r\n\treturn false\r\n}];\r\nconst CMD_ZOOM_IN = ['zoom_in', '缩小', () => {\r\n\tzoom(ZOOM_IN_RATIO);\r\n\treturn false\r\n}];\r\nconst CMD_ZOOM_ORG = ['zoom_org', '原始比例', () => {\r\n\tzoom(null);\r\n\treturn false\r\n}];\r\nconst CMD_ROTATE_LEFT = ['rotate_left', '左旋90°', () => {\r\n\trotate(-90);\r\n\treturn false\r\n}];\r\nconst CMD_ROTATE_RIGHT = ['rotate_right', '右旋90°', () => {\r\n\trotate(90);\r\n\treturn false\r\n}];\r\nconst CMD_VIEW_ORG = ['view_org', '查看原图', () => {\r\n\tviewOriginal()\r\n}];\r\nconst CMD_DOWNLOAD = ['download', '下载图片', () => {\r\n\tdownloadFile(srcSetResolve(IMG_SRC_LIST[IMG_CURRENT_INDEX]).original)\r\n}];\r\nconst CMD_OPTION = ['option', '选项', () => {\r\n\tshowOptionDialog()\r\n}];\r\n\r\n//srcset支持格式请使用 srcSetResolve 进行解析使用，规则如下\r\n// ① src或[src]: 只有一种图源模式；\r\n// ② [src1,src2]，1为缩略图，2为大图、原图；\r\n// ③ [src1,src2,src3] 1为缩略图，2为大图，3为原图\r\nlet IMG_SRC_LIST = [/** srcset1, srcset2 **/];\r\nlet IMG_CURRENT_INDEX = 0;\r\n\r\nconst DEFAULT_SETTING = {\r\n\tmouse_scroll_type: IMG_PREVIEW_MS_SCROLL_TYPE_NAV,\r\n\tallow_move: true,\r\n\tshow_thumb_list: false,\r\n\tshow_toolbar: true,\r\n};\r\nlet LocalSetting = new LocalStorageSetting(DEFAULT_SETTING, Theme.Namespace + 'com-image-viewer/');\r\n\r\n/**\r\n * 解析图片src集合\r\n * @param {Array|String} srcSet\r\n * @return {{normal: string, original: string, thumb: string}}\r\n */\r\nconst srcSetResolve = srcSet => {\r\n\tsrcSet = typeof (srcSet) === 'string' ? [srcSet] : srcSet;\r\n\treturn {\r\n\t\tthumb: srcSet[0],\r\n\t\tnormal: srcSet[1] || srcSet[0],\r\n\t\toriginal: srcSet[2] || srcSet[1] || srcSet[0]\r\n\t};\r\n}\r\n\r\nconst STYLE_STR = `\r\n\t @keyframes ${Theme.Namespace}spin{\r\n\t\t100%{transform:rotate(360deg);}\r\n\t}\r\n\t.${DOM_CLASS}{width:100vw;height:100vh; max-height:100vh !important; max-width:100vw !important; overflow:hidden; padding:0; margin:0; border:none; background-color:#fff0;}\r\n\t.${DOM_CLASS}::backdrop {backdrop-filter:brightness(0.65) blur(10px)}\r\n\t.${DOM_CLASS} .civ-closer{position:fixed; opacity:0.7; z-index:${OP_INDEX}; background-color:#cccccc87; color:white; right:20px; top:20px; border-radius:3px; cursor:pointer; font-size:0; line-height:1; padding:5px;}\r\n\t.${DOM_CLASS} .civ-closer:before{font-family:\"${Theme.IconFont}\", serif; content:\"\\\\e61a\"; font-size:20px;}\r\n\t.${DOM_CLASS} .civ-closer:hover{opacity:1}\r\n\t.${DOM_CLASS} .civ-nav-btn{padding:10px; z-index:${OP_INDEX}; transition:all 0.1s linear; border-radius:3px; opacity:0.8; color:white; background-color:#8d8d8d6e; position:fixed; top:calc(50% - 25px); cursor:pointer;}\r\n\t.${DOM_CLASS} .civ-nav-btn[disabled]{color:gray; cursor:default !important;}\r\n\t.${DOM_CLASS} .civ-nav-btn:not([disabled]):hover{opacity:1;}\r\n\t.${DOM_CLASS} .civ-nav-btn:before{font-family:\"${Theme.IconFont}\"; font-size:20px;}\r\n\t.${DOM_CLASS} .civ-prev{left:10px}\r\n\t.${DOM_CLASS} .civ-prev:before{content:\"\\\\e6103\"}\r\n\t.${DOM_CLASS} .civ-next{right:10px}\r\n\t.${DOM_CLASS} .civ-next:before{content:\"\\\\e73b\";}\r\n\r\n\t.${DOM_CLASS} .civ-view-option {position:fixed;display:flex;--opt-btn-size:1.8rem;background-color: #6f6f6f26;backdrop-filter:blur(4px);padding:0.25em 0.5em;left:50%;transform:translate(-50%, 0);z-index:${OP_INDEX};gap: 0.5em;border-radius:4px;}\r\n\t.${DOM_CLASS} .civ-opt-btn {cursor:pointer;flex:1;user-select:none;width: var(--opt-btn-size); line-height:1; height:var(--opt-btn-size);overflow: hidden; color: white;padding: 0.2em;border-radius: 4px;transition: all 0.1s linear;opacity: 0.7;}\r\n\t.${DOM_CLASS} .civ-opt-btn:before {font-family:\"${Theme.IconFont}\";font-size:var(--opt-btn-size);display: block;width: 100%;height: 100%;}\r\n\t.${DOM_CLASS} .civ-opt-btn:hover {background-color: #ffffff3b;opacity: 1;}\r\n\t\r\n\t.${DOM_CLASS}-icon:before {content:\"\"; font-family:\"${Theme.IconFont}\"; font-style:normal;}\r\n\t.${DOM_CLASS}-icon-${CMD_ZOOM_OUT[0]}:before {content: \"\\\\e898\";}\r\n\t.${DOM_CLASS}-icon-${CMD_ZOOM_IN[0]}:before {content:\"\\\\e683\"} \r\n\t.${DOM_CLASS}-icon-${CMD_ZOOM_ORG[0]}:before {content:\"\\\\e64a\"} \r\n\t.${DOM_CLASS}-icon-${CMD_ROTATE_LEFT[0]}:before {content:\"\\\\e7be\"} \r\n\t.${DOM_CLASS}-icon-${CMD_ROTATE_RIGHT[0]}:before {content:\"\\\\e901\"} \r\n\t.${DOM_CLASS}-icon-${CMD_VIEW_ORG[0]}:before {content:\"\\\\e7de\"} \r\n\t.${DOM_CLASS}-icon-${CMD_DOWNLOAD[0]}:before {content:\"\\\\e839\"} \r\n\t.${DOM_CLASS}-icon-${CMD_OPTION[0]}:before {content:\"\\\\e9cb\";}\r\n\r\n\t.${DOM_CLASS} .civ-nav-wrap{position:fixed;opacity: 0.8;transition:all 0.1s linear;background-color: #ffffff26;bottom:10px;left:50%;transform:translate(-50%, 0);z-index:${OP_INDEX};display: flex; padding:0.5em 0.25em;max-width: ${NAV_MAX_WIDTH};min-width: 100px;border-radius: 5px;backdrop-filter: blur(4px);box-shadow: 1px 1px 30px #6666666b;}\r\n\t.${DOM_CLASS} .civ-nav-wrap:hover {opacity:1}\r\n\t.${DOM_CLASS} .civ-nav-list-wrap {overflow:hidden; scroll-behavior: smooth;}\r\n\t.${DOM_CLASS} .civ-nav-list-prev,\r\n\t.${DOM_CLASS} .civ-nav-list-next {color:white; flex: 1; min-width:25px;cursor: pointer;opacity: 0.5;line-height: 48px;transition: all 0.1s linear; display: flex; align-items: center;}\r\n\t.${DOM_CLASS} .civ-nav-list-prev:hover,\r\n\t.${DOM_CLASS} .civ-nav-list-next:hover {opacity:1}\r\n\t.${DOM_CLASS} .civ-nav-list-prev:before,\r\n\t.${DOM_CLASS} .civ-nav-list-next:before{font-family:\"${Theme.IconFont}\";font-size:18px;}\r\n\t.${DOM_CLASS} .civ-nav-list-prev {}\r\n\t.${DOM_CLASS} .civ-nav-list-next {right: -20px;}\r\n\t.${DOM_CLASS} .civ-nav-list-prev:before{content:\"\\\\e6103\"}\r\n\t.${DOM_CLASS} .civ-nav-list-next:before{content:\"\\\\e73b\";}\r\n\t\r\n\t.${DOM_CLASS} .civ-nav-list{height:${THUMB_SIZE}px; transition:margin 0.4s ease-out; display:flex}\r\n\t.${DOM_CLASS} .civ-nav-thumb{min-width:${THUMB_SIZE}px; height:100%; flex:1; transition:all 0.1s linear;overflow:hidden; box-sizing:border-box; cursor: pointer;}\r\n\t.${DOM_CLASS} .civ-nav-thumb img{border:4px solid transparent; border-radius:3px; width:${THUMB_SIZE}px; height:${THUMB_SIZE}px; object-fit:cover; opacity: 0.6; box-sizing:border-box;}\r\n\t.${DOM_CLASS} .civ-nav-thumb:hover img {border-color:#ffffff82;opacity:0.8;}\r\n\t.${DOM_CLASS} .civ-nav-thumb.active img {border-color:white;opacity: 1;}\r\n\r\n\t.${DOM_CLASS} .civ-ctn{height:100%; width:100%; position:absolute; top:0; left:0;}\r\n\t.${DOM_CLASS} .civ-error{margin-top:calc(50% - 60px);}\r\n\t.${DOM_CLASS} .civ-loading{--loading-size:50px; position:absolute; left:50%; top:50%; margin:calc(var(--loading-size) / 2) 0 0 calc(var(--loading-size) / 2)}\r\n\t.${DOM_CLASS} .civ-loading:before{content:\"\\\\e635\"; font-family:\"${Theme.IconFont}\" !important; animation:${Theme.Namespace}spin 3s infinite linear; font-size:var(--loading-size); color:#ffffff6e; display:block; width:var(--loading-size); height:var(--loading-size); line-height:var(--loading-size)}\r\n\t.${DOM_CLASS} .civ-img{height:100%; display:block; box-sizing:border-box; position:relative;}\r\n\t.${DOM_CLASS} .civ-img img{position:absolute; left:50%; top:50%; transition:width 0.1s, height 0.1s, transform 0.1s; transform:translate(-50%, -50%); box-shadow:1px 1px 20px #484848; background:url('${GRID_IMG_BG}')}\r\n\r\n\t.${DOM_CLASS}[data-ip-mode=\"1\"] .civ-nav-btn,\r\n\t.${DOM_CLASS}[data-ip-mode=\"1\"] .civ-nav-wrap{display:none;}\r\n\r\n\t.${DOM_CLASS}-option-list {padding: 1em 2em 2em;display: block;list-style: none;font-size:1rem;}\r\n\t.${DOM_CLASS}-option-list>li {margin-bottom: 1em;padding-left: 5em;}\r\n\t.${DOM_CLASS}-option-list>li:last-child {margin:0;}\r\n\t.${DOM_CLASS}-option-list>li>label:first-child {display:block;float: left;width: 5em;margin-left: -5em;user-select:none;}\r\n\t.${DOM_CLASS}-option-list>li>label:not(:first-child) {display:block;user-select:none;margin-bottom: 0.25em;}\r\n\r\n\t.${DOM_CLASS}-tools-menu {position:fixed;background: white;padding: 5px 0;min-width: 150px; border-radius: 4px;box-shadow: 1px 1px 10px #3e3e3e94;}\r\n\t.${DOM_CLASS}-tools-menu>li {padding: 0.45em 1em;}\r\n\t.${DOM_CLASS}-tools-menu>li:hover {background: #eee;cursor: pointer;user-select: none;}\r\n\r\n\t.${DOM_CLASS}[show_thumb_list=\"false\"] .civ-nav-wrap,\r\n\t.${DOM_CLASS}[show_toolbar=\"false\"] .civ-view-option {display:none;}\r\n`;\r\n\r\n/**\r\n * 销毁组件\r\n */\r\nconst destroy = () => {\r\n\tif(!PREVIEW_DOM){\r\n\t\treturn false;\r\n\t}\r\n\tremove(PREVIEW_DOM);\r\n\tPREVIEW_DOM = null;\r\n\twindow.removeEventListener('resize', onWinResize);\r\n\tdocument.removeEventListener('keydown', bindKeyDown);\r\n\treturn true;\r\n};\r\n\r\n/**\r\n * 更新导航按钮状态\r\n */\r\nconst updateNavState = () => {\r\n\tlet prev = PREVIEW_DOM.querySelector('.civ-prev');\r\n\tlet next = PREVIEW_DOM.querySelector('.civ-next');\r\n\tlet total = IMG_SRC_LIST.length;\r\n\tif(IMG_CURRENT_INDEX === 0){\r\n\t\tprev.setAttribute(DISABLED_ATTR_KEY, '1');\r\n\t}else{\r\n\t\tprev.removeAttribute(DISABLED_ATTR_KEY);\r\n\t}\r\n\tif(IMG_CURRENT_INDEX === (total - 1)){\r\n\t\tnext.setAttribute(DISABLED_ATTR_KEY, '1');\r\n\t}else{\r\n\t\tnext.removeAttribute(DISABLED_ATTR_KEY);\r\n\t}\r\n\r\n\tPREVIEW_DOM.querySelectorAll(`.civ-nav-list .civ-nav-thumb`).forEach(item => item.classList.remove('active'));\r\n\tPREVIEW_DOM.querySelector(`.civ-nav-list .civ-nav-thumb[data-index=\"${IMG_CURRENT_INDEX}\"]`).classList.add('active');\r\n\tthumbScrollIntoView();\r\n}\r\n\r\nconst listenSelector = (parentNode, selector, event, handler) => {\r\n\tparentNode.querySelectorAll(selector).forEach(target => {\r\n\t\ttarget.addEventListener(event, handler);\r\n\t});\r\n}\r\n\r\nconst activeSelector = (parentNode, selector, handler) => {\r\n\tlistenSelector(parentNode, selector, 'click', handler);\r\n\tlistenSelector(parentNode, selector, 'keyup', e => {\r\n\t\tif(e.key === KEYBOARD_KEY_MAP.Enter){\r\n\t\t\thandler(e);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst scaleFixCenter = ({\r\n\t                        contentWidth,\r\n\t                        contentHeight,\r\n\t                        containerWidth,\r\n\t                        containerHeight,\r\n\t                        spacing = 0,\r\n\t                        zoomIn = false\r\n                        }) => {\r\n\tif(contentWidth <= containerWidth && contentHeight <= containerHeight && !zoomIn){\r\n\t\treturn {\r\n\t\t\twidth: contentWidth,\r\n\t\t\theight: contentHeight\r\n\t\t};\r\n\t}\r\n\tlet ratioX = containerWidth / contentWidth;\r\n\tlet ratioY = containerHeight / contentHeight;\r\n\r\n\tlet ratio = Math.min(ratioX, ratioY);\r\n\treturn {\r\n\t\twidth: contentWidth * ratio - spacing * 2,\r\n\t\theight: contentHeight * ratio - spacing * 2\r\n\t};\r\n}\r\n\r\n/**\r\n * 绑定图片移动\r\n * @param {HTMLImageElement} img\r\n */\r\nconst bindImgMove = (img) => {\r\n\tlet moving = false;\r\n\tlet lastOffset = {};\r\n\timg.addEventListener('mousedown', e => {\r\n\t\tif(LocalSetting.get('allow_move')){\r\n\t\t\tmoving = true;\r\n\t\t\tlastOffset = {\r\n\t\t\t\tclientX: e.clientX,\r\n\t\t\t\tclientY: e.clientY,\r\n\t\t\t\tmarginLeft: parseInt(img.style.marginLeft || 0, 10),\r\n\t\t\t\tmarginTop: parseInt(img.style.marginTop || 0, 10)\r\n\t\t\t};\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\t['mouseup', 'mouseout'].forEach(ev => {\r\n\t\timg.addEventListener(ev, e => {\r\n\t\t\tmoving = false;\r\n\t\t})\r\n\t});\r\n\timg.addEventListener('mousemove', e => {\r\n\t\tif(moving && LocalSetting.get('allow_move')){\r\n\t\t\timg.style.marginLeft = dimension2Style(lastOffset.marginLeft + (e.clientX - lastOffset.clientX));\r\n\t\t\timg.style.marginTop = dimension2Style(lastOffset.marginTop + (e.clientY - lastOffset.clientY));\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 显示图片\r\n * @param {Number} img_index\r\n */\r\nconst showImgSrc = (img_index = 0) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet imgItem = srcSetResolve(IMG_SRC_LIST[img_index]);\r\n\t\tlet loading = PREVIEW_DOM.querySelector('.civ-loading');\r\n\t\tlet err = PREVIEW_DOM.querySelector('.civ-error');\r\n\t\tlet img_ctn = PREVIEW_DOM.querySelector('.civ-img');\r\n\t\timg_ctn.innerHTML = '';\r\n\t\tshow(loading);\r\n\t\thide(err);\r\n\t\tloadImgBySrc(imgItem.normal).then(img => {\r\n\t\t\tsetStyle(img, scaleFixCenter({\r\n\t\t\t\tcontentWidth: img.width,\r\n\t\t\t\tcontentHeight: img.height,\r\n\t\t\t\tcontainerWidth: img_ctn.offsetWidth,\r\n\t\t\t\tcontainerHeight: img_ctn.offsetHeight,\r\n\t\t\t\tspacing: DEFAULT_VIEW_PADDING\r\n\t\t\t}));\r\n\t\t\thide(loading);\r\n\t\t\timg_ctn.innerHTML = '';\r\n\t\t\timg.setAttribute(ATTR_W_BIND_KEY, img.width);\r\n\t\t\timg.setAttribute(ATTR_H_BIND_KEY, img.height);\r\n\t\t\tbindImgMove(img);\r\n\t\t\timg_ctn.appendChild(img);\r\n\t\t\tresolve(img);\r\n\t\t}, error => {\r\n\t\t\thide(loading);\r\n\t\t\terr.innerHTML = `图片加载失败，<a href=\"${imgItem.normal}\" target=\"_blank\">查看详情(${error})</a>`;\r\n\t\t\tshow(err);\r\n\t\t\treject(err);\r\n\t\t});\r\n\t});\r\n}\r\n\r\nconst constructDom = () => {\r\n\tlet nav_thumb_list_html = `\r\n\t\t<div class=\"civ-nav-wrap\">\r\n\t\t\t<span class=\"civ-nav-list-prev\" tabindex=\"0\" data-cmd=\"${CMD_THUMB_SCROLL_PREV[0]}\"></span>\r\n\t\t\t<div class=\"civ-nav-list-wrap\">\r\n\t\t\t\t<div class=\"civ-nav-list\">\r\n\t\t\t\t${IMG_SRC_LIST.reduce((preStr, item, idx) => {\r\n\t\t\treturn preStr + `<span class=\"civ-nav-thumb\" tabindex=\"0\" data-cmd=\"${CMD_SWITCH_TO[0]}\" data-index=\"${idx}\"><img src=\"${srcSetResolve(item).thumb}\"/></span>`;\r\n\t\t}, \"\")}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<span class=\"civ-nav-list-next\" tabindex=\"0\" data-cmd=\"${CMD_THUMB_SCROLL_NEXT[0]}\"></span>\r\n\t\t</div>`;\r\n\r\n\tlet option_html = `\r\n\t<span class=\"civ-view-option\">\r\n\t\t${TOOLBAR_OPTIONS.reduce((lastVal, cmdInfo, idx) => {\r\n\t\treturn lastVal + `<span class=\"civ-opt-btn ${DOM_CLASS}-icon ${DOM_CLASS}-icon-${cmdInfo[0]}\" tabindex=\"0\" data-cmd=\"${cmdInfo[0]}\" title=\"${cmdInfo[1]}\"></span>`;\r\n\t}, \"\")}\r\n\t</span>`;\r\n\r\n\tPREVIEW_DOM = createDomByHtml(`\r\n\t\t<dialog class=\"${DOM_CLASS}\" data-ip-mode=\"${CURRENT_MODE}\">\r\n\t\t\t<span tabindex=\"0\" class=\"civ-closer\" data-cmd=\"${CMD_CLOSE[0]}\" title=\"ESC to close\">close</span>\r\n\t\t\t<span tabindex=\"0\" class=\"civ-nav-btn civ-prev\" data-cmd=\"${CMD_NAV_TO[0]}\" data-dir=\"0\"></span>\r\n\t\t\t<span tabindex=\"0\" class=\"civ-nav-btn civ-next\" data-cmd=\"${CMD_NAV_TO[0]}\" data-dir=\"1\"></span>\r\n\t\t\t${option_html}\r\n\t\t\t${nav_thumb_list_html}\r\n\t\t\t<div class=\"civ-ctn\">\r\n\t\t\t\t<span class=\"civ-loading\"></span>\r\n\t\t\t\t<span class=\"civ-error\"></span>\r\n\t\t\t\t<span class=\"civ-img\"></span>\r\n\t\t\t</div>\r\n\t\t</dialog>\r\n\t`, document.body);\r\n\r\n\tLocalSetting.each((k, v) => {\r\n\t\tPREVIEW_DOM.setAttribute(k, JSON.stringify(v));\r\n\t});\r\n\tLocalSetting.onUpdated((k, v) => {\r\n\t\tPREVIEW_DOM && PREVIEW_DOM.setAttribute(k, JSON.stringify(v));\r\n\t});\r\n\r\n\t//bind close click & space click\r\n\tfindAll('[data-cmd]', PREVIEW_DOM).forEach(node=>{\r\n\t\tbindNodeActive(node, ()=>{\r\n\t\t\tlet cmd = node.getAttribute('data-cmd');\r\n\t\t\tif(node.getAttribute(DISABLED_ATTR_KEY)){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet cmdInfo = getCmdViaID(cmd);\r\n\t\t\tif(cmdInfo){\r\n\t\t\t\treturn cmdInfo[2](node);\r\n\t\t\t}\r\n\t\t\tthrow \"no command found.\";\r\n\r\n\t\t})\r\n\t})\r\n\r\n\tbindNodeActive(findOne('.civ-ctn', PREVIEW_DOM), e => {\r\n\t\tif(e && e.target.tagName !== 'IMG'){\r\n\t\t\tdestroy();\r\n\t\t}\r\n\t});\r\n\r\n\tfindOne('.civ-nav-wrap', PREVIEW_DOM).addEventListener('mousewheel', e=>{\r\n\t\tnavTo(e.wheelDelta > 0);\r\n\t\te.preventDefault();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t//bind scroll zoom\r\n\tlistenSelector(PREVIEW_DOM, '.civ-ctn', 'mousewheel', e => {\r\n\t\tswitch(LocalSetting.get('mouse_scroll_type')){\r\n\t\t\tcase IMG_PREVIEW_MS_SCROLL_TYPE_SCALE:\r\n\t\t\t\tzoom(e.wheelDelta > 0 ? ZOOM_OUT_RATIO : ZOOM_IN_RATIO);\r\n\t\t\t\tbreak;\r\n\t\t\tcase IMG_PREVIEW_MS_SCROLL_TYPE_NAV:\r\n\t\t\t\tnavTo(e.wheelDelta > 0);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t\treturn false;\r\n\t})\r\n\r\n\tPREVIEW_DOM.showModal();\r\n\r\n\t//bind resize\r\n\twindow.addEventListener('resize', onWinResize);\r\n\tPREVIEW_DOM.addEventListener('keydown', bindKeyDown); //通过preview dom 提前拦截keydown时间，避免其他组件（如Dialog调用）\r\n};\r\n\r\nconst bindKeyDown = (e) => {\r\n\tif(e.key === KEYBOARD_KEY_MAP.ArrowLeft){\r\n\t\te.stopPropagation();\r\n\t\tnavTo(true);\r\n\t}\r\n\tif(e.key === KEYBOARD_KEY_MAP.ArrowRight){\r\n\t\te.stopPropagation();\r\n\t\tnavTo(false);\r\n\t}\r\n\tif(e.key === KEYBOARD_KEY_MAP.Escape){\r\n\t\tif(destroy()){\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet resize_tm = null;\r\nconst onWinResize = () => {\r\n\tresize_tm && clearTimeout(resize_tm);\r\n\tresize_tm = setTimeout(() => {\r\n\t\tresetView();\r\n\t}, 50);\r\n};\r\n\r\n/**\r\n * 重置视图\r\n */\r\nconst resetView = () => {\r\n\tlet img = PREVIEW_DOM.querySelector('.civ-img img');\r\n\tif(!img){\r\n\t\treturn;\r\n\t}\r\n\tlet container = PREVIEW_DOM.querySelector('.civ-img');\r\n\tsetStyle(img, scaleFixCenter({\r\n\t\tcontentWidth: img.getAttribute(ATTR_W_BIND_KEY),\r\n\t\tcontentHeight: img.getAttribute(ATTR_H_BIND_KEY),\r\n\t\tcontainerWidth: container.offsetWidth,\r\n\t\tcontainerHeight: container.offsetHeight,\r\n\t\tspacing: DEFAULT_VIEW_PADDING\r\n\t}));\r\n\tsetStyle(img, {marginLeft: 0, marginTop: 0})\r\n}\r\n\r\n/**\r\n * 图片切换\r\n * @param {Boolean} toPrev 是否切换到上一张\r\n * @return {boolean}\r\n */\r\nconst navTo = (toPrev = false) => {\r\n\tlet total = IMG_SRC_LIST.length;\r\n\tif((toPrev && IMG_CURRENT_INDEX === 0) || (!toPrev && IMG_CURRENT_INDEX === (total - 1))){\r\n\t\treturn false;\r\n\t}\r\n\ttoPrev ? IMG_CURRENT_INDEX-- : IMG_CURRENT_INDEX++;\r\n\tshowImgSrc(IMG_CURRENT_INDEX);\r\n\tupdateNavState();\r\n}\r\n\r\nconst switchTo = (index) => {\r\n\tIMG_CURRENT_INDEX = index;\r\n\tshowImgSrc(IMG_CURRENT_INDEX);\r\n\tupdateNavState();\r\n}\r\n\r\n/**\r\n * 横向滚动\r\n * @param {Boolean} toPrev 向左true，向右false\r\n * @param {Number} offset 滚动幅度\r\n */\r\nconst thumbScroll = (toPrev, offset = 200) => {\r\n\tlet thumb_wrap = findOne('.civ-nav-list-wrap', PREVIEW_DOM);\r\n\tlet thumb_list = findOne('.civ-nav-list', PREVIEW_DOM);\r\n\tlet max_scroll_left = thumb_list.scrollWidth - thumb_wrap.offsetWidth;\r\n\tlet scroll_left = thumb_wrap.scrollLeft + (toPrev ? -1 : 1) * offset;\r\n\tthumb_wrap.scrollLeft = Math.max(Math.min(scroll_left, max_scroll_left), 0);\r\n}\r\n\r\n/**\r\n * 滚动到中间\r\n */\r\nconst thumbScrollIntoView = ()=>{\r\n\tlet current = findOne('.civ-nav-list .active', PREVIEW_DOM);\r\n\tcurrent.scrollIntoView();\r\n}\r\n\r\n/**\r\n * 缩放\r\n * @param {Number} ratioOffset 缩放比率(原尺寸百分比）\r\n */\r\nconst zoom = (ratioOffset) => {\r\n\tlet img = PREVIEW_DOM.querySelector('.civ-img img');\r\n\tlet origin_width = img.getAttribute(ATTR_W_BIND_KEY);\r\n\tlet origin_height = img.getAttribute(ATTR_H_BIND_KEY);\r\n\r\n\tif(ratioOffset === null){\r\n\t\tratioOffset = 1;\r\n\t\timg.style.left = dimension2Style(parseInt(img.style.left, 10) * ratioOffset);\r\n\t\timg.style.top = dimension2Style(parseInt(img.style.top, 10) * ratioOffset);\r\n\t\timg.style.width = dimension2Style(parseInt(origin_width, 10) * ratioOffset);\r\n\t\timg.style.height = dimension2Style(parseInt(origin_height, 10) * ratioOffset);\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet width = parseInt(img.style.width, 10) * ratioOffset;\r\n\tlet height = parseInt(img.style.height, 10) * ratioOffset;\r\n\r\n\t//zoom in ratio limited\r\n\tif(ratioOffset > 1 && width > origin_width && ((width / origin_width) > MAX_ZOOM_IN_RATIO || (height / origin_height) > MAX_ZOOM_IN_RATIO)){\r\n\t\tconsole.warn('zoom in limited');\r\n\t\treturn;\r\n\t}\r\n\r\n\t//限制任何一边小于最小值\r\n\tif(ratioOffset < 1 && width < origin_width && (width < MIN_ZOOM_OUT_SIZE || height < MIN_ZOOM_OUT_SIZE)){\r\n\t\tconsole.warn('zoom out limited');\r\n\t\treturn;\r\n\t}\r\n\r\n\timg.style.left = dimension2Style(parseInt(img.style.left, 10) * ratioOffset);\r\n\timg.style.top = dimension2Style(parseInt(img.style.top, 10) * ratioOffset);\r\n\timg.style.width = dimension2Style(parseInt(img.style.width, 10) * ratioOffset);\r\n\timg.style.height = dimension2Style(parseInt(img.style.height, 10) * ratioOffset);\r\n}\r\n\r\nconst rotate = (degreeOffset) => {\r\n\tlet img = PREVIEW_DOM.querySelector('.civ-img img');\r\n\tlet rotate = parseInt(img.getAttribute('data-rotate') || 0, 10);\r\n\tlet newRotate = rotate + degreeOffset;\r\n\timg.setAttribute('data-rotate', newRotate);\r\n\timg.style.transform = `translate(-50%, -50%) rotate(${newRotate}deg)`;\r\n}\r\n\r\nconst viewOriginal = () => {\r\n\twindow.open(srcSetResolve(IMG_SRC_LIST[IMG_CURRENT_INDEX]).original);\r\n};\r\n\r\nconst showOptionDialog = () => {\r\n\tlet html = `\r\n<ul class=\"${DOM_CLASS}-option-list\">\r\n\t<li>\r\n\t\t<label>界面：</label>\r\n\t\t<label style=\"display:none\" title=\"该选项不启用，操作不闭环\">\r\n\t\t\t<input type=\"checkbox\" name=\"show_toolbar\" value=\"1\">显示顶部操作栏\r\n\t\t</label>\r\n\t\t<label>\r\n\t\t\t<input type=\"checkbox\" name=\"show_thumb_list\" value=\"1\">显示底部缩略图列表（多图模式）\r\n\t\t</label>\r\n\t</li>\t\r\n\t<li>\r\n\t\t<label>鼠标滚轮：</label>\r\n\t\t<label><input type=\"radio\" name=\"mouse_scroll_type\" value=\"${IMG_PREVIEW_MS_SCROLL_TYPE_NAV}\">切换前一张、后一张图片</label>\r\n\t\t<label><input type=\"radio\" name=\"mouse_scroll_type\" value=\"${IMG_PREVIEW_MS_SCROLL_TYPE_SCALE}\">缩放图片</label>\r\n\t\t<label><input type=\"radio\" name=\"mouse_scroll_type\" value=\"${IMG_PREVIEW_MS_SCROLL_TYPE_NONE}\">无动作</label>\r\n\t</li>\r\n\t<li>\r\n\t\t<label>移动：</label>\r\n\t\t<label><input type=\"checkbox\" name=\"allow_move\" value=\"1\">允许移动图片</label>\r\n\t</li>\r\n</ul>\r\n\t`\r\n\tlet dlg = Dialog.show('设置', html, {\r\n\t\tmodal: true\r\n\t});\r\n\tdlg.dom.style.zIndex = OPTION_DLG_INDEX + \"\";\r\n\tlet lsSetterTip = null;\r\n\tformSync(dlg.dom, (name) => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet tmp = convertObjectToFormData({[name]: LocalSetting.get(name)});\r\n\t\t\tresolve(tmp[name]);\r\n\t\t});\r\n\t}, (name, value) => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet obj = convertFormDataToObject({[name]: value}, DEFAULT_SETTING);\r\n\t\t\tLocalSetting.set(name, obj[name]);\r\n\t\t\tlsSetterTip && lsSetterTip.hide();\r\n\t\t\tlsSetterTip = Toast.showSuccess('设置已保存');\r\n\t\t\tresolve();\r\n\t\t});\r\n\t});\r\n}\r\n\r\nconst ALL_COMMANDS = [\r\n\tCMD_CLOSE,\r\n\tCMD_NAV_TO,\r\n\tCMD_SWITCH_TO,\r\n\tCMD_THUMB_SCROLL_PREV,\r\n\tCMD_THUMB_SCROLL_NEXT,\r\n\tCMD_ZOOM_OUT,\r\n\tCMD_ZOOM_IN,\r\n\tCMD_ZOOM_ORG,\r\n\tCMD_ROTATE_LEFT,\r\n\tCMD_ROTATE_RIGHT,\r\n\tCMD_VIEW_ORG,\r\n\tCMD_DOWNLOAD,\r\n\tCMD_OPTION,\r\n];\r\n\r\nconst TOOLBAR_OPTIONS = [\r\n\tCMD_ZOOM_OUT,\r\n\tCMD_ZOOM_IN,\r\n\tCMD_ZOOM_ORG,\r\n\tCMD_ROTATE_LEFT,\r\n\tCMD_ROTATE_RIGHT,\r\n\tCMD_VIEW_ORG,\r\n\t// CMD_DOWNLOAD,\r\n\tCMD_OPTION\r\n];\r\n\r\n/**\r\n * 获取命令信息\r\n * @param {String} id\r\n * @return {null|Object}\r\n */\r\nconst getCmdViaID = (id) => {\r\n\tfor(let k in ALL_COMMANDS){\r\n\t\tlet [_id] = ALL_COMMANDS[k];\r\n\t\tif(id === _id){\r\n\t\t\treturn ALL_COMMANDS[k];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n\r\n/**\r\n * 初始化\r\n * @param {Object} option\r\n * @param {Number} option.mode 显示模式：IMG_PREVIEW_MODE_SINGLE 单图模式，IMG_PREVIEW_MODE_MULTIPLE 多图模式\r\n * @param {String[]} option.srcList 图片列表，单图或者多图模式都需要以数组方式传参\r\n * @param {Boolean} option.showToolbar 是否显示选项条（缺省使用默认配置）\r\n * @param {Boolean} option.showThumbList [多图模式]是否显示缩略图列表（缺省使用默认配置）\r\n * @param {Number|0} option.mouse_scroll_type 鼠标滚动控制类型：IMG_PREVIEW_MS_SCROLL_TYPE_NONE，IMG_PREVIEW_MS_SCROLL_TYPE_SCALE，IMG_PREVIEW_MS_SCROLL_TYPE_NAV（缺省使用默认配置）\r\n * @param {Number|0} option.startIndex [多图模式]开始图片索引\r\n * @param {Boolean} option.preloadSrcList [多图模式]是否预加载列表\r\n */\r\nconst init = ({\r\n\t              mode,\r\n\t              srcList,\r\n\t              mouse_scroll_type = IMG_PREVIEW_MS_SCROLL_TYPE_NAV,\r\n\t              startIndex = 0,\r\n\t              showContextMenu = null,\r\n\t              showToolbar = null,\r\n\t              showThumbList = null,\r\n\t              preloadSrcList = null,\r\n              }) => {\r\n\tinsertStyleSheet(STYLE_STR, Theme.Namespace + 'img-preview-style');\r\n\tdestroy();\r\n\tCURRENT_MODE = mode;\r\n\tIMG_SRC_LIST = srcList;\r\n\tIMG_CURRENT_INDEX = startIndex;\r\n\r\n\tmouse_scroll_type !== null && LocalSetting.set('mouse_scroll_type', mouse_scroll_type);\r\n\tshowThumbList !== null && LocalSetting.set('show_thumb_list', showThumbList);\r\n\tshowToolbar !== null && LocalSetting.set('show_toolbar', showToolbar);\r\n\r\n\tconstructDom();\r\n\tshowImgSrc(IMG_CURRENT_INDEX).finally(() => {\r\n\t\tif(preloadSrcList){\r\n\t\t\tsrcList.forEach(src => {\r\n\t\t\t\tnew Image().src = src\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\tif(mode === IMG_PREVIEW_MODE_MULTIPLE){\r\n\t\tsetTimeout(updateNavState, 100);\r\n\t}\r\n}\r\n\r\n/**\r\n * 显示单张图片预览\r\n * @param {String} imgSrc\r\n * @param {Object} option\r\n */\r\nconst showImgPreview = CONTEXT_WINDOW[COM_ID]['showImgPreview'] || function(imgSrc, option = {}){\r\n\tinit({mode: IMG_PREVIEW_MODE_SINGLE, srcList: [imgSrc], ...option});\r\n}\r\n\r\n/**\r\n * 显示多图预览\r\n * @param {String[]} imgSrcList\r\n * @param {Number} startIndex\r\n * @param {Object} option\r\n */\r\nconst showImgListPreview = CONTEXT_WINDOW[COM_ID]['showImgListPreview'] || function(imgSrcList, startIndex = 0, option = {}){\r\n\tinit({mode: IMG_PREVIEW_MODE_MULTIPLE, srcList: imgSrcList, startIndex, ...option});\r\n}\r\n\r\n/**\r\n * 通过绑定节点显示图片预览\r\n * @param {String} nodeSelector 触发绑定的节点选择器，可以是img本身节点，也可以是其他代理节点\r\n * @param {String} triggerEvent\r\n * @param {String|Function} srcFetcher 获取大图src的选择器，或者函数，如果是函数传入第一个参数为触发节点\r\n * @param {Object} option\r\n */\r\nconst bindImgPreviewViaSelector = (nodeSelector = 'img', triggerEvent = 'click', srcFetcher = 'src', option = {}) => {\r\n\tlet nodes = findAll(nodeSelector);\r\n\tlet imgSrcList = [];\r\n\tif(!nodes.length){\r\n\t\tconsole.warn('no images found');\r\n\t\treturn;\r\n\t}\r\n\tnodes.forEach((node, idx) => {\r\n\t\tswitch(typeof (srcFetcher)){\r\n\t\t\tcase 'function':\r\n\t\t\t\timgSrcList.push(srcFetcher(node));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'string':\r\n\t\t\t\timgSrcList.push(node.getAttribute(srcFetcher));\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow \"No support srcFetcher types:\" + typeof (srcFetcher);\r\n\t\t}\r\n\t\tnode.addEventListener(triggerEvent, e => {\r\n\t\t\tif(nodes.length > 1){\r\n\t\t\t\tshowImgListPreview(imgSrcList, idx, option);\r\n\t\t\t}else{\r\n\t\t\t\tshowImgPreview(imgSrcList[0], option);\r\n\t\t\t}\r\n\t\t})\r\n\t});\r\n}\r\n\r\nwindow[COM_ID] = {\r\n\tshowImgPreview,\r\n\tshowImgListPreview,\r\n\tbindImgPreviewViaSelector,\r\n};\r\n\r\nlet showImgPreviewFn = CONTEXT_WINDOW[COM_ID]['showImgPreview'] || showImgPreview;\r\nlet showImgListPreviewFn = CONTEXT_WINDOW[COM_ID]['showImgListPreview'] || showImgListPreview;\r\n\r\nexport {\r\n\tshowImgPreviewFn as showImgPreview,\r\n\tshowImgListPreviewFn as showImgListPreview,\r\n\tbindImgPreviewViaSelector,\r\n}\r\n","import {createDomByHtml, insertStyleSheet} from \"../Lang/Dom.js\";\r\nimport {Theme} from \"./Theme.js\";\r\n\r\nlet default_masker = null;\r\nlet CSS_CLASS = Theme.Namespace + '-masker';\r\n\r\nconst showMasker = (masker) => {\r\n\tif(!masker){\r\n\t\tinsertStyleSheet(`\r\n\t\t\t.${CSS_CLASS} {\r\n\t\t\t\tposition:fixed;\r\n\t\t\t\ttop:0;left:0;\r\n\t\t\t\tright:0;\r\n\t\t\t\tbottom:0;\r\n\t\t\t\tbackground:var(${Theme.CssVar.FULL_SCREEN_BACKGROUND_COLOR});\r\n\t\t\t\tbackdrop-filter:var(${Theme.CssVar.FULL_SCREEN_BACKDROP_FILTER});\r\n\t\t\t\tz-index:${Masker.zIndex}}\r\n\t\t\t`, Theme.Namespace + 'masker-style');\r\n\t\tmasker = createDomByHtml(`<div class=\"${CSS_CLASS}\"></div>`, document.body);\r\n\t}\r\n\tmasker.style.display = '';\r\n\treturn masker;\r\n};\r\n\r\nconst hideMasker = (masker) => {\r\n\tmasker && (masker.style.display = 'none');\r\n};\r\n\r\nconst Masker = {\r\n\tzIndex: Theme.MaskIndex,\r\n\tshow: () => {\r\n\t\tdefault_masker = showMasker(default_masker);\r\n\t},\r\n\thide: () => {\r\n\t\thideMasker(default_masker);\r\n\t},\r\n\tinstance: () => {\r\n\t\tlet new_masker;\r\n\t\treturn {\r\n\t\t\tshow: () => {\r\n\t\t\t\tnew_masker = showMasker(new_masker)\r\n\t\t\t},\r\n\t\t\thide: () => {\r\n\t\t\t\thideMasker(new_masker)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport {Masker};\r\n\r\n","import {Theme} from \"./Theme.js\";\r\nimport {createDomByHtml, getDomDimension, insertStyleSheet, remove} from \"../Lang/Dom.js\";\r\nimport {KEYBOARD_KEY_MAP} from \"../Lang/Event.js\";\r\nimport {dimension2Style} from \"../Lang/Html.js\";\r\nimport {guid} from \"../Lang/Util.js\";\r\n\r\nlet CTX_CLASS_PREFIX = Theme.Namespace + 'context-menu';\r\nlet CTX_Z_INDEX = Theme.ContextIndex;\r\nconst STYLE_STR = `\r\n\t.${CTX_CLASS_PREFIX} {z-index:${CTX_Z_INDEX}; position:fixed;}\r\n\t.${CTX_CLASS_PREFIX},\r\n\t.${CTX_CLASS_PREFIX} ul {position:absolute; padding: 0.5em 0; max-height:20em; overflow:auto; list-style:none; backdrop-filter:var(${Theme.CssVar.FULL_SCREEN_BACKDROP_FILTER}); box-shadow:var(${Theme.CssVar.PANEL_SHADOW});border-radius:var(${Theme.CssVar.PANEL_RADIUS});background:var(${Theme.CssVar.BACKGROUND_COLOR});min-width:12em; display:none;}\r\n\t.${CTX_CLASS_PREFIX} ul {left:100%; top:0;}\r\n\t.${CTX_CLASS_PREFIX} li:not([disabled]):hover>ul {display:block;}\r\n\t.${CTX_CLASS_PREFIX} li[role=menuitem] {padding:0 1em; line-height:1; position:relative; min-height:2em; display:flex; align-items:center; background: transparent;user-select:none;opacity: 0.5; cursor:default;}\r\n\t.${CTX_CLASS_PREFIX} li[role=menuitem]>* {flex:1; line-height:1}\r\n\t.${CTX_CLASS_PREFIX} li[role=menuitem]:not([disabled]) {cursor:pointer; opacity:1;}\r\n\t.${CTX_CLASS_PREFIX} li[role=menuitem]:not([disabled]):hover {background-color: #eeeeee9c;text-shadow: 1px 1px 1px white;opacity: 1;}\r\n\t.${CTX_CLASS_PREFIX} li[data-has-child]:after {content:\"\\\\e73b\"; font-family:${Theme.IconFont}; zoom:0.7; position:absolute; right:0.5em; color:var(${Theme.CssVar.DISABLE_COLOR});}\r\n\t.${CTX_CLASS_PREFIX} li[data-has-child]:not([disabled]):hover:after {color:var(${Theme.CssVar.COLOR})}\r\n\t.${CTX_CLASS_PREFIX} .sep {margin:0.25em 0.5em;border-bottom:1px solid #eee;}\r\n\t.${CTX_CLASS_PREFIX} .caption {padding-left: 1em;opacity: 0.7;user-select: none;display:flex;align-items: center;}\r\n\t.${CTX_CLASS_PREFIX} .caption:after {content:\"\";flex:1;border-bottom: 1px solid #ccc;margin: 0 0.5em;padding-top: 3px;}\r\n\t.${CTX_CLASS_PREFIX} li i {--size:1.2em; display:block; width:var(--size); height:var(--size); max-width:var(--size); margin-right:0.5em;} /** icon **/\r\n\t.${CTX_CLASS_PREFIX} li i:before {font-size:var(--size)}\r\n`;\r\n\r\n/**\r\n * 创建菜单\r\n * @param {Array} commands [{title, payload, disabled=false}, {title, [submenus], disabled], '-',...]\r\n * @param {Function|Null} onExecute 菜单执行回调函数\r\n * @return {HTMLElement}\r\n */\r\nexport const createMenu = (commands, onExecute = null) => {\r\n\tinsertStyleSheet(STYLE_STR, Theme.Namespace+'context-menu-style');\r\n\tbindGlobalEvent();\r\n\tlet html = `<ul class=\"${CTX_CLASS_PREFIX}\">`;\r\n\tlet payload_map = {};\r\n\r\n\tlet buildMenuItemHtml = (item) => {\r\n\t\tlet html = '';\r\n\t\tif(item === '-'){\r\n\t\t\thtml += '<li class=\"sep\"></li>';\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\tlet [title, cmdOrChildren, disabled] = item;\r\n\t\tlet has_child = Array.isArray(cmdOrChildren);\r\n\t\tlet mnu_item_id = guid();\r\n\t\tlet sub_menu_html = '';\r\n\t\tif(has_child){\r\n\t\t\tsub_menu_html = '<ul>';\r\n\t\t\tcmdOrChildren.forEach(subItem => {\r\n\t\t\t\tsub_menu_html += buildMenuItemHtml(subItem);\r\n\t\t\t});\r\n\t\t\tsub_menu_html += '</ul>';\r\n\t\t}else{\r\n\t\t\tpayload_map[mnu_item_id] = cmdOrChildren;\r\n\t\t}\r\n\t\thtml += `<li role=\"menuitem\" data-id=\"${mnu_item_id}\" ${has_child ? ' data-has-child ' : ''} ${disabled ? 'disabled=\"disabled\"' : 'tabindex=\"0\"'}>${title}${sub_menu_html}</li>`;\r\n\t\treturn html;\r\n\t};\r\n\r\n\tfor(let i = 0; i < commands.length; i++){\r\n\t\tlet item = commands[i];\r\n\t\thtml += buildMenuItemHtml(item);\r\n\t}\r\n\thtml += '</ul>';\r\n\tlet menu = createDomByHtml(html, document.body);\r\n\r\n\t//绑定menu命令\r\n\tlet items = menu.querySelectorAll('[role=menuitem]:not([disabled])');\r\n\titems.forEach(function(item){\r\n\t\tlet id = item.getAttribute('data-id');\r\n\t\tlet payload = payload_map[id];\r\n\t\tif(payload){\r\n\t\t\titem.addEventListener('click', () => {\r\n\t\t\t\tpayload();\r\n\t\t\t\tonExecute && onExecute(item);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t//处理子菜单弹出事件\r\n\tlet sub_menus = menu.querySelectorAll('ul');\r\n\tsub_menus.forEach(function(sub_menu){\r\n\t\tlet parent_item = sub_menu.parentNode;\r\n\t\tparent_item.addEventListener('mouseover', e => {\r\n\t\t\tlet pos = alignSubMenuByNode(sub_menu, parent_item);\r\n\t\t\tsub_menu.style.left = dimension2Style(pos.left);\r\n\t\t\tsub_menu.style.top = dimension2Style(pos.top);\r\n\t\t});\r\n\t})\r\n\treturn menu;\r\n}\r\n\r\nlet LAST_MENU;\r\nconst hideLastMenu = () => {\r\n\tremove(LAST_MENU);\r\n\tLAST_MENU = null;\r\n}\r\n\r\n/**\r\n * 绑定对象右键菜单\r\n * @param {HTMLElement} target\r\n * @param {Array} commands\r\n * @param {Object} option 更多选项\r\n */\r\nexport const bindTargetContextMenu = (target, commands, option = {}) => {\r\n\toption.triggerType = 'contextmenu';\r\n\treturn bindTargetMenu(target, commands, option);\r\n}\r\n\r\n/**\r\n * 绑定对象点击菜单\r\n * @param {HTMLElement} target\r\n * @param {Array} commands\r\n * @param {Object} option 更多选项\r\n */\r\nexport const bindTargetClickMenu = (target, commands, option = {}) => {\r\n\toption.triggerType = 'click';\r\n\treturn bindTargetMenu(target, commands, option);\r\n}\r\n\r\n/**\r\n * 在指定位置显示右键菜单\r\n * @param {Array} commands\r\n * @param {Object} position\r\n */\r\nexport const showContextMenu = (commands, position) => {\r\n\thideLastMenu();\r\n\tlet menuEl = createMenu(commands);\r\n\tLAST_MENU = menuEl;\r\n\tlet pos = calcMenuByPosition(menuEl, {left: position.left, top: position.top});\r\n\tmenuEl.style.left = dimension2Style(pos.left);\r\n\tmenuEl.style.top = dimension2Style(pos.top);\r\n\tmenuEl.style.display = 'block';\r\n}\r\n\r\n/**\r\n * 绑定菜单到指定对象上，实现点击、右键点击弹出菜单\r\n * @param {HTMLElement} target\r\n * @param {Array} commands\r\n * @param {Object} option 触发事件类型，如 click, contextmenu等。如果是contextmenu，菜单位置按照鼠标点击位置计算\r\n */\r\nexport const bindTargetMenu = (target, commands, option = null) => {\r\n\tlet triggerType = option?.triggerType || 'click';\r\n\ttriggerType = triggerType.toLowerCase();\r\n\tlet menuEl;\r\n\r\n\tconst MOUSE_OUT_DELAY = 200;\r\n\tlet out_timer = null;\r\n\tif(triggerType === 'mouseover'){\r\n\t\ttarget.addEventListener('mouseover', () => {\r\n\t\t\tout_timer && clearTimeout(out_timer)\r\n\t\t});\r\n\t\ttarget.addEventListener('mouseout', () => {\r\n\t\t\tout_timer = setTimeout(() => {\r\n\t\t\t\tmenuEl.style.display = 'none'\r\n\t\t\t}, MOUSE_OUT_DELAY);\r\n\t\t});\r\n\t}\r\n\r\n\ttarget.addEventListener(triggerType, e => {\r\n\t\thideLastMenu();\r\n\t\tmenuEl = createMenu(commands);\r\n\t\tif(triggerType === 'mouseover'){\r\n\t\t\tmenuEl.addEventListener('mouseover', () => {\r\n\t\t\t\tout_timer && clearTimeout(out_timer);\r\n\t\t\t});\r\n\t\t\tmenuEl.addEventListener('mouseout', () => {\r\n\t\t\t\tout_timer = setTimeout(() => {\r\n\t\t\t\t\tmenuEl.style.display = 'none'\r\n\t\t\t\t}, MOUSE_OUT_DELAY);\r\n\t\t\t})\r\n\t\t}\r\n\t\tLAST_MENU = menuEl;\r\n\t\tlet pos;\r\n\t\tif(triggerType === 'contextmenu'){\r\n\t\t\tpos = calcMenuByPosition(menuEl, {left: e.clientX, top: e.clientY});\r\n\t\t}else{\r\n\t\t\tpos = alignMenuByNode(menuEl, target);\r\n\t\t}\r\n\t\tmenuEl.style.left = dimension2Style(pos.left);\r\n\t\tmenuEl.style.top = dimension2Style(pos.top);\r\n\t\tmenuEl.style.display = 'block';\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\treturn false;\r\n\t})\r\n}\r\n\r\n/**\r\n * 菜单关联一个坐标方式摆放，菜单摆放方式主要是光标下方或上方。\r\n * @param {HTMLElement} menuEl\r\n * @param {Object} point\r\n * @returns {{top: number, left: number}}\r\n **/\r\nconst calcMenuByPosition = (menuEl, point) => {\r\n\tlet menu_dim = getDomDimension(menuEl);\r\n\tlet con_dim = {width: window.innerWidth, height: window.innerHeight};\r\n\tlet top, left = point.left;\r\n\r\n\tlet right_available = menu_dim.width + point.left <= con_dim.width;\r\n\tlet bottom_available = menu_dim.height + point.top <= con_dim.height;\r\n\tlet top_available = point.top - menu_dim.height > 0;\r\n\r\n\tif(right_available && bottom_available){\r\n\t\tleft = point.left;\r\n\t\ttop = point.top;\r\n\t}else if(right_available && !bottom_available){\r\n\t\tleft = point.left;\r\n\t\ttop = Math.max(con_dim.height - menu_dim.height, 0);\r\n\t}else if(!right_available && bottom_available){\r\n\t\tleft = Math.max(con_dim.width - menu_dim.width, 0);\r\n\t\ttop = point.top;\r\n\t}else if(!right_available && !bottom_available){\r\n\t\t//上方摆得下\r\n\t\tif(top_available){\r\n\t\t\tleft = Math.max(con_dim.width - menu_dim.width, 0);\r\n\t\t\ttop = point.top - menu_dim.height;\r\n\t\t}else{\r\n\t\t\tleft = Math.max(con_dim.width - menu_dim.width, 0);\r\n\t\t\ttop = point.top;\r\n\t\t}\r\n\t}\r\n\treturn {top, left};\r\n}\r\n\r\n/**\r\n * 菜单关联一个节点方式摆放，按照1、2、3、4种情况依次优先考虑\r\n * 摆放方式 1：\r\n * [-按钮-]\r\n * [ -- 菜单 -- ]\r\n * 摆放方式 2：\r\n *       [-按钮-]\r\n * [ -- 菜单 -- ]\r\n * 摆放方式 3：\r\n * [ -- 菜单 -- ]\r\n * [-按钮-]\r\n * 摆放方式 4：\r\n * [ -- 菜单 -- ]\r\n *       [-按钮-]\r\n * @param {HTMLElement} menuEl\r\n * @param {HTMLElement} relateNode\r\n * @returns {{top: number, left: number}}\r\n */\r\nconst alignMenuByNode = (menuEl, relateNode) => {\r\n\tlet top, left;\r\n\tlet menu_dim = getDomDimension(menuEl);\r\n\tlet relate_node_offset = relateNode.getBoundingClientRect();\r\n\tlet con_dim = {width: window.innerWidth, height: window.innerHeight};\r\n\r\n\t//上面放得下，且下面放不下情况，才放上面\r\n\tif((con_dim.height - relate_node_offset.top) > menu_dim.height && (con_dim.height - relate_node_offset.top - relate_node_offset.height) < menu_dim.height){\r\n\t\ttop = relate_node_offset.top - menu_dim.height;\r\n\t}else{\r\n\t\ttop = relate_node_offset.top + relate_node_offset.height;\r\n\t}\r\n\r\n\t//左边放得下，且右边放不下情况，才放左边\r\n\tif((relate_node_offset.left + relate_node_offset.width) > menu_dim.width && (con_dim.width - relate_node_offset.left) < menu_dim.width){\r\n\t\tleft = relate_node_offset.left + relate_node_offset.width - menu_dim.width;\r\n\t}else{\r\n\t\tleft = relate_node_offset.left;\r\n\t}\r\n\treturn {top, left};\r\n}\r\n\r\n/**\r\n *\r\n * 子菜单摆放方式计算（子菜单特点：只摆在菜单项两侧）\r\n * 子菜单父级为 relative，子菜单为 absolute\r\n * 摆放方式 1：\r\n * [-按钮-][ -- 菜单 -- ]\r\n *        [ -- 菜单 -- ]\r\n *\r\n * 摆放方式 2：\r\n *        [ -- 菜单 -- ]\r\n * [-按钮-][ -- 菜单 -- ]\r\n *        [ -- 菜单 -- ]\r\n *\r\n * 摆放方式 3：\r\n * [ -- 菜单 -- ][-按钮-]\r\n * [ -- 菜单 -- ]\r\n * [ -- 菜单 -- ]\r\n * 摆放方式 4：\r\n * [ -- 菜单 -- ]\r\n * [ -- 菜单 -- ][-按钮-]\r\n * [ -- 菜单 -- ]\r\n * @param subMenuEl\r\n * @param triggerMenuItem\r\n * @returns {{top: number, left: number}}\r\n */\r\nconst alignSubMenuByNode = (subMenuEl, triggerMenuItem) => {\r\n\tlet menu_dim = getDomDimension(subMenuEl);\r\n\tlet relate_node_offset = triggerMenuItem.getBoundingClientRect();\r\n\tlet con_dim = {width: window.innerWidth, height: window.innerHeight};\r\n\r\n\t//由于上级菜单采用absolute布局，子菜单仅需根据上级菜单做相对定位\r\n\tlet top;\r\n\tlet left;\r\n\r\n\t//下面放不下，且上面还有空间，否则还是放下面\r\n\tif((relate_node_offset.top + menu_dim.height > con_dim.height) && con_dim.height >= menu_dim.height){\r\n\t\ttop = con_dim.height - (relate_node_offset.top + menu_dim.height);\r\n\t}else{\r\n\t\ttop = 0;\r\n\t}\r\n\r\n\t//右边放不下，且左边有空间\r\n\r\n\t//左边放得下，且右边放不下情况，才放左边\r\n\tif(relate_node_offset.left > menu_dim.width && (relate_node_offset.left + relate_node_offset.width + menu_dim.width > con_dim.width)){\r\n\t\tleft = 0 - menu_dim.width;\r\n\t}else{\r\n\t\tleft = relate_node_offset.width;\r\n\t}\r\n\treturn {top, left};\r\n}\r\n\r\nlet _global_event_bind_ = false;\r\nconst bindGlobalEvent = () => {\r\n\tif(_global_event_bind_){\r\n\t\treturn;\r\n\t}\r\n\t_global_event_bind_ = true;\r\n\r\n\tdocument.addEventListener('click', e => {\r\n\t\thideLastMenu();\r\n\t});\r\n\tdocument.addEventListener('keyup', e => {\r\n\t\tif(e.key === KEYBOARD_KEY_MAP.Escape){\r\n\t\t\thideLastMenu();\r\n\t\t}\r\n\t});\r\n}","import {\r\n\tcreateDomByHtml,\r\n\tdomContained,\r\n\tgetDomOffset,\r\n\tgetRegion,\r\n\thide,\r\n\tinsertStyleSheet,\r\n\trectInLayout,\r\n\tremove,\r\n\tshow\r\n} from \"../Lang/Dom.js\";\r\nimport {guid} from \"../Lang/Util.js\";\r\nimport {BizEvent, KEYBOARD_KEY_MAP} from \"../Lang/Event.js\";\r\nimport {Theme} from \"./Theme.js\";\r\nimport {dimension2Style} from \"../Lang/Html.js\";\r\n\r\nconst GUID_BIND_KEY = Theme.Namespace+'-tip-guid';\r\nconst NS = Theme.Namespace + 'tip';\r\nconst DEFAULT_DIR = 11;\r\nconst TRY_DIR_MAP = [11, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\nlet TIP_COLLECTION = {};\r\n\r\nconst STYLE_STR = `\r\n\t.${NS}-container-wrap {position:absolute; filter:drop-shadow(var(${Theme.CssVar.PANEL_SHADOW})); --tip-arrow-size:10px; --tip-gap:calc(var(--tip-arrow-size) * 0.7071067811865476); --tip-mgr:calc(var(--tip-gap) - var(--tip-arrow-size) / 2); color:var(${Theme.CssVar.COLOR}); z-index:${Theme.TipIndex};}\r\n\t.${NS}-arrow {display:block; background-color:var(${Theme.CssVar.BACKGROUND_COLOR}); clip-path:polygon(0% 0%, 100% 100%, 0% 100%); width:var(--tip-arrow-size); height:var(--tip-arrow-size); position:absolute; z-index:1}\r\n\t.${NS}-close {display:block; overflow:hidden; width:15px; height:20px; position:absolute; right:7px; top:10px; text-align:center; cursor:pointer; font-size:13px; opacity:.5}\r\n\t.${NS}-close:hover {opacity:1}\r\n\t.${NS}-content {border-radius:var(${Theme.CssVar.PANEL_RADIUS}); background-color:var(${Theme.CssVar.BACKGROUND_COLOR}); padding:1em;  max-width:30em; word-break:break-all}\r\n\t\r\n\t/** top **/\r\n\t.${NS}-container-wrap[data-tip-dir=\"11\"],\r\n\t.${NS}-container-wrap[data-tip-dir=\"0\"],\r\n\t.${NS}-container-wrap[data-tip-dir=\"1\"]{padding-top:var(--tip-gap)}\r\n\t.${NS}-container-wrap[data-tip-dir=\"11\"] .${NS}-arrow,\r\n\t.${NS}-container-wrap[data-tip-dir=\"0\"] .${NS}-arrow,\r\n\t.${NS}-container-wrap[data-tip-dir=\"1\"] .${NS}-arrow{top:var(--tip-mgr); transform:rotate(135deg);}\r\n\t.${NS}-container-wrap[data-tip-dir=\"11\"] .${NS}-arrow{left:calc(25% - var(--tip-gap));}\r\n\t.${NS}-container-wrap[data-tip-dir=\"0\"] .${NS}-arrow{left:calc(50% - var(--tip-gap));background:orange;}\r\n\t.${NS}-container-wrap[data-tip-dir=\"1\"] .${NS}-arrow{left:calc(75% - var(--tip-gap));}\r\n\t\r\n\t/** left **/\r\n\t.${NS}-container-wrap[data-tip-dir=\"8\"],\r\n\t.${NS}-container-wrap[data-tip-dir=\"9\"],\r\n\t.${NS}-container-wrap[data-tip-dir=\"10\"]{padding-left:var(--tip-gap)}\r\n\t.${NS}-container-wrap[data-tip-dir=\"8\"] .${NS}-close,\r\n\t.${NS}-container-wrap[data-tip-dir=\"9\"] .${NS}-close,\r\n\t.${NS}-container-wrap[data-tip-dir=\"10\"] .${NS}-close{top:3px;}\r\n\t.${NS}-container-wrap[data-tip-dir=\"8\"] .${NS}-arrow,\r\n\t.${NS}-container-wrap[data-tip-dir=\"9\"] .${NS}-arrow,\r\n\t.${NS}-container-wrap[data-tip-dir=\"10\"] .${NS}-arrow{left:var(--tip-mgr); transform:rotate(45deg);}\r\n\t.${NS}-container-wrap[data-tip-dir=\"8\"] .${NS}-arrow{top:calc(75% - var(--tip-gap));}\r\n\t.${NS}-container-wrap[data-tip-dir=\"9\"] .${NS}-arrow{top:calc(50% - var(--tip-gap));}\r\n\t.${NS}-container-wrap[data-tip-dir=\"10\"] .${NS}-arrow{top:calc(25% - var(--tip-gap));}\r\n\t\r\n\t/** bottom **/\r\n\t.${NS}-container-wrap[data-tip-dir=\"5\"],\r\n\t.${NS}-container-wrap[data-tip-dir=\"6\"],\r\n\t.${NS}-container-wrap[data-tip-dir=\"7\"]{padding-bottom:var(--tip-gap)}\r\n\t.${NS}-container-wrap[data-tip-dir=\"5\"] .${NS}-close,\r\n\t.${NS}-container-wrap[data-tip-dir=\"6\"] .${NS}-close,\r\n\t.${NS}-container-wrap[data-tip-dir=\"7\"] .${NS}-close{top:3px;}\r\n\t.${NS}-container-wrap[data-tip-dir=\"5\"] .${NS}-arrow,\r\n\t.${NS}-container-wrap[data-tip-dir=\"6\"] .${NS}-arrow,\r\n\t.${NS}-container-wrap[data-tip-dir=\"7\"] .${NS}-arrow{bottom:var(--tip-mgr); transform:rotate(-45deg);}\r\n\t.${NS}-container-wrap[data-tip-dir=\"5\"] .${NS}-arrow{right: calc(25% - var(--tip-gap));}\r\n\t.${NS}-container-wrap[data-tip-dir=\"6\"] .${NS}-arrow{right: calc(50% - var(--tip-gap));}\r\n\t.${NS}-container-wrap[data-tip-dir=\"7\"] .${NS}-arrow{right: calc(75% - var(--tip-gap));}\r\n\t\r\n\t/** right **/\r\n\t.${NS}-container-wrap[data-tip-dir=\"2\"],\r\n\t.${NS}-container-wrap[data-tip-dir=\"3\"],\r\n\t.${NS}-container-wrap[data-tip-dir=\"4\"]{padding-right:var(--tip-gap)}\r\n\t.${NS}-container-wrap[data-tip-dir=\"2\"] .${NS}-close,\r\n\t.${NS}-container-wrap[data-tip-dir=\"3\"] .${NS}-close,\r\n\t.${NS}-container-wrap[data-tip-dir=\"4\"] .${NS}-close{right:13px;top:3px;}\r\n\t.${NS}-container-wrap[data-tip-dir=\"2\"] .${NS}-arrow,\r\n\t.${NS}-container-wrap[data-tip-dir=\"3\"] .${NS}-arrow,\r\n\t.${NS}-container-wrap[data-tip-dir=\"4\"] .${NS}-arrow{right:var(--tip-mgr);transform: rotate(-135deg);}\r\n\t.${NS}-container-wrap[data-tip-dir=\"2\"] .${NS}-arrow{top:calc(25% - var(--tip-gap))}\r\n\t.${NS}-container-wrap[data-tip-dir=\"3\"] .${NS}-arrow{top:calc(50% - var(--tip-gap));}\r\n\t.${NS}-container-wrap[data-tip-dir=\"4\"] .${NS}-arrow{top:calc(75% - var(--tip-gap))}\r\n`;\r\n\r\n/**\r\n * 绑定事件\r\n * @param {Tip} tip\r\n */\r\nlet bindEvent = (tip)=>{\r\n\tif(tip.option.showCloseButton){\r\n\t\tlet close_btn = tip.dom.querySelector(`.${NS}-close`);\r\n\t\tclose_btn.addEventListener('click', () => {tip.hide();}, false);\r\n\t\tdocument.addEventListener('keyup', (e) => {\r\n\t\t\tif(e.key === KEYBOARD_KEY_MAP.Escape){\r\n\t\t\t\ttip.hide();\r\n\t\t\t}\r\n\t\t}, false);\r\n\t}\r\n};\r\n\r\n/**\r\n * 自动计算方位\r\n * @param {Tip} tipObj\r\n * @returns {number}\r\n */\r\nlet calDir = (tipObj)=>{\r\n\tlet tipWidth = tipObj.dom.offsetWidth;\r\n\tlet tipHeight = tipObj.dom.offsetHeight;\r\n\tlet relateNodeHeight = tipObj.relateNode.offsetHeight;\r\n\tlet relateNodeWidth = tipObj.relateNode.offsetWidth;\r\n\tlet relateNodeOffset = getDomOffset(tipObj.relateNode);\r\n\r\n\tlet viewRegion = getRegion();\r\n\r\n\tfor(let i = 0; i < TRY_DIR_MAP.length; i++){\r\n\t\tlet [offsetLeft, offsetTop] = calcTipPositionByDir(TRY_DIR_MAP[i], tipWidth, tipHeight, relateNodeHeight, relateNodeWidth);\r\n\t\tlet rect = {\r\n\t\t\tleft: relateNodeOffset.left + offsetLeft,\r\n\t\t\ttop: relateNodeOffset.top + offsetTop,\r\n\t\t\twidth: tipWidth,\r\n\t\t\theight: tipHeight\r\n\t\t};\r\n\t\tlet layout_rect = {\r\n\t\t\tleft: document.body.scrollLeft,\r\n\t\t\ttop: document.body.scrollTop,\r\n\t\t\twidth: viewRegion.visibleWidth,\r\n\t\t\theight: viewRegion.visibleHeight\r\n\t\t};\r\n\t\tif(rectInLayout(rect, layout_rect)){\r\n\t\t\treturn TRY_DIR_MAP[i];\r\n\t\t}\r\n\t}\r\n\treturn DEFAULT_DIR;\r\n};\r\n\r\n/**\r\n * 根据给定方位，计算出 tip 面板相对于关联节点的左上角的偏移信息\r\n * @param {Number} dir\r\n * @param {Number} tipWidth\r\n * @param {Number} tipHeight\r\n * @param {Number} relateNodeHeight\r\n * @param {Number} relateNodeWidth\r\n * @returns {[Number, Number]} offsetLeft offsetTop\r\n */\r\nlet calcTipPositionByDir = function(dir, tipWidth, tipHeight, relateNodeHeight, relateNodeWidth){\r\n\tlet offset = {\r\n\t\t11: [-tipWidth * 0.25 + relateNodeWidth / 2, relateNodeHeight],\r\n\t\t0: [-tipWidth * 0.5 + relateNodeWidth / 2, relateNodeHeight],\r\n\t\t1: [-tipWidth * 0.75 + relateNodeWidth / 2, relateNodeHeight],\r\n\t\t2: [-tipWidth, -tipHeight * 0.25 + relateNodeHeight / 2],\r\n\t\t3: [-tipWidth, -tipHeight * 0.5 + relateNodeHeight / 2],\r\n\t\t4: [-tipWidth, -tipHeight * 0.75 + relateNodeHeight / 2],\r\n\t\t5: [-tipWidth * 0.75 + relateNodeWidth / 2, -tipHeight],\r\n\t\t6: [-tipWidth * 0.5 + relateNodeWidth / 2, -tipHeight],\r\n\t\t7: [-tipWidth * 0.25 + relateNodeWidth / 2, -tipHeight],\r\n\t\t8: [relateNodeWidth, -tipHeight * 0.75 + relateNodeHeight / 2],\r\n\t\t9: [relateNodeWidth, -tipHeight * 0.5 + relateNodeHeight / 2],\r\n\t\t10: [relateNodeWidth, -tipHeight * 0.25 + relateNodeHeight / 2]\r\n\t};\r\n\treturn offset[dir];\r\n};\r\n\r\n/**\r\n * @param {Tip} tipObj\r\n * 更新位置信息\r\n */\r\nconst updatePosition = (tipObj)=>{\r\n\tlet direction = tipObj.option.direction;\r\n\tlet tipWidth = tipObj.dom.offsetWidth;\r\n\tlet tipHeight = tipObj.dom.offsetHeight;\r\n\tlet relateNodePos = getDomOffset(tipObj.relateNode);\r\n\tlet rh = tipObj.relateNode.offsetHeight;\r\n\tlet rw = tipObj.relateNode.offsetWidth;\r\n\tif(direction === 'auto'){\r\n\t\tdirection = calDir(tipObj);\r\n\t}\r\n\ttipObj.dom.setAttribute('data-tip-dir',direction);\r\n\tlet [offsetLeft, offsetTop] = calcTipPositionByDir(direction, tipWidth, tipHeight, rh, rw);\r\n\ttipObj.dom.style.left = dimension2Style(relateNodePos.left + offsetLeft);\r\n\ttipObj.dom.style.top = dimension2Style(relateNodePos.top + offsetTop);\r\n};\r\n\r\nexport class Tip {\r\n\tid = null;\r\n\trelateNode = null;\r\n\r\n\t/** @var {HTMLElement} dom **/\r\n\tdom = null;\r\n\toption = {\r\n\t\tshowCloseButton: true,\r\n\t\twidth: 'auto',\r\n\t\tdirection: 'auto',\r\n\t};\r\n\r\n\tonShow = new BizEvent(true);\r\n\tonHide = new BizEvent(true);\r\n\tonDestroy = new BizEvent(true);\r\n\r\n\tconstructor(content, relateNode, opt = {}){\r\n\t\tinsertStyleSheet(STYLE_STR, Theme.Namespace + 'tip-style');\r\n\t\tthis.id = guid();\r\n\t\tthis.relateNode = relateNode;\r\n\t\tthis.option = Object.assign(this.option, opt);\r\n\t\tthis.dom = createDomByHtml(\r\n\t\t\t`<div class=\"${NS}-container-wrap\" style=\"display:none; ${this.option.width ? 'width:'+dimension2Style(this.option.width) : ''}\">\r\n\t\t\t\t<s class=\"${NS}-arrow\"></s>\r\n\t\t\t\t${this.option.showCloseButton ? `<span class=\"${NS}-close\">&#10005;</span>` : ''}\r\n\t\t\t\t<div class=\"${NS}-content\">${content}</div>\r\n\t\t\t</div>`);\r\n\t\tbindEvent(this);\r\n\t\tTIP_COLLECTION[this.id] = this;\r\n\t}\r\n\r\n\t/**\r\n\t * 设置提示内容\r\n\t * @param {String} html\r\n\t */\r\n\tsetContent(html){\r\n\t\tthis.dom.querySelector(`.${NS}-content`).innerHTML = html;\r\n\t\tupdatePosition(this);\r\n\t}\r\n\r\n\t/**\r\n\t * 去重判断，避免onShow时间多次触发\r\n\t */\r\n\tshow(){\r\n\t\tif(!document.contains(this.dom)){\r\n\t\t\tdocument.body.appendChild(this.dom);\r\n\t\t}\r\n\t\tshow(this.dom);\r\n\t\tupdatePosition(this);\r\n\t\tthis.onShow.fire(this);\r\n\t}\r\n\r\n\thide(){\r\n\t\thide(this.dom);\r\n\t\tthis.onHide.fire(this);\r\n\t}\r\n\r\n\tdestroy(){\r\n\t\tremove(this.dom);\r\n\t\tthis.onDestroy.fire();\r\n\t\tfor(let i in TIP_COLLECTION){\r\n\t\t\tif(TIP_COLLECTION[i] === this){\r\n\t\t\t\tdelete(TIP_COLLECTION[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 快速显示Tip\r\n\t * @param {String} content\r\n\t * @param {HTMLElement} relateNode\r\n\t * @param option\r\n\t * @returns {Tip}\r\n\t */\r\n\tstatic show(content, relateNode, option = {}){\r\n\t\tlet tip = new Tip(content, relateNode, option);\r\n\t\ttip.show();\r\n\t\treturn tip;\r\n\t}\r\n\r\n\t/**\r\n\t * 隐藏所有Tip\r\n\t */\r\n\tstatic hideAll(){\r\n\t\tfor(let i in TIP_COLLECTION){\r\n\t\t\tTIP_COLLECTION[i].hide();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 绑定节点\r\n\t * @param {String} content\r\n\t * @param {HTMLElement} relateNode\r\n\t * @param {Object} option\r\n\t * @return {Tip}\r\n\t */\r\n\tstatic bindNode(content, relateNode, option = {triggerType:'hover'}){\r\n\t\tlet guid = relateNode.getAttribute(GUID_BIND_KEY);\r\n\t\tlet tipObj = TIP_COLLECTION[guid];\r\n\t\tif(!tipObj){\r\n\t\t\ttipObj = new Tip(content, relateNode, option);\r\n\t\t\trelateNode.setAttribute(GUID_BIND_KEY, tipObj.id);\r\n\r\n\t\t\tlet tm = null;\r\n\t\t\tlet hide = ()=>{\r\n\t\t\t\ttm && clearTimeout(tm);\r\n\t\t\t\ttm = setTimeout(()=>{\r\n\t\t\t\t\ttipObj.hide();\r\n\t\t\t\t}, 10);\r\n\t\t\t};\r\n\t\t\tlet show = ()=>{\r\n\t\t\t\ttm && clearTimeout(tm);\r\n\t\t\t\ttipObj.show();\r\n\t\t\t}\r\n\t\t\tswitch(option.triggerType){\r\n\t\t\t\tcase 'hover':\r\n\t\t\t\t\trelateNode.addEventListener('mouseover', show);\r\n\t\t\t\t\trelateNode.addEventListener('mouseout', hide);\r\n\t\t\t\t\ttipObj.dom.addEventListener('mouseout', hide);\r\n\t\t\t\t\ttipObj.dom.addEventListener('mouseover', show);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'click':\r\n\t\t\t\t\trelateNode.addEventListener('click', ()=>{\r\n\t\t\t\t\t\tlet isShow = tipObj.dom.style.display !== 'none';\r\n\t\t\t\t\t\t!isShow ? show() : hide();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdocument.addEventListener('click', e=>{\r\n\t\t\t\t\t\tif(!domContained(relateNode, e.target, true) && !domContained(tipObj.dom, e.target, true)){\r\n\t\t\t\t\t\t\thide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow \"option.triggerType no supported:\" + option.triggerType;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn tipObj;\r\n\t}\r\n\r\n\t/**\r\n\t * 通过异步获取数据方式绑定显示Tip\r\n\t * @param {HTMLElement} relateNode\r\n\t * @param {Function} dataFetcher Promise 对象，resolve返回 html 字符串\r\n\t * @param {Object} option\r\n\t */\r\n\tstatic bindAsync(relateNode, dataFetcher, option = {}){\r\n\t\tlet guid = relateNode.getAttribute(`data-${GUID_BIND_KEY}`);\r\n\t\tlet tipObj = TIP_COLLECTION[guid];\r\n\t\tif(!tipObj){\r\n\t\t\tlet loading = false;\r\n\t\t\ttipObj = Tip.bindNode('loading...', relateNode, option);\r\n\t\t\ttipObj.onShow.listen(() => {\r\n\t\t\t\tif(loading){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tloading = true;\r\n\t\t\t\tdataFetcher().then(rspHtml => {\r\n\t\t\t\t\ttipObj.setContent(rspHtml);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\ttipObj.setContent(error);\r\n\t\t\t\t}).finally(()=>{\r\n\t\t\t\t\tloading = false;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}","import {Theme} from \"./Theme.js\";\r\nimport {createDomByHtml, getDomOffset, hide, insertStyleSheet, show} from \"../Lang/Dom.js\";\r\nimport {Tip} from \"./Tip.js\";\r\nimport {dimension2Style} from \"../Lang/Html.js\";\r\n\r\nconst COM_ID = Theme.Namespace + 'novice-guide';\r\nconst CLASS_PREFIX = COM_ID;\r\nconst PADDING_SIZE = '5px';\r\n\r\nconst STYLE_STR = `\r\n\t.${CLASS_PREFIX}-highlight {\r\n\t\tposition:absolute; \r\n\t\tz-index:10000;\r\n\t\t--novice-guide-highlight-padding:${PADDING_SIZE}; \r\n\t\tbox-shadow:0 0 10px 2000px #00000057; \r\n\t\tborder-radius:var(${Theme.CssVar.PANEL_RADIUS}); \r\n\t\tpadding:var(--novice-guide-highlight-padding); \r\n\t\tmargin:calc(var(--novice-guide-highlight-padding) * -1) 0 0 calc(var(--novice-guide-highlight-padding) * -1); \r\n\t}\r\n\t.${CLASS_PREFIX}-btn {user-select:none; cursor:pointer;}\r\n\t.${CLASS_PREFIX}-masker {width:100%; height:100%; position:absolute; left:0; top:0; z-index:10000}\r\n\t.${CLASS_PREFIX}-counter {float:left; color:${Theme.CssVar.COLOR}; opacity:0.7} \r\n\t.${CLASS_PREFIX}-next-wrap {text-align:right; margin-top:10px;}\r\n`;\r\n\r\nlet highlightHelperEl, //开窗效果\r\n\tmaskerEl; //阻隔层，防止点击到下部页面\r\nconst show_highlight_zone = (highlightNode) => {\r\n\thide_highlight_zone();\r\n\tif(!highlightHelperEl){\r\n\t\thighlightHelperEl = createDomByHtml(`<div class=\"${CLASS_PREFIX}-highlight\"></div>`, document.body);\r\n\t\tmaskerEl = createDomByHtml(`<div class=\"${CLASS_PREFIX}-masker\"></div>`, document.body)\r\n\t}\r\n\tshow(maskerEl);\r\n\tshow(highlightHelperEl);\r\n\tif(highlightNode){\r\n\t\tlet hlnOffset = getDomOffset(highlightNode);\r\n\t\thighlightHelperEl.style.left = dimension2Style(hlnOffset.left);\r\n\t\thighlightHelperEl.style.top = dimension2Style(hlnOffset.top);\r\n\t\thighlightHelperEl.style.width = dimension2Style(highlightNode.offsetWidth);\r\n\t\thighlightHelperEl.style.height = dimension2Style(highlightNode.offsetHeight);\r\n\t\treturn;\r\n\t}\r\n\thighlightHelperEl.style.left = dimension2Style(document.body.offsetWidth/2);\r\n\thighlightHelperEl.style.top = dimension2Style(300);\r\n\thighlightHelperEl.style.width = dimension2Style(1);\r\n\thighlightHelperEl.style.height = dimension2Style(1);\r\n\treturn highlightHelperEl;\r\n};\r\n\r\nconst hide_highlight_zone = () => {\r\n\tmaskerEl && hide(maskerEl);\r\n\thighlightHelperEl && hide(highlightHelperEl);\r\n};\r\n\r\n/**\r\n * @param {Object[]} steps 步骤内容\r\n * @param {String} steps.content 步骤内容\r\n * @param {HTMLElement} steps.relateNode 步骤内容\r\n * @param config\r\n */\r\nconst showNoviceGuide = (steps, config = {}) => {\r\n\tconfig = Object.assign({\r\n\t\tnext_button_text: '下一步',\r\n\t\tprev_button_text: '上一步',\r\n\t\tfinish_button_text: '完成',\r\n\t\ttop_close: false,  //是否显示顶部关闭按钮\r\n\t\tcover_included: false, //提供的步骤里面是否包含封面步骤\r\n\t\tshow_counter: false, //是否显示计数器\r\n\t\ton_finish: function(){\r\n\t\t} //完成显示后的回调(包含顶部关闭操作)\r\n\t}, config);\r\n\tinsertStyleSheet(STYLE_STR, COM_ID+'-style');\r\n\tlet step_size = steps.length;\r\n\tlet show_one = function(){\r\n\t\tif(!steps.length){\r\n\t\t\thide_highlight_zone();\r\n\t\t\tconfig.on_finish();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet step = steps[0];\r\n\t\tsteps.shift();\r\n\r\n\t\tlet showing_cover = config.cover_included && step_size === (steps.length + 1);\r\n\t\tlet highlightHelperEl;\r\n\r\n\t\t//masker\r\n\t\tif(showing_cover){\r\n\t\t\thighlightHelperEl = show_highlight_zone(null, {\r\n\t\t\t\tleft: document.body.offsetWidth / 2,\r\n\t\t\t\ttop: 300,\r\n\t\t\t\twidth: 1,\r\n\t\t\t\theight: 1\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\thighlightHelperEl = show_highlight_zone(step.relateNode);\r\n\t\t}\r\n\r\n\t\tlet next_html = `<div class=\"${CLASS_PREFIX}-next-wrap\">`;\r\n\r\n\t\tif((steps.length + 2) <= step_size.length){\r\n\t\t\tnext_html += `<span class=\"${CLASS_PREFIX}-btn ${CLASS_PREFIX}-prev-btn \">${config.prev_button_text}</span> `;\r\n\t\t}\r\n\t\tif(steps.length && config.next_button_text){\r\n\t\t\tnext_html += `<span class=\"${CLASS_PREFIX}-btn ${CLASS_PREFIX}-next-btn\">${config.next_button_text}</span>`;\r\n\t\t}\r\n\t\tif(!steps.length && config.finish_button_text){\r\n\t\t\tnext_html += `<span class=\"${CLASS_PREFIX}-btn ${CLASS_PREFIX}-finish-btn\">${config.finish_button_text}</span>`;\r\n\t\t}\r\n\t\tif(config.show_counter){\r\n\t\t\tnext_html += `<span class=\"${CLASS_PREFIX}-counter\">${step_size.length - steps.length}/${step_size.length}</span>`;\r\n\t\t}\r\n\t\tnext_html += `</div>`;\r\n\r\n\t\tlet tp = new Tip(`<div class=\"${CLASS_PREFIX}-content\">${step.content}</div>${next_html}`, showing_cover ? highlightHelperEl : step.relateNode, {\r\n\t\t\tshowCloseButton: config.top_close,\r\n\t\t\tdir: showing_cover ? 6 : 'auto'\r\n\t\t});\r\n\t\ttp.onHide.listen(function(){\r\n\t\t\ttp.destroy();\r\n\t\t\thide_highlight_zone();\r\n\t\t\tconfig.on_finish();\r\n\t\t});\r\n\t\ttp.onShow.listen(function(){\r\n\t\t\ttp.dom.style.zIndex = \"10001\";\r\n\t\t\ttp.dom.querySelector(`.${CLASS_PREFIX}-next-btn,.${CLASS_PREFIX}-finish-btn`).addEventListener('click', function(){\r\n\t\t\t\ttp.destroy();\r\n\t\t\t\tshow_one();\r\n\t\t\t});\r\n\t\t\tlet prevBtn = tp.dom.querySelector(`.${CLASS_PREFIX}-prev-btn`);\r\n\t\t\tif(prevBtn){\r\n\t\t\t\tprevBtn.addEventListener('click', function(){\r\n\t\t\t\t\ttp.destroy();\r\n\t\t\t\t\tlet len = steps.length;\r\n\t\t\t\t\tsteps.unshift(step_size[step_size.length - len - 1]);\r\n\t\t\t\t\tsteps.unshift(step_size[step_size.length - len - 2]);\r\n\t\t\t\t\tshow_one();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\ttp.show();\r\n\t};\r\n\tshow_one();\r\n}\r\nexport {showNoviceGuide};","import {createDomByHtml} from \"../Lang/Dom.js\";\r\nimport {eventDelegate} from \"../Lang/Event.js\";\r\n\r\n/**\r\n * 渲染分页器\r\n * @param {Object} paginate\r\n * @param {Number} paginate.item_total\r\n * @param {Number} paginate.page_size\r\n * @param {Number} paginate.page\r\n * @param {Function} onChange\r\n * @return {ChildNode | NodeListOf<ChildNode>}\r\n */\r\nexport const renderPaginate = (paginate, onChange) => {\r\n\tconst NUM_OFFSET = 4;\r\n\r\n\tlet item_total = paginate.item_total;\r\n\tlet page_size = paginate.page_size;\r\n\tlet page = paginate.page;\r\n\tlet page_total = Math.ceil(item_total / page_size);\r\n\r\n\tconst PAGINATE_DOM = createDomByHtml(`<div class=\"paginate paginate-total-${page_total}\"></div>`);\r\n\tconst render = (page) => {\r\n\t\tlet html = ``, i;\r\n\t\tif(page > 1){\r\n\t\t\thtml += `<span class=\"paginate-prev link\" title=\"上一页\" data-page=\"${page - 1}\"></span>`;\r\n\t\t}else{\r\n\t\t\thtml += `<span class=\"paginate-prev\" title=\"上一页\"></span>`;\r\n\t\t}\r\n\r\n\t\t//前置部分\r\n\t\tif(page - NUM_OFFSET > 1){\r\n\t\t\thtml += `<span class=\"paginate-dot\"></span>`;\r\n\t\t}\r\n\t\tfor(i = Math.min(NUM_OFFSET, page - 1); i > 0; i--){\r\n\t\t\thtml += `<span class=\"paginate-num link\" title=\"第${page - i}页\" data-page=\"${page - i}\">${page - i}</span>`;\r\n\t\t}\r\n\t\thtml += `<span class=\"paginate-num paginate-current\">${page}</span>`;\r\n\r\n\t\t//后置部分\r\n\t\tfor(i = page + 1; i <= Math.min(page_total, page + NUM_OFFSET); i++){\r\n\t\t\thtml += `<span class=\"paginate-num link\" title=\"第${i}页\" data-page=\"${i}\">${i}</span>`;\r\n\t\t}\r\n\t\tif(page + NUM_OFFSET < page_total){\r\n\t\t\thtml += `<span class=\"paginate-dot\"></span>`;\r\n\t\t}\r\n\r\n\t\tif(page < page_total){\r\n\t\t\thtml += `<span class=\"paginate-next link\" title=\"下一页\" data-page=\"${page + 1}\"></span>`;\r\n\t\t}else{\r\n\t\t\thtml += `<span class=\"paginate-next\"></span>`;\r\n\t\t}\r\n\r\n\t\thtml += `<span class=\"paginate-total-info\">共 ${page_total} 页</span>`;\r\n\t\thtml += `<span class=\"paginate-size-changer\">每页 ${page_size} 条</span>`;\r\n\t\tPAGINATE_DOM.innerHTML = html;\r\n\t}\r\n\teventDelegate(PAGINATE_DOM, '[data-page]', 'click', e => {\r\n\t\trender(parseInt(e.target.dataset.page));\r\n\t\tonChange(parseInt(e.target.dataset.page));\r\n\t});\r\n\trender(page);\r\n\treturn PAGINATE_DOM;\r\n}\r\n","import {BizEvent} from \"../Lang/Event.js\";\r\n\r\n/**\r\n * 并发控制器\r\n * @example 使用方法：\r\n * let pm = new ParallelPromise({\r\n *     parallelLimit: 10, //并发数量\r\n *     timeout: 120, //设置超时时间\r\n * });\r\n * pm.onFinish.listen(()=>{});\r\n * pm.addTask((resolve, reject)=>{\r\n *     //doSomething\r\n *     resolve(); //mark done\r\n * });\r\n * pm.start();\r\n */\r\nexport class ParallelPromise {\r\n\toption = {\r\n\t\tparallelLimit: 5,\r\n\t\ttimeout: 60000,\r\n\t\tcontinueOnError: true,\r\n\t}\r\n\r\n\tstopFlag = false;\r\n\trunning = 0;\r\n\ttaskStack = [];\r\n\r\n\t//完成事件，fire(successResults, failResults)\r\n\tonFinish = new BizEvent();\r\n\r\n\tsuccessResults = [];\r\n\tfailResults = [];\r\n\r\n\t/**\r\n\t * constructor\r\n\t * @param {Object} option\r\n\t * @param {Number} option.parallelLimit 并发数量(必须大于0)\r\n\t * @param {Number} option.timeout 超时时间,0表示不设置超时\r\n\t * @param {Boolean} option.continueOnError 是否在错误是继续运行,默认为继续\r\n\t */\r\n\tconstructor(option = {}){\r\n\t\tthis.option = Object.assign(this.option, option);\r\n\t\tif(this.option.parallelLimit < 1){\r\n\t\t\tthrow \"最大并发数量必须大于0\";\r\n\t\t}\r\n\t}\r\n\r\n\t_loop(){\r\n\t\tif((!this.taskStack.length && !this.running) || this.stopFlag){\r\n\t\t\tthis.onFinish.fire(this.successResults, this.failResults);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\twhile(!this.stopFlag && this.taskStack.length && this.option.parallelLimit > this.running){\r\n\t\t\tthis.running++;\r\n\t\t\tlet payload = this.taskStack.shift();\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tlet tm = null;\r\n\t\t\t\tif(this.option.timeout){\r\n\t\t\t\t\ttm = setTimeout(() => {reject('task timeout');}, this.option.timeout);\r\n\t\t\t\t}\r\n\t\t\t\tpayload(successResult => {\r\n\t\t\t\t\ttm && clearTimeout(tm);\r\n\t\t\t\t\tthis.successResults.push(successResult);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}, err => {\r\n\t\t\t\t\ttm && clearTimeout(tm);\r\n\t\t\t\t\tif(!this.option.continueOnError){\r\n\t\t\t\t\t\tthis.stopFlag = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.failResults.push(err);\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tthis.running--;\r\n\t\t\t\tthis._loop();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 停止后续任务继续执行,已经开始的不受影响\r\n\t */\r\n\tstop(){\r\n\t\tthis.stopFlag = true;\r\n\t}\r\n\r\n\t/**\r\n\t * 开始运行\r\n\t */\r\n\tstart(){\r\n\t\tthis._loop();\r\n\t}\r\n\r\n\t/**\r\n\t * 添加任务\r\n\t * @param {Function} payload 参数为 resolve, reject, 表示函数执行完成或中断\r\n\t */\r\n\taddTask(payload){\r\n\t\tthis.taskStack.push(payload);\r\n\t}\r\n}\r\n","import {isObject} from \"../Lang/Util.js\";\r\nimport {HTTP_METHOD, requestJSON} from \"../Lang/Net.js\";\r\nimport {Toast} from \"./Toast.js\";\r\n\r\n/**\r\n * 获取提示语显示选项\r\n * @param {Object|Boolean} showMsg, TRUE表示显示所有提示语，FALSE表示关闭显示，Object则由具体选项控制\r\n * @return {{success: boolean, pending: boolean, error: boolean}}\r\n */\r\nconst getToastOption = (showMsg) => {\r\n\tif(typeof showMsg === 'boolean' || showMsg === null){\r\n\t\treturn {\r\n\t\t\tpending: !!showMsg,\r\n\t\t\tsuccess: !!showMsg,\r\n\t\t\terror: !!showMsg,\r\n\t\t};\r\n\t}\r\n\tif(isObject(showMsg)){\r\n\t\treturn {\r\n\t\t\tpending: !!showMsg.pending,\r\n\t\t\tsuccess: !!showMsg.success,\r\n\t\t\terror: !!showMsg.error,\r\n\t\t};\r\n\t}\r\n\tthrow \"silent config param illegal\";\r\n}\r\n\r\nexport const QuickJsonRequest = {\r\n\t/**\r\n\t * 默认请求提示语（允许重置）\r\n\t */\r\n\tPENDING_MSG: '正在请求，请稍候···',\r\n\r\n\t/**\r\n\t * 默认请求成功、错误判断（允许重置）\r\n\t * @param {Object} rsp\r\n\t * @return {string[]} 返回[成功提示语, 错误提示语] 如果相应提示语不为空,表示发生成功或失败\r\n\t * @constructor\r\n\t */\r\n\tRESPONSE_SUCCESS_ERROR: (rsp) => {\r\n\t\treturn (rsp && rsp.code === 0) ? [rsp.message || '操作成功', ''] : ['', rsp.message || '请求发生错误'];\r\n\t},\r\n\r\n\t/**\r\n\t * 发起JSON请求\r\n\t * @param {String} method 请求方法：GET，POST\r\n\t * @param {String} url 请求URL\r\n\t * @param {*} data 请求数据\r\n\t * @param {Object|Boolean} showMsg 是否显示提示语（提示语选项请参考 getToastOption() 方法）\r\n\t * @return {Promise<Object,String>}\r\n\t */\r\n\trequest: (method, url, data, showMsg = false) => {\r\n\t\tlet toastOpt = getToastOption(showMsg);\r\n\t\tlet pendingToast = null;\r\n\t\tif(toastOpt.pending){\r\n\t\t\tpendingToast = Toast.showLoadingLater(QuickJsonRequest.PENDING_MSG);\r\n\t\t}\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\trequestJSON(url, data, method)\r\n\t\t\t\t.then(rsp => {\r\n\t\t\t\t\tlet [successMsg, errorMsg] = QuickJsonRequest.RESPONSE_SUCCESS_ERROR(rsp);\r\n\t\t\t\t\tif(successMsg){\r\n\t\t\t\t\t\ttoastOpt.success && Toast.showSuccess(successMsg);\r\n\t\t\t\t\t\tresolve(rsp);\r\n\t\t\t\t\t}else if(errorMsg){\r\n\t\t\t\t\t\ttoastOpt.error && Toast.showError(errorMsg);\r\n\t\t\t\t\t\treject(errorMsg);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthrow \"response error\";\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tpendingToast && pendingToast.hide();\r\n\t\t\t\t});\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * 快速 GET JSON请求\r\n\t * @param {String} url 请求URL\r\n\t * @param {Object|String} data 请求数据\r\n\t * @param {Object|Boolean} showMsg 是否显示提示语（提示语选项请参考 getToastOption() 方法）\r\n\t * @return {Promise<Object,String>}\r\n\t */\r\n\tget(url, data, showMsg = false){\r\n\t\treturn QuickJsonRequest.request(HTTP_METHOD.GET, url, data, showMsg);\r\n\t},\r\n\r\n\t/**\r\n\t * 快速 POST JSON请求\r\n\t * @param {String} url 请求URL\r\n\t * @param {*} data 请求数据\r\n\t * @param {Object|Boolean} showMsg 是否显示提示语（提示语选项请参考 getToastOption() 方法）\r\n\t * @return {Promise<Object,String>}\r\n\t */\r\n\tpost(url, data, showMsg = true){\r\n\t\treturn QuickJsonRequest.request(HTTP_METHOD.POST, url, data, showMsg);\r\n\t}\r\n}","import {findAll, findOne, onDomTreeChange} from \"../Lang/Dom.js\";\r\nimport {triggerDomEvent} from \"../Lang/Event.js\";\r\n\r\nconst isCheckBox = node => {\r\n\treturn node.tagName === 'INPUT' && node.type === 'checkbox';\r\n}\r\n\r\nconst isValueButton = node => {\r\n\treturn node.tagName === 'INPUT' && ['reset', 'submit', 'button'].includes(node.type);\r\n}\r\n\r\nconst isPairTag = node => {\r\n\treturn ['BUTTON', 'SPAN', 'DIV', 'P'].includes(node.tagName);\r\n}\r\n\r\n/**\r\n * 全选功能按钮，逻辑为：全选|取消选择，\r\n * 如果是checkbox控制，则支持显示部分选择状态\r\n */\r\nexport class ACSelectAll {\r\n\tstatic SELECT_ALL_TEXT = '全选';\r\n\tstatic UNSELECT_ALL_TEXT = '取消选择';\r\n\tstatic SELECT_TIP_TEMPLATE = '已选择 %c/%s';\r\n\r\n\t/**\r\n\t * @param trigger\r\n\t * @param {Object} params\r\n\t * @param {String} params.container checkbox所在容器，缺省为body\r\n\t * @param {String} params.selector checkbox 表达式，默认为 'input[type=checkbox]'\r\n\t * @param {String} params.tip 提示语，%c 表示选中数量，%s 表示总数。\r\n\t * @return {Promise<void>}\r\n\t */\r\n\tstatic init(trigger, params = {}){\r\n\t\tconst container = findOne(params.container || 'body');\r\n\t\tconst checkbox_selector = params.selector || 'input[type=checkbox]';\r\n\t\tlet tip = params.tip !== undefined ? params.tip :  ACSelectAll.SELECT_TIP_TEMPLATE;\r\n\r\n\t\tconst disableTrigger = () => {\r\n\t\t\ttrigger.setAttribute('disabled', 'disabled');\r\n\t\t}\r\n\t\tconst enableTrigger = () => {\r\n\t\t\ttrigger.removeAttribute('disabled');\r\n\t\t}\r\n\r\n\t\tlet checks = [];\r\n\t\tlet updateTrigger = () => {\r\n\t\t\tlet checkedCount = 0;\r\n\t\t\tchecks = checks.filter(chk=>!chk.disabled);\r\n\t\t\tchecks.forEach(chk => {\r\n\t\t\t\tcheckedCount += chk.checked ? 1 : 0;\r\n\t\t\t});\r\n\t\t\tif(tip){\r\n\t\t\t\ttrigger.title = tip.replace(/%c/g, checkedCount).replace(/%s/g, checks.length);\r\n\t\t\t}\r\n\t\t\tif(isValueButton(trigger)){\r\n\t\t\t\ttrigger.value = checkedCount ? this.UNSELECT_ALL_TEXT : this.SELECT_ALL_TEXT;\r\n\t\t\t}else if(isPairTag(trigger)){\r\n\t\t\t\ttrigger.innerText = checkedCount ? this.UNSELECT_ALL_TEXT : this.SELECT_ALL_TEXT;\r\n\t\t\t}else if(isCheckBox(trigger)){\r\n\t\t\t\ttrigger.indeterminate = checkedCount && checkedCount !== checks.length;\r\n\t\t\t\ttrigger.checked = checkedCount;\r\n\t\t\t}\r\n\t\t\tchecks.length ? enableTrigger() : disableTrigger();\r\n\t\t};\r\n\r\n\t\tonDomTreeChange(container, () => {\r\n\t\t\tchecks = findAll('input[type=checkbox]', container);\r\n\t\t\tchecks.forEach(chk => {\r\n\t\t\t\tif(chk.dataset.__bind_select_all){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tchk.dataset.__bind_select_all = \"1\";\r\n\t\t\t\tchk.addEventListener('change', updateTrigger);\r\n\t\t\t});\r\n\t\t\tupdateTrigger();\r\n\t\t});\r\n\r\n\t\ttrigger.addEventListener('click', () => {\r\n\t\t\tlet toCheck;\r\n\t\t\tif(isValueButton(trigger) || isPairTag(trigger)){\r\n\t\t\t\ttoCheck = (trigger.innerText || trigger.value) === this.SELECT_ALL_TEXT;\r\n\t\t\t}else if(isCheckBox(trigger)){\r\n\t\t\t\ttoCheck = trigger.checked;\r\n\t\t\t}else{\r\n\t\t\t\tconsole.warn('Select All no support this type');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tchecks = checks.filter(chk=>!chk.disabled);\r\n\t\t\tchecks.forEach(chk => {\r\n\t\t\t\tchk.checked = toCheck;\r\n\t\t\t\ttriggerDomEvent(chk, 'change');\r\n\t\t\t});\r\n\t\t\tif(isValueButton(trigger)){\r\n\t\t\t\ttrigger.value = toCheck ? this.UNSELECT_ALL_TEXT : this.SELECT_ALL_TEXT\r\n\t\t\t}else if(isPairTag(trigger)){\r\n\t\t\t\ttrigger.innerText = toCheck ? this.UNSELECT_ALL_TEXT : this.SELECT_ALL_TEXT;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet containerInit = () => {\r\n\t\t\tchecks = findAll(checkbox_selector, container);\r\n\t\t\tchecks.forEach(chk => {\r\n\t\t\t\tif(chk.dataset.__bind_select_all){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tchk.dataset.__bind_select_all = \"1\";\r\n\t\t\t\tchk.addEventListener('change', updateTrigger);\r\n\t\t\t});\r\n\t\t\tupdateTrigger();\r\n\t\t}\r\n\t\tonDomTreeChange(container, containerInit);\r\n\t\tcontainerInit();\r\n\t}\r\n}\r\n","import {Theme} from \"./Theme.js\";\r\nimport {\r\n\tcreateDomByHtml,\r\n\tdomContained,\r\n\tfindAll,\r\n\tfindOne,\r\n\tgetDomOffset,\r\n\thide,\r\n\tinsertStyleSheet,\r\n\tremove,\r\n\tshow\r\n} from \"../Lang/Dom.js\";\r\nimport {guid} from \"../Lang/Util.js\";\r\nimport {bindNodeActive, bindNodeEvents, BizEvent, KEYBOARD_KEY_MAP, triggerDomEvent} from \"../Lang/Event.js\";\r\nimport {arrayDistinct} from \"../Lang/Array.js\";\r\nimport {dimension2Style, escapeAttr, escapeHtml, highlightText} from \"../Lang/Html.js\";\r\nimport {ACSelectAll} from \"../Auto/ACSelectAll.js\";\r\n\r\nconst COM_ID = Theme.Namespace + 'select';\r\nconst CLASS_PREFIX = COM_ID;\r\n\r\nconst STYLE_STR = `\r\n\t.${CLASS_PREFIX}-panel{\r\n\t\t${Theme.CssVarPrefix}sel-panel-max-width:20em;\r\n\t\t${Theme.CssVarPrefix}sel-list-max-height:15em;\r\n\t\t${Theme.CssVarPrefix}sel-item-matched-color:orange;\r\n\t\t${Theme.CssVarPrefix}sel-item-matched-font-weight:bold;\r\n\t\t${Theme.CssVarPrefix}sel-item-hover-bg:#eeeeee;\r\n\t\t${Theme.CssVarPrefix}sel-item-selected-bg:#abc9e140;\r\n\t\t\r\n\t\tmax-width:var(${Theme.CssVarPrefix}sel-panel-max-width);\r\n\t\tbackground-color:var(${Theme.CssVar.BACKGROUND_COLOR});\r\n\t\tborder:var(${Theme.CssVar.PANEL_BORDER});\r\n\t\tpadding:.2em 0;\r\n\t\tbox-sizing:border-box;\r\n\t\tbox-shadow:var(${Theme.CssVar.PANEL_SHADOW});\r\n\t\tborder-radius:var(${Theme.CssVar.PANEL_RADIUS});\r\n\t\tposition:absolute;\r\n\t\tz-index:1;\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-panel .${CLASS_PREFIX}-search{padding:0.5em;}\r\n\t.${CLASS_PREFIX}-panel input[type=search]{\r\n\t\twidth:100%;\r\n\t\tpadding:0.5em;\r\n\t\tborder:none;\r\n\t\tborder-bottom:1px solid #dddddd;\r\n\t\toutline:none;\r\n\t\tbox-shadow:none;\r\n\t\ttransition:border 0.1s linear;\r\n\t}\r\n\t.${CLASS_PREFIX}-panel input[type=search]:focus{\r\n\t\tborder-color:gray;\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-list{\r\n\t\tlist-style:none;\r\n\t\tmax-height:var(${Theme.CssVarPrefix}sel-list-max-height);\r\n\t\toverflow:auto;\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-list .sel-item{\r\n\t\tmargin:0.2em 0;\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-list .sel-chk{opacity:0;width:1em;height:1em;position:absolute;margin:0.05em 0 0 -1.25em;}\r\n\t\r\n\t.${CLASS_PREFIX}-list .sel-chk:before{\r\n\t\tcontent:\"\\\\e624\";\r\n\t\tfont-family:\"${Theme.IconFont}\", serif;\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-list .matched{\r\n\t\tcolor:var(${Theme.CssVarPrefix}sel-item-matched-color);\r\n\t\tfont-weight:var(${Theme.CssVarPrefix}sel-item-matched-font-weight);\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-list input{display:block;position:absolute;z-index:1;left:-2em;top:0;opacity:0;}\r\n\t.${CLASS_PREFIX}-list .ti-wrap{cursor:pointer;position:relative;display:block;padding:.5em 1em .5em 2em;user-select:none;transition:all 0.1s linear;}\r\n\t.${CLASS_PREFIX}-list ul .ti-wrap{padding-left:2.25em;display:block; padding-left:3.5em;}\r\n\t.${CLASS_PREFIX}-list .desc {display:block; opacity:0.5}\r\n\t\r\n\t.${CLASS_PREFIX}-list label{\r\n\t\tdisplay:block;\r\n\t\toverflow:hidden;\r\n\t\tposition:relative;\r\n\t}\r\n\t.${CLASS_PREFIX}-list label:hover .ti-wrap{\r\n\t\tbackground:var(${Theme.CssVarPrefix}sel-item-hover-bg);\r\n\t\ttext-shadow:1px 1px 1px white;\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-list li[data-group-title]:before{\r\n\t\tcontent:attr(data-group-title) \" -\";\r\n\t\tcolor:gray;\r\n\t\tdisplay:block;\r\n\t\tpadding:0.25em .5em .25em 2em;\r\n\t}\r\n\t\r\n\t/** checked **/\r\n\t.${CLASS_PREFIX}-list input:checked ~ .ti-wrap{\r\n\t\tbackground-color:var(${Theme.CssVarPrefix}sel-item-selected-bg);\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-list input:checked ~ .ti-wrap .sel-chk{\r\n\t\topacity:1;\r\n\t}\r\n\t\r\n\t/** disabled **/\r\n\t.${CLASS_PREFIX}-list input:disabled ~ .ti-wrap{\r\n\t\topacity:0.5;\r\n\t\tcursor:default;\r\n\t\tbackground-color:transparent\r\n\t}\r\n\t.${CLASS_PREFIX}-list input:disabled ~ .ti-wrap .sel-chk{\r\n\t\topacity:.1;\r\n\t}\r\n\t\r\n\t.${CLASS_PREFIX}-multiple-operation {\r\n\t\tpadding:0.25em 0.5em;\r\n\t}\r\n\t.${CLASS_PREFIX}-multiple-operation label {\r\n\t\tdisplay:flex;\r\n\t\tgap:.25em\r\n\t}\r\n\t\r\n`;\r\n\r\n/**\r\n * 提取select placeholder，优先从[placeholder]属性中提取，其次从option[value=\"\"] text 中提取\r\n * @param sel\r\n * @return {string}\r\n */\r\nconst resolveSelectPlaceholder = sel =>{\r\n\tlet pl = sel.getAttribute('placeholder') || '';\r\n\tif(pl){\r\n\t\treturn pl;\r\n\t}\r\n\tfindAll('option', sel).every(opt=>{\r\n\t\tif(!opt.value){\r\n\t\t\tpl = opt.innerText;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\treturn pl;\r\n}\r\n\r\n/**\r\n * @param sel\r\n * @return {{values: String[], options: Option[], selectedIndexes: Number[]}}\r\n */\r\nconst resolveSelectOptions = (sel) => {\r\n\tlet options = [\r\n\t\t// {title, value, disabled, selected},\r\n\t\t// {title, options:[{title, value},...], disabled, selected},\r\n\t];\r\n\tlet values = [];\r\n\tlet selectedIndexes = [];\r\n\tsel.childNodes.forEach(node => {\r\n\t\tif(node.nodeType !== 1){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(node.tagName === 'OPTION'){\r\n\t\t\toptions.push(new Option({\r\n\t\t\t\ttype: OPTION_TYPE_OPTION,\r\n\t\t\t\ttitle: node.title,\r\n\t\t\t\ttext: node.innerText,\r\n\t\t\t\tvalue: node.value,\r\n\t\t\t\tdisabled: node.disabled,\r\n\t\t\t\tselected: node.selected,\r\n\t\t\t\tindex: node.index,\r\n\t\t\t}));\r\n\t\t\tif(node.selected){\r\n\t\t\t\tvalues.push(node.value);\r\n\t\t\t\tselectedIndexes.push(node.index);\r\n\t\t\t}\r\n\t\t}else if(node.tagName === 'OPTGROUP'){\r\n\t\t\tlet opt_group = new Option({\r\n\t\t\t\ttext: node.label || '',\r\n\t\t\t\ttitle: node.title,\r\n\t\t\t\ttype: OPTION_TYPE_GROUP\r\n\t\t\t});\r\n\t\t\tnode.childNodes.forEach(child => {\r\n\t\t\t\tif(child.nodeType !== 1){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\topt_group.options.push(new Option({\r\n\t\t\t\t\ttype: OPTION_TYPE_OPTION,\r\n\t\t\t\t\ttitle: child.title,\r\n\t\t\t\t\ttext: child.innerText,\r\n\t\t\t\t\tvalue: child.value,\r\n\t\t\t\t\tdisabled: child.disabled,\r\n\t\t\t\t\tselected: child.selected,\r\n\t\t\t\t\tindex: child.index,\r\n\t\t\t\t}));\r\n\t\t\t\tif(child.selected){\r\n\t\t\t\t\tvalues.push(child.value);\r\n\t\t\t\t\tselectedIndexes.push(child.index);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\toptions.push(opt_group);\r\n\t\t}\r\n\t});\r\n\treturn {options, values, selectedIndexes};\r\n}\r\n\r\n/**\r\n * @param {Array} options 选项（支持group模式）\r\n * @return {string}\r\n */\r\nconst buildOptionText = (options) => {\r\n\tlet txt = [];\r\n\toptions.forEach(opt => {\r\n\t\tif(opt.type === OPTION_TYPE_OPTION && opt.selected){\r\n\t\t\ttxt.push(opt.text.trim());\r\n\t\t}\r\n\t\tif(opt.type === OPTION_TYPE_GROUP){\r\n\t\t\topt.options.forEach(sub_opt=>{\r\n\t\t\t\tsub_opt.selected && txt.push(sub_opt.text.trim());\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\treturn txt.join(', ');\r\n}\r\n\r\n/**\r\n * 从 <datalist> 对象中解析 option 列表\r\n * @param {HTMLDataListElement} datalistEl\r\n * @param {Null|String} initValue 初始值，Null 表示没有初始值\r\n * @return {Option[]}\r\n */\r\nconst resolveListOption = (datalistEl, initValue = null) => {\r\n\tlet options = [];\r\n\tlet alreadySelected = false;\r\n\tArray.from(datalistEl.options).forEach((option, index) => {\r\n\t\tlet text = option.label || option.innerText || option.value;\r\n\t\tlet title = option.title || '';\r\n\t\tlet value = option.hasAttribute('value') ? option.getAttribute('value') : text; //避免某些空值 \"\" value获取不到\r\n\t\tlet selected = !alreadySelected && initValue !== null && value === initValue;\r\n\t\toptions.push({text, title, value, disabled: false, selected, index});\r\n\t});\r\n\treturn options;\r\n}\r\n\r\n/**\r\n * 渲染单个 checkbox 或 radio\r\n * @param name\r\n * @param multiple\r\n * @param option\r\n * @return {String} input html\r\n */\r\nconst renderItemChecker = (name, multiple, option) => {\r\n\treturn `<input type=\"${multiple ? 'checkbox' : 'radio'}\" \r\n\t\ttabindex=\"0\"\r\n\t\tname=\"${name}\" \r\n\t\tvalue=\"${escapeAttr(option.value)}\" \r\n\t\t${option.selected ? 'checked' : ''} \r\n\t\t${option.disabled ? 'disabled' : ''}/>\r\n\t`\r\n}\r\n\r\n/**\r\n * 创建面板 DOM\r\n * @param {Object} config\r\n * @param {String} config.name\r\n * @param {Boolean} config.required\r\n * @param {Boolean} config.multiple\r\n * @param {String} config.placeholder\r\n * @param {Boolean} config.displaySearchInput\r\n * @param {Boolean} config.hideNoMatchItems\r\n * @param {Object[]} config.initOptions\r\n * @return {HTMLElement|HTMLElement[]}\r\n */\r\nconst createPanel = (config) => {\r\n\tlet list_html = `<ul class=\"${CLASS_PREFIX}-list\">`;\r\n\tconfig.initOptions.forEach(option => {\r\n\t\tif(option.options && option.options.length){\r\n\t\t\tlist_html += `<li data-group-title=\"${escapeAttr(option.text)}\" class=\"sel-group\"><ul>`;\r\n\t\t\toption.options.forEach(childOption => {\r\n\t\t\t\tlist_html +=\r\n\t\t\t\t\t`<li class=\"sel-item\" tabindex=\"0\">\r\n\t\t\t\t\t\t<label data-text=\"${escapeAttr(childOption.text)}\" tabindex=\"0\">\r\n\t\t\t\t\t\t\t${renderItemChecker(config.name, config.multiple, childOption)} \r\n\t\t\t\t\t\t\t<span class=\"ti-wrap\">\r\n\t\t\t\t\t\t\t\t<span class=\"sel-chk\"></span> \r\n\t\t\t\t\t\t\t\t<span class=\"ti\">${escapeHtml(childOption.text)}</span>\r\n\t\t\t\t\t\t\t\t<span class=\"desc\">${escapeHtml(childOption.title)}</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</li>`;\r\n\t\t\t})\r\n\t\t\tlist_html += `</ul></li>`;\r\n\t\t}else{\r\n\t\t\tlist_html +=\r\n\t\t\t\t`<li class=\"sel-item\" tabindex=\"0\">\r\n\t\t\t\t\t<label data-text=\"${escapeAttr(option.text)}\">\r\n\t\t\t\t\t\t${renderItemChecker(config.name, config.multiple, option)} \r\n\t\t\t\t\t\t<span class=\"ti-wrap\">\r\n\t\t\t\t\t\t\t<span class=\"sel-chk\"></span> \r\n\t\t\t\t\t\t\t<span class=\"ti\">${escapeHtml(option.text)}</span>\r\n\t\t\t\t\t\t\t<span class=\"desc\">${escapeHtml(option.title)}</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</li>`;\r\n\t\t}\r\n\t});\r\n\tlist_html += '</ul>';\r\n\r\n\tlet multiple_operation_html = config.multiple ?\r\n`<div class=\"${CLASS_PREFIX}-multiple-operation\">\r\n\t<label>\r\n\t\t<input type=\"checkbox\" class=\"mul-sel-all-chk\"> 全选\r\n\t</label>\r\n</div>` : '';\r\n\r\n\treturn createDomByHtml(`\r\n\t\t<div class=\"${CLASS_PREFIX}-panel\" style=\"display:none;\">\r\n\t\t\t<div class=\"${CLASS_PREFIX}-search\" style=\"${config.displaySearchInput ? '' : 'display:none'}\">\r\n\t\t\t\t<input type=\"search\" placeholder=\"过滤...\" aria-label=\"过滤选项\" autocomplete=\"off\">\r\n\t\t\t</div>\r\n\t\t\t${list_html}\r\n\t\t\t${multiple_operation_html}\r\n\t\t</div>\r\n\t`, document.body);\r\n}\r\n\r\nconst tabNav = (liList, dir) => {\r\n\tlet currentIndex = -1;\r\n\tliList.forEach((li, idx) => {\r\n\t\tif(li === document.activeElement){\r\n\t\t\tcurrentIndex = idx;\r\n\t\t}\r\n\t});\r\n\tif(dir > 0){\r\n\t\tcurrentIndex = currentIndex < (liList.length - 1) ? (currentIndex + 1) : 0;\r\n\t}else{\r\n\t\tcurrentIndex = currentIndex <= 0 ? (liList.length - 1) : (currentIndex - 1);\r\n\t}\r\n\tliList.forEach((li, idx) => {\r\n\t\tif(idx === currentIndex){\r\n\t\t\tli.focus();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst OPTION_TYPE_GROUP = 'group';\r\nconst OPTION_TYPE_OPTION = 'option';\r\n\r\nclass Option {\r\n\tconstructor(param){\r\n\t\tfor(let i in param){\r\n\t\t\tthis[i] = param[i];\r\n\t\t}\r\n\t}\r\n\r\n\t/** @type {String} 类型 **/\r\n\ttype = OPTION_TYPE_OPTION;\r\n\r\n\t/** @type {string} */\r\n\ttitle = '';\r\n\r\n\t/** @type {string} */\r\n\ttext = '';\r\n\r\n\t/** @type {string} */\r\n\tvalue = '';\r\n\r\n\t/** @type {Boolean} */\r\n\tdisabled = false;\r\n\r\n\t/** @type {Boolean} */\r\n\tselected = false;\r\n\r\n\t/** @type {Number} */\r\n\tindex = 0;\r\n\r\n\t/** @type {Option[]|Null} 子选项*/\r\n\toptions = [];\r\n}\r\n\r\n/**\r\n * 下拉选择UI组件，用于优化代替原生select、select[multiple]、input[list]组件，同时提供搜索功能。\r\n */\r\nclass Select {\r\n\tconfig = {\r\n\t\tname: \"\",\r\n\t\trequired: false,\r\n\t\tmultiple: false,\r\n\t\tplaceholder: '',\r\n\t\tdisplaySearchInput: true, //是否显示搜索输入框\r\n\t\thideNoMatchItems: true, //隐藏未匹配的搜索结果项目\r\n\t\tinitOptions: [], //初始化时的选项列表。仅在初始化时使用，后面不再维护这个属性\r\n\t};\r\n\tpanelEl = null;\r\n\tsearchEl = null;\r\n\tonChange = new BizEvent();\r\n\r\n\tstatic PROXY_INPUT_CLASS = 'multiple-select-proxy-input';\r\n\r\n\t/**\r\n\t * 构造函数\r\n\t * @param {Object} config\r\n\t * @param {String} config.name\r\n\t * @param {Boolean} config.required\r\n\t * @param {Boolean} config.multiple\r\n\t * @param {String} config.placeholder\r\n\t * @param {Boolean} config.displaySearchInput\r\n\t * @param {Boolean} config.hideNoMatchItems\r\n\t * @param {Object[]} config.initOptions\r\n\t */\r\n\tconstructor(config){\r\n\t\tinsertStyleSheet(STYLE_STR, COM_ID + '-style');\r\n\t\tthis.config = Object.assign(this.config, config);\r\n\t\tthis.config.name = this.config.name || COM_ID + guid();\r\n\t\tthis.panelEl = createPanel(this.config);\r\n\t\tthis.searchEl = this.panelEl.querySelector('input[type=search]');\r\n\r\n\t\t//checkbox change\r\n\t\tthis.panelEl.querySelectorAll(`.${CLASS_PREFIX}-list input`).forEach(chk => {\r\n\t\t\tchk.addEventListener('change', () => {\r\n\t\t\t\tthis.onChange.fire();\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\t//search\r\n\t\tthis.searchEl.addEventListener('input', () => {\r\n\t\t\tthis.search(this.searchEl.value);\r\n\t\t});\r\n\r\n\t\t//nav\r\n\t\tthis.searchEl.addEventListener('keydown', e => {\r\n\t\t\tif(e.key === KEYBOARD_KEY_MAP.ArrowUp){\r\n\t\t\t\ttabNav(liElList, false);\r\n\t\t\t}else if(e.key === KEYBOARD_KEY_MAP.ArrowDown){\r\n\t\t\t\ttabNav(liElList, true);\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t//li click, enter\r\n\t\tlet liElList = this.panelEl.querySelectorAll(`.${CLASS_PREFIX}-list .sel-item`);\r\n\t\tliElList.forEach(li => {\r\n\t\t\tbindNodeActive(li, e => {\r\n\t\t\t\tif(e.type !== 'click'){\r\n\t\t\t\t\tlet chk = li.querySelector('input');\r\n\t\t\t\t\tchk.checked ? chk.removeAttribute('checked') : chk.checked = true;\r\n\t\t\t\t\tthis.onChange.fire();\r\n\t\t\t\t}\r\n\t\t\t\t!this.config.multiple && this.hidePanel();\r\n\t\t\t});\r\n\t\t\tli.addEventListener('keydown', e => {\r\n\t\t\t\tif(e.key === KEYBOARD_KEY_MAP.ArrowUp){\r\n\t\t\t\t\ttabNav(liElList, false);\r\n\t\t\t\t}else if(e.key === KEYBOARD_KEY_MAP.ArrowDown){\r\n\t\t\t\t\ttabNav(liElList, true);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\tif(this.config.multiple){\r\n\t\t\tlet list = findOne(`.${CLASS_PREFIX}-list`, this.panelEl);\r\n\t\t\tACSelectAll.init(findOne('.mul-sel-all-chk', this.panelEl), {container: list});\r\n\t\t}\r\n\t}\r\n\r\n\tisShown(){\r\n\t\treturn this.panelEl.style.display !== 'none';\r\n\t}\r\n\r\n\t/**\r\n\t * 以关键字方式搜索\r\n\t * @param {String} kw\r\n\t * @return {HTMLElement}\r\n\t */\r\n\tsearch(kw){\r\n\t\tthis.searchEl.value = kw;\r\n\t\tlet liEls = this.panelEl.querySelectorAll(`.${CLASS_PREFIX}-list .sel-item`);\r\n\t\tlet firstMatchedItem = null;\r\n\t\tliEls.forEach(li => {\r\n\t\t\tthis.config.hideNoMatchItems && hide(li);\r\n\t\t\tlet text = li.querySelector('label').dataset.text || '';\r\n\t\t\tli.blur();\r\n\t\t\tli.querySelector('.ti').innerHTML = highlightText(text, kw);\r\n\t\t\tif(!kw || text.toLowerCase().indexOf(kw.trim().toLowerCase()) >= 0){\r\n\t\t\t\tthis.config.hideNoMatchItems && show(li);\r\n\t\t\t\tif(!firstMatchedItem){\r\n\t\t\t\t\tfirstMatchedItem = li;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(firstMatchedItem){\r\n\t\t\tfirstMatchedItem.scrollIntoView({behavior: 'smooth'});\r\n\t\t}\r\n\t\treturn firstMatchedItem;\r\n\t}\r\n\r\n\t/**\r\n\t * 以index方式设置选中项\r\n\t * @param {Number[]} selectedIndexList\r\n\t */\r\n\tselectByIndex(selectedIndexList){\r\n\t\tthis.panelEl.querySelectorAll(`.${CLASS_PREFIX}-list input`).forEach((chk, idx) => {\r\n\t\t\tchk.checked = selectedIndexList.includes(idx);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 使用传值方式设置选中项目（该方法可能存在多个相同值的情况导致误选）\r\n\t * @param values\r\n\t */\r\n\tselectByValues(values){\r\n\t\tthis.panelEl.querySelectorAll(`.${CLASS_PREFIX}-list input`).forEach((chk, idx) => {\r\n\t\t\tchk.checked = values.includes(chk.value);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 获取值，这里没有区分多选还是单选，统一返回数组，返回值会去重\r\n\t * @return {String[]}\r\n\t */\r\n\tgetValues(){\r\n\t\tlet values = [];\r\n\t\tlet tmp = this.panelEl.querySelectorAll(`.${CLASS_PREFIX}-list input:checked`)\r\n\t\ttmp.forEach(chk => {\r\n\t\t\tvalues.push(chk.value);\r\n\t\t});\r\n\t\tvalues = arrayDistinct(values);\r\n\t\treturn values;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取选中项索引值列表\r\n\t * @return {Number[]}\r\n\t */\r\n\tgetSelectedIndexes(){\r\n\t\tlet selectedIndexes = [];\r\n\t\tthis.getSelectedOptions().forEach(opt=>{\r\n\t\t\tselectedIndexes.push(opt.index);\r\n\t\t});\r\n\t\treturn selectedIndexes;\r\n\t}\r\n\r\n\tgetSelectedOptions(){\r\n\t\tlet options = [];\r\n\t\tthis.panelEl.querySelectorAll(`.${CLASS_PREFIX}-list input`).forEach((chk, idx) => {\r\n\t\t\tif(chk.checked){\r\n\t\t\t\toptions.push(new Option({\r\n\t\t\t\t\ttype: OPTION_TYPE_OPTION,\r\n\t\t\t\t\ttext: chk.closest('label').dataset.text || '',\r\n\t\t\t\t\tvalue: chk.value,\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\tindex: idx,\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn options;\r\n\t}\r\n\r\n\t/**\r\n\t * 隐藏面板\r\n\t */\r\n\thidePanel(){\r\n\t\tif(this.panelEl){\r\n\t\t\tthis.panelEl.style.display = 'none';\r\n\t\t\tthis.search(\"\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 显示面板（@todo，需要改造成 Popover 方式来避免遮挡）\r\n\t * @param {Object|Null} pos\r\n\t * @param {Number} pos.top\r\n\t * @param {Number} pos.left\r\n\t */\r\n\tshowPanel(pos = {top: 0, left: 0}){\r\n\t\tthis.panelEl.style.display = '';\r\n\t\tif(pos){\r\n\t\t\tthis.panelEl.style.top = dimension2Style(pos.top);\r\n\t\t\tthis.panelEl.style.left = dimension2Style(pos.left);\r\n\t\t}\r\n\t\tthis.searchEl.focus();\r\n\t}\r\n\r\n\t/**\r\n\t * 绑定 select 元素使其触发行为变成Select组件\r\n\t * @todo 如果select required，浏览器触发的表单校验提示显示会被遮挡\r\n\t * @param {HTMLSelectElement} selectEl\r\n\t * @param {Object} params\r\n\t */\r\n\tstatic bindSelect(selectEl, params = {}){\r\n\t\tlet {options} = resolveSelectOptions(selectEl);\r\n\t\tlet placeholder = resolveSelectPlaceholder(selectEl);\r\n\t\tlet proxyInput;\r\n\t\tconst sel = new Select({\r\n\t\t\tname: selectEl.name,\r\n\t\t\trequired: selectEl.required,\r\n\t\t\tmultiple: selectEl.multiple,\r\n\t\t\tplaceholder,\r\n\t\t\tinitOptions: options,\r\n\t\t\t...params\r\n\t\t});\r\n\t\tsel.panelEl.style.minWidth = dimension2Style(selectEl.offsetWidth);\r\n\t\tsel.onChange.listen(() => {\r\n\t\t\tlet selectedIndexes = sel.getSelectedIndexes();\r\n\t\t\tselectEl.querySelectorAll('option').forEach((opt, idx) => {\r\n\t\t\t\topt.selected = selectedIndexes.includes(idx);\r\n\t\t\t});\r\n\t\t\ttriggerDomEvent(selectEl, 'change');\r\n\t\t});\r\n\r\n\t\tconst showSelect = () => {\r\n\t\t\tlet offset = getDomOffset(proxyInput || selectEl);\r\n\t\t\tsel.showPanel({top: offset.top + (proxyInput || selectEl).offsetHeight, left: offset.left});\r\n\t\t}\r\n\t\tconst hideSelect = () => {\r\n\t\t\tsel.hidePanel();\r\n\t\t}\r\n\r\n\t\t//multiple mode\r\n\t\tif(selectEl.multiple){\r\n\t\t\tproxyInput = document.createElement('input');\r\n\t\t\tproxyInput.value = buildOptionText(options) || placeholder;\r\n\t\t\tproxyInput.title = buildOptionText(options) || placeholder;\r\n\t\t\tproxyInput.type = 'text';\r\n\t\t\tproxyInput.classList.add(this.PROXY_INPUT_CLASS);\r\n\t\t\tproxyInput.readOnly = true;\r\n\t\t\tplaceholder && (proxyInput.placeholder = placeholder);\r\n\t\t\tselectEl.parentNode.insertBefore(proxyInput, selectEl);\r\n\t\t\thide(selectEl);\r\n\t\t\tsel.onChange.listen(() => {\r\n\t\t\t\tlet selectedOptions = sel.getSelectedOptions();\r\n\t\t\t\tproxyInput.value = buildOptionText(selectedOptions) || placeholder;\r\n\t\t\t\tproxyInput.title = buildOptionText(selectedOptions) || placeholder;\r\n\t\t\t});\r\n\t\t\tbindNodeEvents(proxyInput, ['active', 'focus', 'click'], () => {\r\n\t\t\t\tshowSelect();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//single select mode\r\n\t\telse {\r\n\t\t\tselectEl.addEventListener('invalid', hideSelect);\r\n\t\t\tselectEl.addEventListener('input', showSelect)\r\n\t\t\tselectEl.addEventListener('focus', showSelect);\r\n\t\t\tselectEl.addEventListener('keydown', e => {\r\n\t\t\t\tshowSelect();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tselectEl.addEventListener('mousedown', e => {\r\n\t\t\t\tsel.isShown() ? sel.hidePanel() : showSelect();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tselectEl.addEventListener('change', () => {\r\n\t\t\t\tlet selectedIndexes = [];\r\n\t\t\t\tArray.from(selectEl.selectedOptions).forEach(opt => {\r\n\t\t\t\t\tselectedIndexes.push(opt.index);\r\n\t\t\t\t})\r\n\t\t\t\tsel.selectByIndex(selectedIndexes);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener('click', e => {\r\n\t\t\tif(!domContained(sel.panelEl, e.target, true) && !domContained(proxyInput || selectEl, e.target, true)){\r\n\t\t\t\thideSelect();\r\n\t\t\t}\r\n\t\t});\r\n\t\tdocument.addEventListener('keyup', e => {\r\n\t\t\tif(e.key === KEYBOARD_KEY_MAP.Escape){\r\n\t\t\t\thideSelect();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 绑定有关联 datalist 的输入框\r\n\t * @param {HTMLInputElement} inputEl\r\n\t * @param {Object} params 初始化参数对象\r\n\t * @param {Object[]} params.initOptions 是否指定选项列表，默认从 input[list] 中读取\r\n\t */\r\n\tstatic bindTextInput(inputEl, params = {}){\r\n\t\tparams = params || {initOptions:null};\r\n\r\n\t\tif(!params.initOptions){\r\n\t\t\tlet listTagId = inputEl.getAttribute('list');\r\n\t\t\tlet datalistEl = document.getElementById(listTagId);\r\n\t\t\tif(!datalistEl){\r\n\t\t\t\tthrow \"no datalist found: \" + inputEl.getAttribute('list');\r\n\t\t\t}\r\n\t\t\tparams.initOptions = resolveListOption(datalistEl, inputEl.value);\r\n\t\t\tinputEl.removeAttribute('list');\r\n\t\t\tremove(datalistEl);\r\n\t\t}\r\n\t\tlet sel = new Select({\r\n\t\t\tname: inputEl.name,\r\n\t\t\trequired: inputEl.required,\r\n\t\t\tmultiple: false,\r\n\t\t\tdisplaySearchInput: false,\r\n\t\t\thideNoMatchItems: false,\r\n\t\t\tplaceholder: inputEl.getAttribute('placeholder'),\r\n\t\t\t...params\r\n\t\t});\r\n\t\tsel.onChange.listen(() => {\r\n\t\t\tinputEl.value = sel.getValues()[0];\r\n\t\t\ttriggerDomEvent(inputEl, 'change');\r\n\t\t});\r\n\t\tsel.panelEl.style.minWidth = dimension2Style(inputEl.offsetWidth);\r\n\r\n\t\tlet sh = () => {\r\n\t\t\tlet offset = getDomOffset(inputEl);\r\n\t\t\tsel.showPanel({top: offset.top + inputEl.offsetHeight, left: offset.left});\r\n\t\t}\r\n\r\n\t\tinputEl.setAttribute('autocomplete', 'off')\r\n\t\tinputEl.addEventListener('focus', sh);\r\n\t\tinputEl.addEventListener('click', sh);\r\n\t\tinputEl.addEventListener('input', () => {\r\n\t\t\tlet matchSelItem = sel.search(inputEl.value.trim());\r\n\t\t\tfindAll(`.${CLASS_PREFIX}-list input`, sel.panelEl).forEach(chk => {\r\n\t\t\t\tchk.checked = false;\r\n\t\t\t});\r\n\t\t\tif(matchSelItem){\r\n\t\t\t\tlet lbl = findOne('label', matchSelItem).dataset.text || '';\r\n\t\t\t\t//必须严格相当才能标记选中\r\n\t\t\t\tif(lbl.trim() === inputEl.value.trim()){\r\n\t\t\t\t\tfindOne('input', matchSelItem).checked = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdocument.addEventListener('click', e => {\r\n\t\t\tif(!domContained(sel.panelEl, e.target, true) && !domContained(inputEl, e.target, true)){\r\n\t\t\t\tsel.hidePanel();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdocument.addEventListener('keyup', e => {\r\n\t\t\tif(e.key === KEYBOARD_KEY_MAP.Escape){\r\n\t\t\t\tsel.hidePanel();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport {Select}","import {Theme} from \"./Theme.js\";\r\nimport {findAll, findOne, nodeIndex, onDomTreeChange} from \"../Lang/Dom.js\";\r\n\r\nconst CLS_ON_DRAG = Theme.Namespace + '-on-drag';\r\nconst CLS_DRAG_PROXY = Theme.Namespace + '-drag-proxy';\r\n\r\n/**\r\n * 匹配事件对象到指定父容器子节点列表中\r\n * @param {Node} container\r\n * @param {Node} eventTarget\r\n * @return {Node}\r\n */\r\nconst matchChildren = (container, eventTarget) => {\r\n\tlet children = Array.from(container.children);\r\n\tlet p = eventTarget;\r\n\twhile(p){\r\n\t\tif(children.includes(p)){\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\tp = p.parentNode;\r\n\t}\r\n\tthrow \"event target no in container\";\r\n}\r\n\r\n/**\r\n * 节点排序\r\n * @param {Node} listContainer 列表父容器（函数自动监听容器子节点变化，重新绑定）\r\n * @param {Object} option 选项\r\n * @param {String} option.ClassOnDrag 占位对象类名\r\n * @param {String} option.ClassProxy 拖动过程代理对象类名\r\n * @param {String} option.triggerSelector 触发拖动推对象选择器\r\n * @param {Function(child:Node)} option.onStart 开始拖动事件回调，如果返回false终止拖动\r\n * @param {Function(currentIndex:Number, targetIndex:Number)} option.onInput 拖动过程切换顺序事件回调\r\n * @param {Function(currentIndex:Number, targetIndex:Number)} option.onChange 拖动结束事件回调\r\n */\r\nexport const sortable = (listContainer, option = {}) => {\r\n\tlet dragNode = null;\r\n\r\n\tlet dragIndex;\r\n\tlet lastTargetIndex;\r\n\r\n\tlistContainer = findOne(listContainer);\r\n\r\n\toption = Object.assign({\r\n\t\tClassOnDrag: CLS_ON_DRAG,\r\n\t\tClassProxy: CLS_DRAG_PROXY,\r\n\t\ttriggerSelector: '',\r\n\t\tonStart: (child) => {\r\n\t\t},\r\n\t\tonInput: (currentIndex, targetIndex) => {\r\n\t\t},\r\n\t\tonChange: (currentIndex, targetIndex) => {\r\n\t\t}\r\n\t}, option);\r\n\r\n\tconst setDraggable = () => {\r\n\t\tif(option.triggerSelector){\r\n\t\t\tfindAll(option.triggerSelector, listContainer).forEach(trigger => trigger.setAttribute('draggable', 'true'));\r\n\t\t}else{\r\n\t\t\tArray.from(listContainer.children).forEach(child => child.setAttribute('draggable', 'true'));\r\n\t\t}\r\n\t};\r\n\r\n\tonDomTreeChange(listContainer, setDraggable, false);\r\n\tsetDraggable();\r\n\r\n\tlistContainer.addEventListener('dragover', e => {\r\n\t\te.preventDefault();\r\n\t\treturn false;\r\n\t});\r\n\r\n\tlistContainer.addEventListener('dragstart', e => {\r\n\t\tdragIndex = lastTargetIndex = null;\r\n\r\n\t\t//如果设置了可拖动对象，且点击处不在对象内，禁止拖动\r\n\t\tif(option.triggerSelector){\r\n\t\t\tif(!e.target.matches(option.triggerSelector) && !e.target.closest(option.triggerSelector)){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//点击了父容器，禁止拖动\r\n\t\tif(e.target === listContainer){\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t//开始拖动\r\n\t\tdragNode = matchChildren(listContainer, e.target);\r\n\t\tdragIndex = nodeIndex(dragNode);\r\n\t\tif(option.onStart(dragNode) === false){\r\n\t\t\tconsole.debug('drag start canceled');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tdragNode.classList.add(option.ClassProxy);\r\n\t\tsetTimeout(() => {\r\n\t\t\tdragNode.classList.remove(option.ClassProxy);\r\n\t\t\tdragNode.classList.add(option.ClassOnDrag);\r\n\t\t}, 0);\r\n\t\treturn false;\r\n\t});\r\n\r\n\tlistContainer.addEventListener('dragenter', e => {\r\n\t\tif(e.target === listContainer){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet childNode = matchChildren(listContainer, e.target);\r\n\t\tif(!dragNode || childNode === listContainer || dragNode === childNode){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet children = Array.from(listContainer.children); //实时从拖动之后的children中拿\r\n\t\tlet currentIndex = children.indexOf(dragNode);\r\n\t\tlet targetIndex = children.indexOf(childNode);\r\n\t\tif(currentIndex > targetIndex){\r\n\t\t\tlistContainer.insertBefore(dragNode, childNode.previousSibling);\r\n\t\t}else{\r\n\t\t\tlistContainer.insertBefore(dragNode, childNode.nextSibling);\r\n\t\t}\r\n\t\tlastTargetIndex = targetIndex;\r\n\t\toption.onInput(currentIndex, targetIndex);\r\n\t});\r\n\r\n\tlistContainer.addEventListener('dragend', e => {\r\n\t\tif(e.target === listContainer){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet childNode = matchChildren(listContainer, e.target);\r\n\t\tdragNode = null;\r\n\t\tchildNode.classList.remove(option.ClassOnDrag);\r\n\t\tif(lastTargetIndex === null || dragIndex === lastTargetIndex){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\toption.onChange(dragIndex, lastTargetIndex);\r\n\t});\r\n}","import {findAll} from \"../Lang/Dom.js\";\r\n\r\n/**\r\n * tab 连接\r\n * @param {Element[]|String} tabs tab节点列表\r\n * @param {Element[]|String} contents 内容节点列表\r\n * @param {Object} option 选项\r\n * @param {string} option.contentActiveClass 内容区激活类名，默认为active\r\n * @param {string} option.tabActiveClass tab区激活类名，默认为active\r\n * @param {string} option.triggerEvent tab激活事件类型，默认为click\r\n */\r\nexport const tabConnect = (tabs, contents, option = {}) => {\r\n\tlet {contentActiveClass = 'active', tabActiveClass = 'active', triggerEvent = 'click'} = option;\r\n\ttabs = findAll(tabs);\r\n\tcontents = findAll(contents);\r\n\ttabs.forEach((tab, idx) => {\r\n\t\ttab.addEventListener(triggerEvent, e => {\r\n\t\t\tcontents.forEach(ctn => {\r\n\t\t\t\tctn.classList.remove(contentActiveClass);\r\n\t\t\t});\r\n\t\t\tcontents[idx].classList.add(contentActiveClass);\r\n\t\t\ttabs.forEach(t => {\r\n\t\t\t\tt.classList.remove(tabActiveClass);\r\n\t\t\t});\r\n\t\t\ttab.classList.add(tabActiveClass);\r\n\t\t});\r\n\t});\r\n}\r\n","import {guid} from \"../Lang/Util.js\";\r\nimport {createDomByHtml, insertStyleSheet} from \"../Lang/Dom.js\";\r\nimport {Theme} from \"./Theme.js\";\r\nimport {escapeHtml} from \"../Lang/Html.js\";\r\nimport {eventDelegate} from \"../Lang/Event.js\";\r\n\r\nconst CLASS_PREFIX = Theme.Namespace + 'toc';\r\nconst COM_ID = Theme.Namespace + 'toc';\r\n\r\nconst STYLE_STR = `\r\n\t.${CLASS_PREFIX}-wrap {}\r\n\t.${CLASS_PREFIX}-wrap ul {list-style:none; padding:0; margin:0}\r\n\t.${CLASS_PREFIX}-wrap li {padding-left:calc((var(--toc-item-level) - 1) * 10px)}\r\n\t.${CLASS_PREFIX}-collapse>ul {display:none;}\r\n\t.${CLASS_PREFIX}-title {display:block; margin:0.1em 0 0; cursor:pointer; user-select:none; padding:0.5em 1em 0.5em 2em;}\r\n\t.${CLASS_PREFIX}-title:hover {border-radius:var(${Theme.CssVar.PANEL_RADIUS})}\r\n\t.${CLASS_PREFIX}-toggle {position:absolute; vertical-align:middle; width:0; height:0; border:0.4em solid transparent; margin:1em 0 0 0.5em; border-top-color:var(${Theme.CssVar.COLOR}); opacity:0; cursor:pointer;}\r\n\t.${CLASS_PREFIX}-collapse>.${CLASS_PREFIX}-toggle {border-top-color:transparent; border-left-color:var(${Theme.CssVar.COLOR}); margin:.75em 0 0 0.5em;}\r\n\tli:hover>.${CLASS_PREFIX}-toggle {opacity:.4}\r\n\t.${CLASS_PREFIX}-wrap .${CLASS_PREFIX}-toggle:hover {opacity:0.8}\r\n`;\r\n\r\nconst renderEntriesListHtml = (entries, config) => {\r\n\tconsole.log(config);\r\n\tlet html = '<ul>';\r\n\tentries.forEach(entry => {\r\n\t\thtml += `<li data-id=\"${entry.id}\" data-level=\"${entry.level}\" style=\"--toc-item-level:${entry.level}\">\r\n\t\t\t\t\t${config.collapseAble && entry.children.length ? `<span class=\"${CLASS_PREFIX}-toggle\"></span>` : ''}\r\n\t\t\t\t\t<span class=\"${CLASS_PREFIX}-title\">${escapeHtml(entry.title)}</span>`;\r\n\t\tif(entry.children.length){\r\n\t\t\thtml += renderEntriesListHtml(entry.children, config);\r\n\t\t}\r\n\t});\r\n\thtml += '</ul>';\r\n\treturn html;\r\n}\r\n\r\nconst searchNodeById = (id, entries) => {\r\n\tfor(let i = 0; i < entries.length; i++){\r\n\t\tif(entries[i].id === id){\r\n\t\t\treturn entries[i].relateNode;\r\n\t\t}\r\n\t\tif(entries[i].children.length){\r\n\t\t\tlet m = searchNodeById(id, entries[i].children);\r\n\t\t\tif(m){\r\n\t\t\t\treturn m;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconsole.warn('no matched', id, entries);\r\n\treturn null;\r\n}\r\n\r\nclass Toc {\r\n\tdom = null; //toc 面板 DOM\r\n\tconfig = {\r\n\t\tcontainer: null, //toc 挂载的容器\r\n\t\tcollapseAble: true, //是否支持折叠\r\n\t};\r\n\r\n\tconstructor(entries, config = {}){\r\n\t\tinsertStyleSheet(STYLE_STR, COM_ID + '-style');\r\n\t\tthis.config = Object.assign(this.config, {container:document.body}, config);\r\n\t\tthis.dom = createDomByHtml(`<div class=\"${CLASS_PREFIX}-wrap\">\r\n\t\t\t\t${renderEntriesListHtml(entries, this.config)}\r\n\t\t\t</div>`, this.config.container);\r\n\t\tthis.dom.querySelectorAll(`li>span.${CLASS_PREFIX}-title`).forEach(span => {\r\n\t\t\tlet id = span.parentNode.getAttribute('data-id');\r\n\t\t\tspan.addEventListener('click', e => {\r\n\t\t\t\tlet n = searchNodeById(id, entries);\r\n\t\t\t\tn.focus();\r\n\t\t\t\tn.scrollIntoView({behavior: 'smooth'});\r\n\t\t\t});\r\n\t\t});\r\n\t\teventDelegate(this.dom, `.${CLASS_PREFIX}-toggle`, 'click', (e, target)=>{\r\n\t\t\tlet li = target.closest('li');\r\n\t\t\tli.classList.toggle(CLASS_PREFIX+'-collapse');\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 从指定 DOM 容器中解析标题节点并创建 TOC\r\n\t * @param {HTMLElement} container\r\n\t * @param {Object} config\r\n\t */\r\n\tstatic createFromHeading(container = null, config = {}){\r\n\t\tcontainer = container || document;\r\n\t\tlet entries = Toc.resolveHeading(container);\r\n\t\treturn new Toc(entries, config);\r\n\t}\r\n\r\n\t/**\r\n\t * 从指定 DOM 节点中解析出标题节点列表\r\n\t * @param {HTMLElement} container\r\n\t */\r\n\tstatic resolveHeading(container){\r\n\t\tlet levelMaps = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\r\n\t\tlet allHeadings = Array.from(container.querySelectorAll(levelMaps.join(','))) || [];\r\n\t\tlet entries = [\r\n\t\t\t//{id, title, level, relateNode, [\r\n\t\t\t// \t\t{id, title, level, relateNode, children}\r\n\t\t\t// \t\t{id, title, level, relateNode, children}\r\n\t\t\t// \t\t{id, title, level, relateNode, children}\r\n\t\t\t// ]}\r\n\t\t\t//{id, title, level, relateNode, children}\r\n\t\t\t//{id, title, level, relateNode, children}\r\n\t\t];\r\n\t\tconst addResult = (title, level, relateNode, list) => {\r\n\t\t\tif(!list.length){\r\n\t\t\t\treturn list.push({id: guid('toc-'), title, level, relateNode, children: []});\r\n\t\t\t}\r\n\t\t\tif(list[list.length - 1].level < level){\r\n\t\t\t\taddResult(title, level, relateNode, list[list.length - 1].children);\r\n\t\t\t}else if(list[list.length - 1].level === level){\r\n\t\t\t\treturn list.push({id: guid('toc-'), title, level, relateNode, children: []});\r\n\t\t\t}else{\r\n\t\t\t\taddResult(title, level, relateNode, list[list.length - 1].children);\r\n\t\t\t}\r\n\t\t}\r\n\t\tallHeadings.forEach(relateNode => {\r\n\t\t\tlet level = parseInt(relateNode.tagName.replace(/\\D+/g, ''), 10);\r\n\t\t\tlet title = relateNode.innerText;\r\n\t\t\taddResult(title, level, relateNode, entries);\r\n\t\t});\r\n\t\tconsole.log(entries);\r\n\t\treturn entries;\r\n\t}\r\n}\r\n\r\nexport {Toc};","import {createDomByHtml, findOne, insertStyleSheet} from \"../Lang/Dom.js\";\r\nimport {Theme} from \"./Theme.js\";\r\nimport {bindNodeActive, BizEvent, triggerDomEvent} from \"../Lang/Event.js\";\r\nimport {Toast} from \"./Toast.js\";\r\nimport {Net, RESPONSE_FORMAT} from \"../Lang/Net.js\";\r\nimport {isFunction} from \"../Lang/Util.js\";\r\nimport {bindFileDrop} from \"./FileDrop.js\";\r\n\r\nconst NS = Theme.Namespace + 'uploader';\r\nconst STYLE_STR = `\r\n\t.${NS}{display:inline-block;position:relative;background-color:#dddddd;width:80px;height:80px;overflow:hidden;}\r\n\t\r\n\t.${NS}-file{width:100%;height:100%;position:absolute;cursor:pointer;display:flex;align-items:center;}\r\n\t.${NS}-file:before{flex:1;font-family:WebCom-iconfont, serif;content:\"\\\\e9de\";font-size:30px;text-align:center;}\r\n\t.${NS}-file input[type=file]{position:absolute;width:1px;height:1px;left:0;top:0;opacity:0;}\r\n\t\r\n\t.${NS}[data-state=\"empty\"]{opacity:0.5}\r\n\t.${NS}[data-state=\"empty\"]:hover{opacity:1; transition:all 0.2s linear}\r\n\t\r\n\t.${NS}[data-state=\"empty\"] :is(.${NS}-handle,.${NS}-progress),\r\n\t.${NS}[data-state=\"pending\"] :is(.${NS}-btn-clean, .${NS}-file, .${NS}-content),\r\n\t.${NS}[data-state=\"error\"] :is(.${NS}-progress,.${NS}-btn-clean),\r\n\t.${NS}[data-state=\"normal\"] :is(.${NS}-progress,.${NS}-btn-cancel),\r\n\t.${NS}[data-state=\"normal\"] .${NS}-file:before{\r\n\t\tdisplay:none;\r\n\t}\r\n\t\r\n\t.${NS}-handle{width:100%;position:absolute;padding:.25em;text-align:right;box-sizing:border-box;bottom:0;}\r\n\t.${NS}-content{width:100%;height:100%;}\r\n\t.${NS}-content img{display:inline-block;width:100%;height:100%;object-fit:cover;}\r\n\t\r\n\t.${NS}-progress{width:100%;height:100%;padding:0 .5em;display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:center;font-size:0.9em;color:gray;user-select:none;}\r\n\t.${NS}-progress progress{width:100%; transition:all 1s linear}\r\n\t\r\n\t.${NS}-btn{display:inline-block;user-select:none;cursor:pointer;color:white;text-shadow:1px 1px 1px gray;opacity:0.7;}\r\n\t.${NS}-btn:hover{opacity:1;}\r\n\t.${NS}-btn:before{content:\"\"; font-family:WebCom-iconfont, serif}\r\n\t.${NS}-btn-cancel:before{content:\"\\\\e61a\"}\r\n\t.${NS}-btn-clean:before{content:\"\\\\e61b\"}\r\n`;\r\n\r\nexport const UPLOADER_IMAGE_DEFAULT_CLASS = `${NS}-image`;\r\nexport const UPLOADER_FILE_DEFAULT_CLASS = `${NS}-file`;\r\n\r\nexport const UPLOAD_STATE_EMPTY = 'empty'; //空值情况\r\nexport const UPLOAD_STATE_PENDING = 'pending'; //上传中\r\nexport const UPLOAD_STATE_ERROR = 'error'; //上传失败\r\nexport const UPLOAD_STATE_NORMAL = 'normal'; //正常情况(有值)\r\n\r\nexport const FILE_TYPE_STATIC_IMAGE = ['image/png', 'image/jpeg', 'image/jpg', 'image/webp', 'image/bmp']; //常见静态图片\r\nexport const FILE_TYPE_IMAGE = ['image/*'];\r\nexport const FILE_TYPE_VIDEO = ['video/*'];\r\nexport const FILE_TYPE_AUDIO = ['audio/*'];\r\nexport const FILE_TYPE_DOCUMENT = ['.txt', '.md', '.doc', '.docx'];\r\nexport const FILE_TYPE_SHEET = ['.xls', '.xlsx', '.csv'];\r\nexport const FILE_TYPE_ZIP = ['.7z', '.zip', '.rar'];\r\n\r\n/**\r\n * 缺省请求处理方法\r\n * 接收后台返回格式为：{code, message, data:{name,value,thumb}} 格式\r\n * @param {String} url\r\n * @param {Object} fileMap\r\n * @param {Object} callbacks 回调函数合集对象\r\n * @param {Function} callbacks.onSuccess 成功回调\r\n * @param {Function} callbacks.onError 失败回调\r\n * @param {Function} callbacks.onAbort 中断回调\r\n * @param {Function} callbacks.onProgress 进度回调\r\n * @return {XMLHttpRequest}\r\n * @constructor\r\n */\r\nconst DEFAULT_REQUEST_HANDLE = (url, fileMap, callbacks) => {\r\n\tlet n = Net.uploadFile(url, fileMap, null, {responseFormat: RESPONSE_FORMAT.JSON});\r\n\tn.onProgress.listen(callbacks.onProgress);\r\n\tn.onError.listen(callbacks.onError);\r\n\tn.onResponse.listen(rspObj => {\r\n\t\tif(rspObj.code === undefined || rspObj.message === undefined){\r\n\t\t\tcallbacks.onError(\"{code, message} 字段必须提供（code=0表示成功）\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(rspObj.code !== 0){\r\n\t\t\tcallbacks.onError(rspObj.message);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcallbacks.onSuccess({\r\n\t\t\t...rspObj.data,\r\n\t\t\terror: null\r\n\t\t});\r\n\t});\r\n\treturn n.xhr;\r\n}\r\n\r\n/**\r\n * 合并非null值\r\n * @param {Object} target\r\n * @param {Object} source\r\n */\r\nconst mergeNoNull = (target, source) => {\r\n\tfor(let i in source){\r\n\t\tif(source[i] !== null){\r\n\t\t\ttarget[i] = source[i];\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * 中断上传\r\n * @param {Uploader} up\r\n */\r\nconst abortUpload = up => {\r\n\ttry{\r\n\t\tup.xhr && up.xhr.abort()\r\n\t}catch(err){\r\n\t\tconsole.error(err)\r\n\t}\r\n\tup.onAbort.fire();\r\n\tsetState(up, up.value ? UPLOAD_STATE_NORMAL : UPLOAD_STATE_EMPTY);\r\n}\r\n\r\n/**\r\n * 更新上传状态\r\n * @param {Uploader} up\r\n * @param {String} state\r\n * @param {*} data\r\n */\r\nconst setState = (up, state, data = null) => {\r\n\tconst fileEl = findOne('input[type=file]', up.dom);\r\n\tconst contentCtn = findOne(`.${NS}-content`, up.dom);\r\n\tup.dom.setAttribute('data-state', state);\r\n\tup.dom.title = '';\r\n\tswitch(state){\r\n\t\tcase UPLOAD_STATE_EMPTY:\r\n\t\t\tfileEl.value = '';\r\n\t\t\tfileEl.required = !!fileEl.dataset.required;\r\n\t\t\tcontentCtn.innerHTML = '';\r\n\t\t\tbreak;\r\n\t\tcase UPLOAD_STATE_PENDING:\r\n\t\t\tbreak;\r\n\t\tcase UPLOAD_STATE_NORMAL:\r\n\t\t\tfileEl.required = false;\r\n\t\t\tup.dom.title = up.name;\r\n\t\t\tup.dom.title = up.name;\r\n\t\t\tcontentCtn.innerHTML = `<img alt=\"\" src=\"${up.thumb}\">`;\r\n\t\t\tbreak;\r\n\t\tcase UPLOAD_STATE_ERROR:\r\n\t\t\tfileEl.value = '';\r\n\t\t\tfileEl.required = !!fileEl.dataset.required;\r\n\t\t\tsetState(up, up.value ? UPLOAD_STATE_NORMAL : UPLOAD_STATE_EMPTY);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tthrow \"todo\";\r\n\t}\r\n}\r\n\r\n/**\r\n * 校验返回格式是否符合标准\r\n * @param response\r\n */\r\nconst responseFormatValidate = response => {\r\n\tlet vs = ['value', 'name', 'thumb', 'error'];\r\n\tif(typeof (response) !== 'object'){\r\n\t\tthrow `文件上传返回结果必须是对象，包含 ${vs.join('、')} 属性`;\r\n\t}\r\n\tlet objKeys = Object.keys(response);\r\n\tvs.forEach(v => {\r\n\t\tif(!objKeys.includes(v)){\r\n\t\t\tthrow `文件上传返回对象必须包含 ${v} 属性`;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 上传组件\r\n */\r\nexport class Uploader {\r\n\tstate = UPLOAD_STATE_EMPTY;\r\n\txhr = null;\r\n\r\n\tdom = null; //组件节点\r\n\tvalue = null; //上传结果值\r\n\tthumb = ''; //上传结果缩略图URL\r\n\tname = ''; //上传结果名称\r\n\r\n\tonSuccess = new BizEvent();\r\n\tonAbort = new BizEvent();\r\n\tonUploading = new BizEvent();\r\n\tonClean = new BizEvent();\r\n\tonError = new BizEvent();\r\n\r\n\tstatic globalUploadUrl = null; //全局默认上传地址。如果option里面uploadUrl为空，则使用该配置\r\n\tstatic globalRequestHandle = DEFAULT_REQUEST_HANDLE; //默认请求方法，有需要可以指定\r\n\r\n\toption = {\r\n\t\tuploadUrl: null, //上传接口地址，缺省使用 globalUploadUrl\r\n\t\tuploadFileFieldName: 'file', //上传接口调用中文件名称对应变量名称\r\n\t\trequired: false, //上传组件是否必填\r\n\t\tallowFileTypes: [], //允许文件类型，格式为 input[type=file] 中的 accept 属性\r\n\t\tfileSizeLimit: 0, //允许最大上传文件大小\r\n\t\trequestHandle: null, //上传处理动作（方法请参考 uploadFile 函数），缺省使用 globalRequestHandle\r\n\t};\r\n\r\n\t/**\r\n\t * 通过input绑定文件上传，这个input可以是file，也可以是hidden\r\n\t * @param {HTMLFormElement} inputEl\r\n\t * @param {Object} initData\r\n\t * @param {Object} option\r\n\t * @param {String|Function} option.uploadUrl\r\n\t * @param {String} option.uploadFileFieldName\r\n\t * @param {Boolean} option.required\r\n\t * @param {String} option.allowFileTypes\r\n\t * @param {Number} option.fileSizeLimit\r\n\t * @param {Function} option.requestHandle\r\n\t * @return {Uploader}\r\n\t */\r\n\tstatic bindInput(inputEl, initData = {}, option = {}){\r\n\t\tlet name = initData.name || inputEl.name;\r\n\t\tlet value = initData.value || inputEl.value;\r\n\t\tlet accepts = inputEl.accept.split(',');\r\n\t\tlet virtualDom = document.createElement('span');\r\n\t\toption.required = inputEl.required;\r\n\t\tif(accepts.length){\r\n\t\t\toption.allowFileTypes = accepts;\r\n\t\t}\r\n\t\tinputEl.parentNode.insertBefore(virtualDom, inputEl.nextSibling);\r\n\t\tinputEl.required = false;\r\n\t\tinputEl.style.cssText = 'display:none';\r\n\t\tconst up = new Uploader(virtualDom, {name, value, thumb: initData.thumb}, option);\r\n\t\tup.onClean.listen(() => {\r\n\t\t\tinputEl.value = '';\r\n\t\t\ttriggerDomEvent(inputEl, 'change');\r\n\t\t});\r\n\t\tif(inputEl.type !== 'file'){\r\n\t\t\tup.onSuccess.listen(data => {\r\n\t\t\t\tinputEl.value = data.value;\r\n\t\t\t\ttriggerDomEvent(inputEl, 'change');\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn up;\r\n\t}\r\n\r\n\t/**\r\n\t * 构造函数\r\n\t * @param {Node} container\r\n\t * @param {Object} initData 初始化数据（可为空）\r\n\t * @param {String} initData.value 初始化数据 - 值（可为空）\r\n\t * @param {String} initData.thumb 初始化数据 - 缩略图（可为空）\r\n\t * @param {String} initData.name 初始化数据 - 显示名称（可为空）\r\n\t * @param {Object} option\r\n\t * @param {String} option.uploadUrl\r\n\t * @param {String} option.uploadFileFieldName\r\n\t * @param {Boolean} option.required\r\n\t * @param {String} option.allowFileTypes\r\n\t * @param {Number} option.fileSizeLimit\r\n\t * @param {Function} option.requestHandle\r\n\t */\r\n\tconstructor(container, initData = {}, option = {\r\n\t\tuploadUrl: null,\r\n\t\trequired: null,\r\n\t\tfileSizeLimit: null,\r\n\t\tallowFileTypes: null,\r\n\t}){\r\n\t\tinsertStyleSheet(STYLE_STR, Theme.Namespace + 'uploader');\r\n\t\tthis.value = initData.value || '';\r\n\t\tthis.thumb = initData.thumb || '';\r\n\t\tthis.name = initData.name || '';\r\n\r\n\t\tmergeNoNull(this.option, option);\r\n\t\tconst uploadUrl = this.option.uploadUrl || Uploader.globalUploadUrl;\r\n\t\tconst requestHandle = this.option.requestHandle || Uploader.globalRequestHandle;\r\n\t\tif(!uploadUrl){\r\n\t\t\tthrow \"上传组件需要提供上传接口地址：option.uploadUrl 或者 Uploader.globalUploadUrl\";\r\n\t\t}\r\n\t\tif(!requestHandle){\r\n\t\t\tthrow \"上传组件需要提供上传请求函数：option.requestHandle 或者 Uploader.globalRequestHandle\"\r\n\t\t}\r\n\t\t//default error handle\r\n\t\tthis.onError.listen(err => {\r\n\t\t\tToast.showError(err);\r\n\t\t});\r\n\t\tlet acceptStr = this.option.allowFileTypes.join(',');\r\n\t\tconst html =\r\n\t\t\t`<div class=\"${NS}\" data-state=\"${this.state}\">\r\n\t\t\t<label class=\"${NS}-file\">\r\n\t\t\t\t<input type=\"file\" tabindex=\"0\" accept=\"${acceptStr}\" data-required=\"${this.option.required ? 'required' : ''}\">\r\n\t\t\t</label>\r\n\t\t\t<div class=\"${NS}-progress\">\r\n\t\t\t\t<progress max=\"100\" value=\"0\">0%</progress>\r\n\t\t\t\t<span>0%</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"${NS}-content\"></div>\r\n\t\t\t<div class=\"${NS}-handle\">\r\n\t\t\t\t<span tabindex=\"0\" class=\"${NS}-btn ${NS}-btn-cancel\" title=\"取消上传\"></span>\r\n\t\t\t\t<span tabindex=\"0\" class=\"${NS}-btn ${NS}-btn-clean\" title=\"清除\"></span>\r\n\t\t\t</div>\r\n\t\t</div>`;\r\n\t\tthis.dom = createDomByHtml(html, container);\r\n\t\tbindNodeActive(findOne(`.${NS}-btn-clean`, this.dom), () => {\r\n\t\t\tsetState(this, UPLOAD_STATE_EMPTY);\r\n\t\t\tthis.onClean.fire();\r\n\t\t});\r\n\t\tbindNodeActive(findOne(`.${NS}-btn-cancel`, this.dom), () => {\r\n\t\t\tabortUpload(this);\r\n\t\t});\r\n\t\tsetState(this, this.value ? UPLOAD_STATE_NORMAL : UPLOAD_STATE_EMPTY);\r\n\t\tbindFileDrop(this.dom, {\r\n\t\t\tonFile: (file) => {\r\n\t\t\t\tif(file.size < 1){\r\n\t\t\t\t\tToast.showError('所选的文件内容为空');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.option.fileSizeLimit && file.size > this.option.fileSizeLimit){\r\n\t\t\t\t\tToast.showError('所选的文件大小超出限制');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetState(this, UPLOAD_STATE_PENDING);\r\n\t\t\t\tthis.onUploading.fire();\r\n\t\t\t\tthis.xhr = requestHandle(isFunction(uploadUrl) ? uploadUrl() : uploadUrl, {[this.option.uploadFileFieldName]: file}, {\r\n\t\t\t\t\tonSuccess: rspObj => {\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tresponseFormatValidate(rspObj);\r\n\t\t\t\t\t\t\tlet {value, thumb, name} = rspObj;\r\n\t\t\t\t\t\t\tthis.value = value;\r\n\t\t\t\t\t\t\tthis.thumb = thumb;\r\n\t\t\t\t\t\t\tthis.name = name;\r\n\t\t\t\t\t\t\tsetState(this, UPLOAD_STATE_NORMAL);\r\n\t\t\t\t\t\t\tthis.onSuccess.fire(rspObj);\r\n\t\t\t\t\t\t}catch(err){\r\n\t\t\t\t\t\t\tsetState(this, UPLOAD_STATE_ERROR, err);\r\n\t\t\t\t\t\t\tthis.onError.fire(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonProgress: (loaded, total) => {\r\n\t\t\t\t\t\tconst progressEl = findOne('progress', this.dom);\r\n\t\t\t\t\t\tconst progressPnt = findOne(`.${NS}-progress span`, this.dom);\r\n\t\t\t\t\t\tprogressEl.value = loaded;\r\n\t\t\t\t\t\tprogressEl.max = total;\r\n\t\t\t\t\t\tprogressPnt.innerHTML = Math.round(100 * loaded / total) + '%';\r\n\t\t\t\t\t\tsetState(this, UPLOAD_STATE_PENDING);\r\n\t\t\t\t\t\tthis.onUploading.fire();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonError: (err) => {\r\n\t\t\t\t\t\tsetState(this, UPLOAD_STATE_ERROR, err);\r\n\t\t\t\t\t\tthis.onError.fire(err);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonAbort: () => {\r\n\t\t\t\t\t\tsetState(this, UPLOAD_STATE_ERROR, '上传被中断');\r\n\t\t\t\t\t\tthis.onAbort.fire();\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 停止上传\r\n\t */\r\n\tabort(){\r\n\t\tabortUpload(this);\r\n\t}\r\n\r\n\t/**\r\n\t * 获取当前值\r\n\t * @return {null}\r\n\t */\r\n\tgetValue(){\r\n\t\treturn this.value;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取当前值（异步）\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tgetValueAsync(){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif(this.state !== UPLOAD_STATE_PENDING){\r\n\t\t\t\tresolve(this.getValue());\r\n\t\t\t}else{\r\n\t\t\t\tlet success_handle = () => {\r\n\t\t\t\t\tresolve(this.getValue());\r\n\t\t\t\t\tthis.onSuccess.remove(success_handle);\r\n\t\t\t\t};\r\n\t\t\t\tlet error_handle = (msg) => {\r\n\t\t\t\t\treject(msg);\r\n\t\t\t\t\tthis.onError.remove(error_handle);\r\n\t\t\t\t}\r\n\t\t\t\tthis.onSuccess.listen(success_handle)\r\n\t\t\t\tthis.onError.listen(error_handle);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}","import {Toast} from \"../Widget/Toast.js\";\r\nimport {HTTP_METHOD, Net, REQUEST_FORMAT, RESPONSE_FORMAT} from \"../Lang/Net.js\";\r\nimport {formSerializeJSON, formSerializeString} from \"../Lang/Form.js\";\r\nimport {BizEvent} from \"../Lang/Event.js\";\r\n\r\nexport const ASYNC_SUBMITTING_FLAG = 'data-submitting';\r\n\r\n/**\r\n * 从提交事件中获取操作按钮绑定的表单动作，缺省返回表单action\r\n * @param {HTMLFormElement} form\r\n * @param {Event|Null} event\r\n * @returns {string}\r\n */\r\nconst getSubmitterFormAction = (form, event = null) => {\r\n\t//这里不能直接取 submitter.FormAction, FormAction会被浏览器赋值为当前页面地址。\r\n\tif(event && event.submitter && event.submitter.getAttribute('formaction')){\r\n\t\treturn event.submitter.getAttribute('formaction');\r\n\t}\r\n\treturn form.action;\r\n}\r\n\r\n/**\r\n * 异步组件\r\n * 参数：\r\n * ACAsync.FORM_DATA_PACKAGE_TYPE 设置数据打包方式，如后端是PHP，为兼容PHP数组识别语法，请使用：PACKAGE_TYPE_STRING 方式打包\r\n * 缺省为 PACKAGE_TYPE_JSON 方式打包\r\n * node[data-async-url] | a[href] | form[action] 请求url\r\n * node[data-async-method] | form[method] 请求方法，缺省为GET\r\n * node[data-async-data] | form{*} 请求数据\r\n */\r\nexport class ACAsync {\r\n\tstatic REQUEST_FORMAT = REQUEST_FORMAT.JSON;\r\n\r\n\tstatic onSuccess = new BizEvent();\r\n\r\n\t//默认成功回调处理函数\r\n\t//允许外部重新定义\r\n\tstatic COMMON_SUCCESS_RESPONSE_HANDLE = (rsp) => {\r\n\t\tlet next = () => {\r\n\t\t\tif(rsp.forward_url){\r\n\t\t\t\tparent.location.href = rsp.forward_url;\r\n\t\t\t}else{\r\n\t\t\t\tparent.location.reload();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(rsp.message){\r\n\t\t\tlet tm = Toast.DEFAULT_TIME_MAP[Toast.TYPE_SUCCESS];\r\n\t\t\tToast.showToast(rsp.message, Toast.TYPE_SUCCESS, tm);\r\n\t\t\tsetTimeout(next, Math.max(tm - 500, 0));\r\n\t\t}else{\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Node} node\r\n\t * @param {Object} param\r\n\t * @param {String} param.url\r\n\t * @param {String} param.data\r\n\t * @param {String} param.method\r\n\t * @param {String} param.requestformat\r\n\t * @param {String} param.onsuccess 成功回调，如果指定会覆盖默认成功回调\r\n\t * @param event\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tstatic active(node, param, event){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tif(node.getAttribute(ASYNC_SUBMITTING_FLAG)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet url, data, method,\r\n\t\t\t\t//缺省使用全局ASync设定\r\n\t\t\t\trequestFormat = param.requestformat ? param.requestformat.toUpperCase() : ACAsync.REQUEST_FORMAT,\r\n\t\t\t\tonsuccess = ACAsync.COMMON_SUCCESS_RESPONSE_HANDLE,\r\n\t\t\t\tsubmitter = null;\r\n\r\n\t\t\tif(param.onsuccess){\r\n\t\t\t\tif(typeof (param.onsuccess) === 'string'){\r\n\t\t\t\t\tonsuccess = window[param.onsuccess];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tonsuccess = param.onsuccess;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tmethod = param.method;\r\n\t\t\tif(node.tagName === 'FORM'){\r\n\t\t\t\turl = getSubmitterFormAction(node, event);\r\n\t\t\t\tsubmitter = event.submitter;\r\n\t\t\t\tdata = requestFormat === REQUEST_FORMAT.JSON ? formSerializeJSON(node) : formSerializeString(node);\r\n\t\t\t\tmethod = method || node.method;\r\n\t\t\t}else if(node.tagName === 'A'){\r\n\t\t\t\turl = node.href;\r\n\t\t\t}\r\n\r\n\t\t\t//优先使用参数传参\r\n\t\t\turl = param.url || url;\r\n\t\t\tdata = param.data || data;\r\n\r\n\t\t\t//修正请求方法\r\n\t\t\tmethod = HTTP_METHOD.resolve(method);\r\n\r\n\t\t\tlet loader = Toast.showLoadingLater('正在请求中，请稍候···');\r\n\t\t\tnode.setAttribute(ASYNC_SUBMITTING_FLAG, '1');\r\n\t\t\tsubmitter && submitter.setAttribute(ASYNC_SUBMITTING_FLAG, '1');\r\n\t\t\tlet sender = method === HTTP_METHOD.GET ? Net.get : Net.post;\r\n\r\n\t\t\t//当前Async仅支持JSON方式返回\r\n\t\t\tsender(url, data, {requestFormat, responseFormat:RESPONSE_FORMAT.JSON}).then(rsp => {\r\n\t\t\t\tif(rsp.code === 0){\r\n\t\t\t\t\tACAsync.onSuccess.fire(node, rsp);\r\n\t\t\t\t\tonsuccess(rsp);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.error('Request Error:', url, data, method, rsp);\r\n\t\t\t\t\tToast.showError(rsp.message || '系统错误');\r\n\t\t\t\t\treject(`系统错误(${rsp.message})`);\r\n\t\t\t\t}\r\n\t\t\t}, err => {\r\n\t\t\t\tToast.showError(err);\r\n\t\t\t\treject(err);\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tnode.removeAttribute(ASYNC_SUBMITTING_FLAG);\r\n\t\t\t\tsubmitter && submitter.removeAttribute(ASYNC_SUBMITTING_FLAG);\r\n\t\t\t\tloader && loader.hide();\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n","import {Toast} from \"../Widget/Toast.js\";\r\nimport {findAll} from \"../Lang/Dom.js\";\r\nimport {escapeAttr, escapeHtml} from \"../Lang/Html.js\";\r\nimport {Dialog, DLG_CLS_WEAK_BTN} from \"../Widget/Dialog.js\";\r\nimport {Theme} from \"../Widget/Theme.js\";\r\nimport {guid} from \"../Lang/Util.js\";\r\nimport {triggerDomEvent} from \"../Lang/Event.js\";\r\nimport {getAvailableElements} from \"../Lang/Form.js\";\r\n\r\nconst NS = Theme.Namespace + 'ac-batch-filler';\r\n\r\nconst SUPPORT_INPUT_TYPES = [\r\n\t// 'button',\r\n\t// 'checkbox',\r\n\t'color',\r\n\t'date',\r\n\t'datetime',\r\n\t'datetime-local',\r\n\t'month',\r\n\t'week',\r\n\t'time',\r\n\t'email',\r\n\t// 'file',\r\n\t// 'hidden',\r\n\t// 'image',\r\n\t'number',\r\n\t'password',\r\n\t// 'radio',\r\n\t'range',\r\n\t// 'reset',\r\n\t'search',\r\n\t// 'submit',\r\n\t'tel',\r\n\t'text',\r\n\t'url',\r\n];\r\n\r\nconst KEEP_ATTRIBUTES = ['type', 'required', 'pattern', 'placeholder', 'size', 'maxlength', 'title', 'min', 'max', 'step', 'multiple'];\r\n\r\nconst cloneElementAsHtml = (el, newId = '') => {\r\n\tlet keep_attr_str = [];\r\n\tif(newId){\r\n\t\tkeep_attr_str.push(`id=\"${escapeAttr(newId)}\"`);\r\n\t}\r\n\tKEEP_ATTRIBUTES.forEach(attr_name => {\r\n\t\tif(el.hasAttribute(attr_name)){\r\n\t\t\tlet attr_val = el.getAttribute(attr_name);\r\n\t\t\tkeep_attr_str.push(attr_val !== null ? `${attr_name}=\"${escapeAttr(attr_val)}\"` : attr_name);\r\n\t\t}\r\n\t});\r\n\tswitch(el.tagName){\r\n\t\tcase 'SELECT':\r\n\t\t\tlet option_html = '';\r\n\t\t\tArray.from(el.options).forEach(opt => {\r\n\t\t\t\toption_html +=\r\n\t\t\t\t\t`<option value=\"${escapeAttr(opt.value) || ''}\" ${opt.disabled ? 'disabled' : ''}>\r\n\t\t\t\t\t\t${escapeHtml(opt.innerText)}\r\n\t\t\t\t\t</option>`;\r\n\t\t\t});\r\n\t\t\treturn `<select ${keep_attr_str.join(' ')}>${option_html}</select>`;\r\n\t\tcase 'INPUT':\r\n\t\t\tif(SUPPORT_INPUT_TYPES.includes(el.type.toLowerCase())){\r\n\t\t\t\treturn `<input ${keep_attr_str.join(' ')}>`;\r\n\t\t\t}\r\n\t\t\tthrow \"no support type\" + el.type;\r\n\t\tcase 'TEXTAREA':\r\n\t\t\treturn `<textarea ${keep_attr_str.join(' ')}></textarea>`;\r\n\t\tdefault:\r\n\t\t\tthrow \"no support type\" + el.type;\r\n\t}\r\n}\r\n\r\nconst initElement = el => {\r\n\tif(el.tagName === 'INPUT' && (el.type === 'checkbox' || el.type === 'radio')){\r\n\t\tel.checked = false;\r\n\t}else if(el.tagName === 'SELECT'){\r\n\t\tArray.from(el.options).forEach(opt => {\r\n\t\t\topt.selected = false;\r\n\t\t});\r\n\t}else{\r\n\t\tel.value = '';\r\n\t}\r\n}\r\n\r\n/**\r\n * 同步两个元素值\r\n * @param fromEl\r\n * @param toEl\r\n */\r\nconst syncValue = (fromEl, toEl) => {\r\n\tif(fromEl.tagName === 'INPUT' && (fromEl.type === 'checkbox' || fromEl.type === 'radio')){\r\n\t\ttoEl.checked = fromEl.checked;\r\n\t}else if(fromEl.tagName === 'SELECT' && fromEl.multiple){\r\n\t\tArray.from(toEl.options).forEach(opt => {\r\n\t\t\topt.selected = false;\r\n\t\t});\r\n\t\tArray.from(fromEl.selectedOptions).forEach(opt => {\r\n\t\t\tArray.from(toEl.options)[opt.index].selected = true;\r\n\t\t});\r\n\t}else{\r\n\t\ttoEl.value = fromEl.value;\r\n\t}\r\n}\r\n\r\n/**\r\n * 批量填充功能\r\n */\r\nexport class ACBatchFiller {\r\n\tstatic active(node, param, event){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet relative_elements = findAll(param.relative_elements);\r\n\r\n\t\t\tif(!relative_elements.length){\r\n\t\t\t\tthrow \"param.selector or param.container_selector required\";\r\n\t\t\t}\r\n\r\n\t\t\trelative_elements = relative_elements.filter(el => {\r\n\t\t\t\treturn el.type !== 'BUTTON' && el.type !== 'RESET' && el.tagName !== 'BUTTON';\r\n\t\t\t});\r\n\r\n\t\t\tif(!relative_elements.length){\r\n\t\t\t\tToast.showInfo(\"没有可以填写的输入框\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet id = guid(NS);\r\n\t\t\tlet shadow_el_html = cloneElementAsHtml(relative_elements[0], id);\r\n\t\t\tlet el, dlg, form;\r\n\t\t\tlet label_html = param.title || '批量设置';\r\n\t\t\tlet doFill = () => {\r\n\t\t\t\trelative_elements.forEach(element => {\r\n\t\t\t\t\tsyncValue(el, element);\r\n\t\t\t\t\ttriggerDomEvent(element, 'change');\r\n\t\t\t\t});\r\n\t\t\t\tdlg.close();\r\n\t\t\t};\r\n\r\n\t\t\tdlg = Dialog.show('',\r\n`\r\n<style>\r\n.${NS} {padding:2em 2em 1em 2em}\r\n.${NS} label {font-size:1.1em; margin-bottom:.75em; display:block;}\r\n.${NS} input,\r\n.${NS} textarea,\r\n.${NS} select {width:100% !important; box-sizing:border-box; min-height:2.25em;}\r\n.${NS} textarea {min-height:5em; resize:vertical}\r\n</style>\r\n<form class=\"${NS}\">\r\n\t<label for=\"${id}\">${label_html}</label>\r\n\t<div>${shadow_el_html}</div>\r\n</form>`, {\r\n\t\t\t\t\twidth: 350,\r\n\t\t\t\t\tbuttons: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdefault: true,\r\n\t\t\t\t\t\t\ttitle: '确定', callback: () => {\r\n\t\t\t\t\t\t\t\tdoFill();\r\n\t\t\t\t\t\t\t\tdlg.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{title: '关闭', className: DLG_CLS_WEAK_BTN, ariaLabel: 'Close'}\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\tel = getAvailableElements(dlg.dom, true)[0];\r\n\t\t\tel.focus();\r\n\t\t\tinitElement(el);\r\n\t\t\tform = dlg.dom.querySelector('form');\r\n\t\t\tform.addEventListener('submit', doFill);\r\n\t\t\tresolve();\r\n\t\t});\r\n\t}\r\n}\r\n","import {findAll, findOne, nodeIndex} from \"../Lang/Dom.js\";\r\nimport {getAvailableElements} from \"../Lang/Form.js\";\r\nimport {ACBatchFiller} from \"./ACBatchFiller.js\";\r\n\r\nconst findParentTBody = (node) => {\r\n\tlet tbody = node.closest('tbody') || findOne('tbody', node.closest('table')) || node.closest('table');\r\n\tif(!tbody){\r\n\t\tthrow \"no table body found\";\r\n\t}\r\n\treturn tbody;\r\n}\r\n\r\n/**\r\n * 计算当前节点所在的列序号\r\n * @param node\r\n * @return {number}\r\n */\r\nconst nodeInColumnIndex = (node) => {\r\n\tlet column_index = 0;\r\n\tif(node.closest('th')){\r\n\t\tcolumn_index = nodeIndex(node.closest('th'));\r\n\t}else if(node.closest('td')){\r\n\t\tcolumn_index = nodeIndex(node.closest('td'));\r\n\t}else{\r\n\t\tthrow \"column index no detected\";\r\n\t}\r\n\treturn column_index;\r\n}\r\n\r\n/**\r\n * 批量填充功能\r\n */\r\nexport class ACColumnFiller {\r\n\tstatic active(node, param, event){\r\n\t\tconst tbody = findParentTBody(node);\r\n\t\tlet column_idx = nodeInColumnIndex(node);\r\n\t\tlet relative_elements = [];\r\n\t\tfindAll('tr>td, tr>th', tbody).forEach(cell => {\r\n\t\t\tif(nodeIndex(cell) === column_idx){\r\n\t\t\t\trelative_elements.push(getAvailableElements(cell, true)[0]);\r\n\t\t\t}\r\n\t\t});\r\n\t\tparam.relative_elements = relative_elements;\r\n\t\treturn ACBatchFiller.active(node, param);\r\n\t}\r\n}\r\n","import {Dialog} from \"../Widget/Dialog.js\";\r\n\r\n/**\r\n * 确认对话框\r\n * 参数：\r\n * node[data-confirm-title] 标题，缺省为”确认“\r\n * node[data-confirm-message] 内容\r\n */\r\nexport class ACConfirm {\r\n\tstatic active(node, param, event){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet title = param.title;\r\n\t\t\tlet message = param.message || '确认进行该项操作？';\r\n\t\t\tevent.preventDefault();\r\n\t\t\tDialog.confirm(title || '确认', message).then(resolve, reject);\r\n\t\t});\r\n\t}\r\n}\r\n","import {copy} from \"../Widget/Copy.js\";\r\nimport {Theme} from \"../Widget/Theme.js\";\r\nimport {createDomByHtml, insertStyleSheet} from \"../Lang/Dom.js\";\r\nimport {bindNodeActive} from \"../Lang/Event.js\";\r\nimport {PAIR_TAGS} from \"../Lang/Html.js\";\r\n\r\nconst NS = Theme.Namespace + 'ac-copy';\r\n\r\n/**\r\n * 复制内容\r\n * 参数：\r\n * *[data-copy-content]\r\n * *[data-copy-trigger\r\n * 使用举例：\r\n * 1：单节点使用：\r\n * <input type=\"button\" value=\"复制链接” data-copy-content=\"http://abc.com\" data-component=\"copy\"/>\r\n * 2：内容区使用：\r\n * <span data-component=\"copy\">Text Here</span>\r\n */\r\nexport class ACCopy {\r\n\tstatic TRIGGER_SELF = 1;\r\n\tstatic TRIGGER_INSIDE = 2;\r\n\r\n\tstatic COPY_CLASS = NS;\r\n\r\n\t/**\r\n\t * @param {Node} node\r\n\t * @param {Object} param\r\n\t * @param {Number} param.trigger 触发器类型，TRIGGER_SELF：当前节点，TRIGGER_INSIDE：内部额外新建触发器\r\n\t * @param {String} param.content 额外指定复制内容\r\n\t */\r\n\tstatic init(node, param = {}){\r\n\t\tinsertStyleSheet(`\r\n\t\t\t.${NS} {cursor:pointer; opacity:0.7; margin-left:0.2em;}\r\n\t\t\t.${NS}:hover {opacity:1}\r\n\t\t\t.${NS}:before {font-family:\"${Theme.IconFont}\", serif; content:\"\\\\e6ae\"}\r\n\t\t`, Theme.Namespace + 'ac-copy');\r\n\r\n\t\tlet trigger = node;\r\n\t\tif((!param.trigger && PAIR_TAGS.includes(node.tagName)) ||\r\n\t\t\t(param.trigger && param.trigger === ACCopy.TRIGGER_INSIDE)){\r\n\t\t\ttrigger = createDomByHtml(`<span class=\"${ACCopy.COPY_CLASS}\" tabindex=\"1\" title=\"复制\"></span>`, node);\r\n\t\t}\r\n\t\tbindNodeActive(trigger, e => {\r\n\t\t\tlet content = param.content || node.innerText;\r\n\t\t\tcopy(content, true);\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n}","import {Dialog} from \"../Widget/Dialog.js\";\r\nimport {cutString} from \"../Lang/String.js\";\r\n\r\n/**\r\n * 对话框组件\r\n * 参数：\r\n * node[data-dialog-url] iframe对话框页面地址\r\n * node[data-content] 对话框内容\r\n * a[title] | node[text] 对话框标题\r\n */\r\nexport class ACDialog {\r\n\tstatic active(node, param, event){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet title, url, content;\r\n\t\t\tif(node.tagName === 'A'){\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\turl = node.href || url;\r\n\t\t\t\ttitle = node.title || title;\r\n\t\t\t}\r\n\t\t\tif(node.innerText){\r\n\t\t\t\ttitle = cutString(node.innerText, 30);\r\n\t\t\t}\r\n\r\n\t\t\ttitle = param.title || title;\r\n\t\t\turl = param.url || url;\r\n\t\t\tcontent = param.content || content;\r\n\t\t\tif(url){\r\n\t\t\t\tcontent = {src: url};\r\n\t\t\t}\r\n\t\t\tDialog.show(title || '对话框', content, param);\r\n\t\t\tresolve();\r\n\t\t})\r\n\t}\r\n}\r\n","/**\r\n * 高亮内容\r\n * 参数：\r\n * *[data-highlight-keyword]\r\n * *[data-hl-kw]\r\n */\r\nimport {nodeHighlight} from \"../Lang/Dom.js\";\r\n\r\nexport class ACHighlight {\r\n\tstatic cssClass = 'highlight';\r\n\r\n\tstatic init(node, params = {}){\r\n\t\tlet kw = (params.keyword || params.kw || '').trim();\r\n\t\tif(kw){\r\n\t\t\tnodeHighlight(node, kw, ACHighlight.cssClass);\r\n\t\t}\r\n\t}\r\n}","import {bindHotKeys, bindKeyContinuous, bindNodeActive, bindNodeEvents, BizEvent} from \"../Lang/Event.js\";\r\nimport {createDomByHtml, hide, insertStyleSheet, show} from \"../Lang/Dom.js\";\r\nimport {escapeAttr, escapeHtml, unescapeHtml} from \"../Lang/Html.js\";\r\nimport {Theme} from \"../Widget/Theme.js\";\r\nimport {guid} from \"../Lang/Util.js\";\r\nimport {Toast} from \"../Widget/Toast.js\";\r\nimport {inputTypeAble} from \"../Lang/Form.js\";\r\n\r\nconst NS = Theme.Namespace + 'ac-inline-editor-';\r\nconst patchStyle = () => {\r\n\tinsertStyleSheet(`\r\n\t\t.${NS}view-wrap {cursor:pointer}\r\n\t\t.${NS}view-wrap:hover:after {opacity:1; color:var(--color-link)}\r\n\t\t.${NS}view-wrap:after {content:\"\\\\e7a0\";font-family:${Theme.IconFont};transform: scale(1.2);display: inline-block;margin-left: 0.25em;opacity: 0.3;}\r\n\t\t\r\n\t\t.${NS}editor-wrap {\r\n\t\t    display:inline-flex;\r\n\t\t    align-items:center;\r\n\t\t    gap:0.25em;\r\n\t\t}\r\n\t\t.${NS}save-btn,\r\n\t\t.${NS}cancel-btn {\r\n\t\t    display: inline-flex;\r\n\t\t    border: 1px solid gray;\r\n\t\t    align-items: center;\r\n\t\t    height: var(--element-height);\r\n\t\t    width: var(--element-height);\r\n\t\t    justify-content: center;\r\n\t\t    border-radius: var(--panel-radius);\r\n\t\t    line-height: 90%;\r\n\t\t    box-sizing: border-box;\r\n\t\t    zoom: 0.92;\r\n\t\t    cursor: pointer;\r\n\t\t}\r\n\t\t.${NS}save-btn:before {content:\"\\\\e624\"; font-family:${Theme.IconFont}}\r\n\t\t.${NS}cancel-btn:before {content:\"\\\\e61a\"; font-family:${Theme.IconFont}}\r\n\t`, NS + 'style')\r\n}\r\n\r\nconst SELECT_PLACEHOLDER_VALUE = NS + guid();\r\n\r\n/**\r\n * 渲染视图\r\n * @param {Node} container \r\n * @param {String} type \r\n * @param {String} value 当值不在选项列表中时，直接渲染值\r\n * @param {Array} options \r\n * @returns {void}\r\n */\r\nconst renderView = (container, type, value, options = []) => {\r\n\tlet html = '';\r\n\tlet title = '';\r\n\tswitch (type) {\r\n\t\tcase ACInlineEditor.TYPE_TEXT:\r\n\t\tcase ACInlineEditor.TYPE_NUMBER:\r\n\t\tcase ACInlineEditor.TYPE_DATE:\r\n\t\tcase ACInlineEditor.TYPE_TIME:\r\n\t\tcase ACInlineEditor.TYPE_DATETIME:\r\n\t\t\thtml = escapeHtml(value);\r\n\t\t\ttitle = value;\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACInlineEditor.TYPE_MULTILINE_TEXT:\r\n\t\t\ttitle = value;\r\n\t\t\thtml = escapeHtml(value).replace(/\\n/g, '<br>');\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACInlineEditor.TYPE_OPTION_SELECT:\r\n\t\tcase ACInlineEditor.TYPE_OPTION_RADIO:\r\n\t\t\tlet opt = options.find(opt => opt.value === value);\r\n\t\t\ttitle = opt ? (opt?.text || '') : value;\r\n\t\t\thtml = escapeHtml(opt ? (opt?.text || '') : value);\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACInlineEditor.TYPE_MULTIPLE_OPTION_SELECT:\r\n\t\tcase ACInlineEditor.TYPE_OPTION_CHECKBOX:\r\n\t\t\tlet text_list = [];\r\n\t\t\toptions.forEach(opt => {\r\n\t\t\t\tif (opt.value === value) {\r\n\t\t\t\t\ttext_list.push(opt.text);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\ttitle = text_list.length ? text_list.join(',') : value;\r\n\t\t\thtml = escapeHtml(title);\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tthrow `未知的编辑器类型：${type}`;\r\n\t}\r\n\tcontainer.title = title;\r\n\tcontainer.innerHTML = html;\r\n\tshow(container);\r\n}\r\n\r\n/**\r\n * 渲染编辑器元素\r\n * @param {Node} container \r\n * @param {String} type \r\n * @param {String} name \r\n * @param {String} value \r\n * @param {Array} options \r\n * @param {Boolean} required \r\n * @returns {Function} 返回一个函数，用于获取编辑器的值\r\n */\r\nconst renderElement = (container, type, name, value, options = [], required = false) => {\r\n\t//类型为<input>输入框类型映射\r\n\tconst INPUT_TYPE_MAP = {\r\n\t\t[ACInlineEditor.TYPE_TEXT]: 'text',\r\n\t\t[ACInlineEditor.TYPE_NUMBER]: 'number',\r\n\t\t[ACInlineEditor.TYPE_DATE]: 'date',\r\n\t\t[ACInlineEditor.TYPE_TIME]: 'time',\r\n\t\t[ACInlineEditor.TYPE_DATETIME]: 'datetime-local',\r\n\t}\r\n\r\n\t//必填项提示\r\n\tconst REQUIRED_MESSAGES = {\r\n\t\t[ACInlineEditor.TYPE_TEXT]: '此项为必填项',\r\n\t\t[ACInlineEditor.TYPE_NUMBER]: '此项为必填项',\r\n\t\t[ACInlineEditor.TYPE_DATE]: '此项为必填项',\r\n\t\t[ACInlineEditor.TYPE_TIME]: '此项为必填项',\r\n\t\t[ACInlineEditor.TYPE_DATETIME]: '此项为必填项',\r\n\t\t[ACInlineEditor.TYPE_MULTILINE_TEXT]: '此项为必填项',\r\n\t\t[ACInlineEditor.TYPE_OPTION_SELECT]: '请选择一项',\r\n\t\t[ACInlineEditor.TYPE_MULTIPLE_OPTION_SELECT]: '请选择一项',\r\n\t\t[ACInlineEditor.TYPE_OPTION_RADIO]: '请选择一项',\r\n\t\t[ACInlineEditor.TYPE_OPTION_CHECKBOX]: '请选择一项',\r\n\t}\r\n\r\n\tlet html = '';\r\n\tswitch (type) {\r\n\t\tcase INPUT_TYPE_MAP[type]:\r\n\t\t\thtml = `<input type=\"${INPUT_TYPE_MAP[type]}\" name=\"${escapeAttr(name)}\" value=\"${escapeAttr(value)}\" ${required ? 'required' : ''}/>`;\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACInlineEditor.TYPE_MULTILINE_TEXT:\r\n\t\t\tlet v = value.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n\t\t\thtml = `<textarea name=\"${escapeAttr(name)}\" ${required ? 'required' : ''}>${v}</textarea>`;\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACInlineEditor.TYPE_OPTION_SELECT:\r\n\t\t\tlet option_html = '';\r\n\t\t\tif (!required) {\r\n\t\t\t\toption_html = `<option value=\"${SELECT_PLACEHOLDER_VALUE}\">请选择</option>`;\r\n\t\t\t}\r\n\t\t\toption_html = options.map(option => `<option value=\"${escapeAttr(option.value)}\" ${option.value == value ? 'selected' : ''}>\r\n\t\t\t\t\t${escapeHtml(option.text)}\r\n\t\t\t\t</option>`).join('');\r\n\t\t\thtml = `<select name=\"${escapeAttr(name)}\" ${required ? 'required' : ''}>${option_html}</select>`;\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACInlineEditor.TYPE_MULTIPLE_OPTION_SELECT:\r\n\t\t\thtml = `<select name=\"${escapeAttr(name)}\" multiple ${required ? 'required' : ''}>${value.map(option => `<option value=\"${escapeAttr(option.value)}\">${escapeHtml(option.text)}</option>`).join('')}</select>`;\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACInlineEditor.TYPE_OPTION_RADIO:\r\n\t\t\thtml = options.map(option => `<label><input type=\"radio\" name=\"${escapeAttr(name)}\" value=\"${escapeAttr(option.value)}\" ${option.value == value ? 'checked' : ''}>${escapeHtml(option.text)}</label>`).join('');\r\n\t\t\tbreak;\r\n\r\n\t\tcase ACInlineEditor.TYPE_OPTION_CHECKBOX:\r\n\t\t\thtml = options.map(option => `<label><input type=\"checkbox\" name=\"${escapeAttr(name)}\" value=\"${escapeAttr(option.value)}\" ${value.includes(option.value) ? 'checked' : ''}>${escapeHtml(option.text)}</label>`).join('');\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tthrow `内联编辑器暂不支持该类型：${type}`;\r\n\t}\r\n\r\n\tconst getVal = () => {\r\n\t\tlet error = null;\r\n\t\tlet value = null;\r\n\t\tlet elements = container.querySelectorAll('input,textarea,select');\r\n\t\tswitch (type) {\r\n\t\t\tcase INPUT_TYPE_MAP[type]:\r\n\t\t\tcase ACInlineEditor.TYPE_MULTILINE_TEXT:\r\n\t\t\tcase ACInlineEditor.TYPE_OPTION_SELECT:\r\n\t\t\t\tvalue = elements[0].value;\r\n\t\t\t\tif (required && (!value || value === SELECT_PLACEHOLDER_VALUE)) {\r\n\t\t\t\t\terror = REQUIRED_MESSAGES[type];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ACInlineEditor.TYPE_MULTIPLE_OPTION_SELECT:\r\n\t\t\t\tif (required && !elements[0].selectedOptions.length) {\r\n\t\t\t\t\terror = REQUIRED_MESSAGES[type];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = Array.from(elements[0].selectedOptions).map(option => option.value);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ACInlineEditor.TYPE_OPTION_RADIO:\r\n\t\t\t\tif (required && !Array.from(elements).some(el => el.checked)) {\r\n\t\t\t\t\terror = REQUIRED_MESSAGES[type];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = Array.from(elements).find(el => el.checked).value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ACInlineEditor.TYPE_OPTION_CHECKBOX:\r\n\t\t\t\tif (required && !Array.from(elements).some(el => el.checked)) {\r\n\t\t\t\t\terror = REQUIRED_MESSAGES[type];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = Array.from(elements).filter(el => el.checked).map(el => el.value);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `未知的编辑器类型：${type}`;\r\n\t\t}\r\n\t\treturn [value, error];\r\n\t}\r\n\r\n\tcreateDomByHtml(html, container);\r\n\tconst doms = container.querySelectorAll('input,textarea,select');\r\n\treturn [getVal, doms];\r\n}\r\n\r\n/**\r\n * 对话框组件\r\n * 参数：\r\n * container[data-dialog-url] iframe对话框页面地址\r\n * container[data-content] 对话框内容\r\n * a[title] | container[text] 对话框标题\r\n */\r\nexport class ACInlineEditor {\r\n\tstatic TYPE_TEXT = 'text'; //单行文本\r\n\tstatic TYPE_NUMBER = 'number'; //数字\r\n\tstatic TYPE_DATE = 'date'; //日期\r\n\tstatic TYPE_TIME = 'time'; //时间\r\n\tstatic TYPE_DATETIME = 'datetime'; //日期时间\r\n\tstatic TYPE_MULTILINE_TEXT = 'multiline_text'; //多行文本\r\n\tstatic TYPE_OPTION_SELECT = 'select'; //select单选\r\n\tstatic TYPE_MULTIPLE_OPTION_SELECT = 'multiple_option'; //select多选\r\n\tstatic TYPE_OPTION_RADIO = 'radio'; //radio单选\r\n\tstatic TYPE_OPTION_CHECKBOX = 'checkbox'; //checkbox多选\r\n\r\n\t/** @var {Function} **/\r\n\tstatic transmitter;\r\n\r\n\t/** @var BizEvent onUpdate fire(name, value) **/\r\n\tstatic onUpdate = new BizEvent();\r\n\r\n\tstatic init(container, param) {\r\n\t\tconst ACTION = param.action; //提交地址（可以为空，由transmitter处理）\r\n\t\tconst METHOD = param.method; //提交方式（可以为空，由transmitter处理）\r\n\t\tconst REQUIRED = !!param.required; //是否必填\r\n\t\tconst NAME = param.name; //字段名\r\n\t\tconst TYPE = param.type ? String(param.type) : this.TYPE_TEXT;\r\n\r\n\t\t//当前值\r\n\t\tlet value = param.value;\r\n\r\n\t\tif (value == null && [\r\n\t\t\tACInlineEditor.TYPE_TEXT,\r\n\t\t\tACInlineEditor.TYPE_NUMBER,\r\n\t\t\tACInlineEditor.TYPE_DATE,\r\n\t\t\tACInlineEditor.TYPE_TIME,\r\n\t\t\tACInlineEditor.TYPE_DATETIME\r\n\t\t].includes(TYPE)) {\r\n\t\t\tvalue = container.innerText.trim();\r\n\t\t}\r\n\t\tif (value == null && ACInlineEditor.TYPE_MULTILINE_TEXT === TYPE) {\r\n\t\t\tvalue = unescapeHtml(container.innerHTML.trim());\r\n\t\t}\r\n\r\n\t\t//字段选项\r\n\t\tlet options = param.options || [\r\n\t\t\t// { value: '1', text: '选项1' },\r\n\t\t\t// { value: '2', text: '选项2' },\r\n\t\t];\r\n\r\n\t\t//初始化样式\r\n\t\tpatchStyle();\r\n\r\n\t\t//创建编辑器和视图容器\r\n\t\tcontainer.innerHTML = `\r\n\t\t\t<span class=\"${NS}editor-wrap\" style=\"display:none\" tabindex=\"0\"></span>\r\n\t\t\t<span class=\"${NS}view-wrap\"></span>`;\r\n\r\n\t\t//编辑器和视图容器\r\n\t\tlet view_wrap = container.querySelector(`.${NS}view-wrap`);\r\n\t\tlet editor_wrap = container.querySelector(`.${NS}editor-wrap`);\r\n\r\n\t\tconst showView = () =>{\r\n\t\t\thide(editor_wrap);\r\n\t\t\trenderView(view_wrap, TYPE, value, options);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @returns 初始化编辑器\r\n\t\t */\r\n\t\tconst showEditor = () => {\r\n\t\t\thide(view_wrap);\r\n\t\t\tshow(editor_wrap);\r\n\r\n\t\t\tif (!this.transmitter) {\r\n\t\t\t\tthrow \"ACInlineEditor.transmitter 未配置\";\r\n\t\t\t}\r\n\t\t\teditor_wrap.innerHTML = '';\r\n\t\t\tcreateDomByHtml(`\r\n\t\t\t\t\t\t<span class=\"${NS}editor-text\"></span>\r\n\t\t\t\t\t\t<span class=\"${NS}save-btn\" tabindex=\"0\"></span>\r\n\t\t\t\t\t\t<span class=\"${NS}cancel-btn\" tabindex=\"0\"></span>\r\n\t\t\t\t\t`, editor_wrap);\r\n\t\t\tconst save_btn = editor_wrap.querySelector(`.${NS}save-btn`);\r\n\t\t\tconst cancel_btn = editor_wrap.querySelector(`.${NS}cancel-btn`);\r\n\t\t\tconst [getVal, inputList] = renderElement(editor_wrap.querySelector(`.${NS}editor-text`), TYPE, NAME, value, options, REQUIRED);\r\n\t\t\tconst doSave = () => {\r\n\t\t\t\tlet [val, error] = getVal();\r\n\t\t\t\tif (error) {\r\n\t\t\t\t\tToast.error(error);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = val;\r\n\t\t\t\tthis.transmitter(ACTION, { [NAME]: value }, METHOD).then(() => {\r\n\t\t\t\t\tthis.onUpdate.fire(NAME, value);\r\n\t\t\t\t\tshowView();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tlet firstInput = inputList[0];\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tfirstInput.focus();\r\n\t\t\t\tinputTypeAble(firstInput) && firstInput.select();\r\n\t\t\t});\r\n\t\t\tif(inputTypeAble(firstInput)){\r\n\t\t\t\tif(firstInput.tagName !== 'TEXTAREA'){\r\n\t\t\t\t\tbindNodeEvents(inputList, 'keydown', (e) => {\r\n\t\t\t\t\t\tif (e.key === 'Enter') {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tdoSave();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbindHotKeys(firstInput, 'ctrl+enter', e=>{\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tdoSave();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tbindKeyContinuous(firstInput, 'Escape', showView);\r\n\t\t\t}\r\n\t\t\tbindNodeActive(cancel_btn, showView);\r\n\t\t\tbindNodeActive(save_btn, doSave);\r\n\t\t}\r\n\r\n\t\tbindNodeActive(view_wrap, showEditor);\r\n\t\tshowView();\r\n\t}\r\n}\r\n","import {domChangedWatch, findAll, findOne, toggleDisabled} from \"../Lang/Dom.js\";\r\nimport {mergerUriParam} from \"../Lang/Net.js\";\r\n\r\n/**\r\n * 多选关联，如多个checkbox必须至少存在一个选中项目，关联的按钮才允许被使用。\r\n * 参数：\r\n * *[data-multiselectrelate-container] 指定关联容器（会监听该容器dom变更）\r\n */\r\nexport class ACMultiSelectRelate {\r\n\tstatic init(node, params = {}){\r\n\t\tconst container = findOne(params.container || 'body');\r\n\t\tconst orgUrl = node.href || node.formAction;\r\n\r\n\t\t//针对A标签或者input[formaction]的按钮，额外添加数据串\r\n\t\tconst patchDataUri = () => {\r\n\t\t\tif(node.href || node.formAction){\r\n\t\t\t\tlet data_str = [];\r\n\t\t\t\tfindAll('input:checked', container).forEach(chk => {\r\n\t\t\t\t\tdata_str.push(encodeURIComponent(chk.name) + '=' + encodeURIComponent(chk.value));\r\n\t\t\t\t});\r\n\t\t\t\tdata_str = data_str.join('&');\r\n\t\t\t\tif(node.formAction){\r\n\t\t\t\t\tnode.formAction = mergerUriParam(orgUrl, data_str);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnode.href = mergerUriParam(orgUrl, data_str);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdomChangedWatch(container, 'input:checked', coll => {\r\n\t\t\tconst toEnabled = !!coll.length;\r\n\t\t\ttoggleDisabled(node, '', toEnabled);\r\n\t\t\tnode.title = toEnabled ? '' : '请选择要操作的项目';\r\n\t\t\tif(toEnabled){\r\n\t\t\t\tpatchDataUri();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","import {getHighestResFromSrcSet} from \"../Lang/Img.js\";\r\nimport {showImgListPreview, showImgPreview} from \"../Widget/ImgPreview.js\";\r\nimport {eventDelegate} from \"../Lang/Event.js\";\r\nimport {findAll} from \"../Lang/Dom.js\";\r\n\r\n/**\r\n * 图片预览\r\n * 调用方式① 父容器模式：[data-preview-watch=\"img\"]\r\n * 调用方式② 图片节点模式：img[src][data-preview-selector=\".all-img\"]\r\n */\r\nexport class ACPreview {\r\n\t/**\r\n\t * 父容器绑定模式\r\n\t * @param node\r\n\t * @param {Object} param\r\n\t * @param {String} param.watch 监听子节点点击事件选择器\r\n\t * @return {Promise<null>}\r\n\t */\r\n\tstatic init(node, param = {}){\r\n\t\tlet watchSelector = param.watch;\r\n\t\tif(watchSelector){\r\n\t\t\teventDelegate(node, watchSelector, 'click', (e, clickNode) => {\r\n\t\t\t\tlet currentIndex = 0,\r\n\t\t\t\t\tcurrentSrc = resolveSrc(clickNode),\r\n\t\t\t\t\timgSrcList = [];\r\n\t\t\t\tnode.querySelectorAll(watchSelector).forEach((n, idx) => {\r\n\t\t\t\t\tlet src = resolveSrc(n);\r\n\t\t\t\t\tif(src === currentSrc){\r\n\t\t\t\t\t\tcurrentIndex = idx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\timgSrcList.push(src);\r\n\t\t\t\t});\r\n\t\t\t\tshowImgListPreview(imgSrcList, currentIndex);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tstatic active(node, param, event){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif(param.watch){\r\n\t\t\t\tresolve();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet src = param.src || resolveSrc(node);\r\n\t\t\tlet selector = param.selector;\r\n\t\t\tif(!src){\r\n\t\t\t\tconsole.warn('image preview src empty', node);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tevent.preventDefault();\r\n\t\t\tif(selector){\r\n\t\t\t\tlet index = 0, imgSrcList = [];\r\n\t\t\t\tfindAll(selector).forEach((n, idx) => {\r\n\t\t\t\t\tif(node === n){\r\n\t\t\t\t\t\tindex = idx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\timgSrcList.push(resolveSrc(n));\r\n\t\t\t\t});\r\n\t\t\t\tshowImgListPreview(imgSrcList, index);\r\n\t\t\t}else{\r\n\t\t\t\tshowImgPreview(src);\r\n\t\t\t}\r\n\t\t\tresolve();\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n * 提取节点图片源\r\n * @param node\r\n * @returns {string}\r\n */\r\nconst resolveSrc = (node) => {\r\n\tlet src = node.dataset.src;\r\n\t//src获取优先级：param.src > img[data-src] > img[srcset] > img[src]\r\n\tif(node.tagName === 'IMG'){\r\n\t\tif(!src && node.srcset){\r\n\t\t\tsrc = getHighestResFromSrcSet(node.srcset);\r\n\t\t}\r\n\t\tsrc = src || node.src || node.dataset.src;\r\n\t}else if(!src && node.tagName === 'A'){\r\n\t\tsrc = node.href;\r\n\t}\r\n\treturn src;\r\n}\r\n","import {Select} from \"../Widget/Select.js\";\r\n\r\n/**\r\n * 将 select 或者 input[list] 对象绑定使用 Select UI组件\r\n * 参数：\r\n * select\r\n * input[list]\r\n */\r\nexport class ACSelect {\r\n\tstatic init(node, params){\r\n\t\tif(params.displaysearchinput !== undefined){\r\n\t\t\tparams.displaySearchInput = !!params.displaysearchinput; //修正大小写参数名称问题\r\n\t\t}\r\n\t\tif(node.tagName === 'SELECT'){\r\n\t\t\tSelect.bindSelect(node, params);\r\n\t\t}else if(node.tagName === 'INPUT' && node.list){\r\n\t\t\tSelect.bindTextInput(node, params);\r\n\t\t}\r\n\t}\r\n}","import {Theme} from \"../Widget/Theme.js\";\r\nimport {createDomByHtml, insertStyleSheet} from \"../Lang/Dom.js\";\r\n\r\nconst UI_STATE_ACTIVE = 'active';\r\nconst UI_STATE_INACTIVE = 'inactive';\r\n\r\nconst STATE_NORMAL = 'normal';\r\nconst STATE_OVERLOAD = 'overload';\r\nconst MAIN_CLASS = Theme.Namespace + 'text-counter';\r\nconst STYLE_STR = `\r\n\t.${MAIN_CLASS} {pointer-events:none; margin-left:0.5em; user-select:none;}\r\n\t.${MAIN_CLASS}[data-state=\"${STATE_NORMAL}\"][data-ui-state=\"${UI_STATE_INACTIVE}\"] {opacity:0.5}\r\n\t.${MAIN_CLASS}[data-state=\"${STATE_NORMAL}\"][data-ui-state=\"${UI_STATE_ACTIVE}\"] {}\r\n\t.${MAIN_CLASS}[data-state=\"${STATE_OVERLOAD}\"][data-ui-state=\"${UI_STATE_INACTIVE}\"] {opacity:0.8; color:red}\r\n\t.${MAIN_CLASS}[data-state=\"${STATE_OVERLOAD}\"][data-ui-state=\"${UI_STATE_ACTIVE}\"] {color:red}\r\n`;\r\n\r\nexport class ACTextCounter {\r\n\tstatic init(input, params = {}){\r\n\t\tinsertStyleSheet(STYLE_STR, Theme.Namespace + 'text-counter');\r\n\t\tlet maxlength = parseInt(Math.max(input.maxLength, 0) || params.maxlength, 10) || 0;\r\n\t\tlet trim = params.trim;\r\n\t\tif(!maxlength){\r\n\t\t\tconsole.debug('no maxlength set');\r\n\t\t}\r\n\t\tconst trigger = createDomByHtml(`<span class=\"${MAIN_CLASS}\" data-state=\"${STATE_NORMAL}\" data-ui-state=\"${UI_STATE_INACTIVE}\">0/${maxlength}</span>`);\r\n\t\tconst updState = () => {\r\n\t\t\tlet len = trim ? input.value.trim().length : input.value.length;\r\n\t\t\tlet state = (maxlength && len > maxlength) ? STATE_OVERLOAD : STATE_NORMAL;\r\n\t\t\ttrigger.setAttribute('data-state', state);\r\n\t\t\ttrigger.innerHTML = maxlength ? (len + '/' + maxlength) : len;\r\n\t\t}\r\n\t\tinput.parentNode.insertBefore(trigger, input.nextSibling);\r\n\t\tinput.addEventListener('focus', () => {\r\n\t\t\ttrigger.setAttribute('data-ui-state', UI_STATE_ACTIVE);\r\n\t\t});\r\n\t\tinput.addEventListener('blur', () => {\r\n\t\t\ttrigger.setAttribute('data-ui-state', UI_STATE_INACTIVE);\r\n\t\t});\r\n\t\tinput.addEventListener('input', updState);\r\n\t\tupdState();\r\n\t}\r\n}\r\n","import {Tip} from \"../Widget/Tip.js\";\r\n\r\n/**\r\n * 提示信息\r\n * 参数：\r\n * node[data-tip-content] | node[title] 提示内容，必填\r\n * node[data-tip-triggertype] 提示方式，缺省为 hover 触发\r\n */\r\nexport class ACTip {\r\n\tstatic init(node, params){\r\n\t\tlet {content, triggertype = 'hover'} = params;\r\n\t\tif(!content && node.title){\r\n\t\t\tcontent = node.title;\r\n\t\t\tnode.title = '';\r\n\t\t}\r\n\t\tif(!content){\r\n\t\t\tthrow 'content required';\r\n\t\t}\r\n\t\tTip.bindNode(content, node, {triggerType: triggertype});\r\n\t}\r\n}","import {Toast} from \"../Widget/Toast.js\";\r\n\r\n/**\r\n * 对象触发时显示提示信息\r\n * 参数：\r\n * node[data-toast-message]\r\n * node[data-toast-type] type 为 Toast.type 类型\r\n */\r\nexport class ACToast {\r\n\tstatic active(node, param, event){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tlet message = param.message || '提示信息';\r\n\t\t\tlet type = param.type || Toast.TYPE_INFO;\r\n\t\t\tToast.showToast(message, type, Toast.DEFAULT_TIME_MAP[type], resolve);\r\n\t\t});\r\n\t}\r\n}","import {bindFormUnSavedUnloadAlert, resetFormChangedState} from \"../Lang/Form.js\";\r\nimport {ACAsync} from \"./ACAsync.js\";\r\n\r\n/**\r\n * 复制内容\r\n * 参数：\r\n * *[data-copy-content]\r\n * *[data-copy-type] type 为 html 时表示复制内容为HTML\r\n * 使用举例：\r\n * <input type=\"button\" value=\"复制链接” data-copy-content=\"http://abc.com\" data-component=\"copy\"/>\r\n */\r\nexport class ACUnSaveAlert {\r\n\tstatic init(form, params = {}){\r\n\t\tlet msg = params.message || null;\r\n\t\tACAsync.onSuccess.listen((node, rsp) => {\r\n\t\t\tif(node === form){\r\n\t\t\t\tresetFormChangedState(node)\r\n\t\t\t}\r\n\t\t});\r\n\t\tbindFormUnSavedUnloadAlert(form, msg);\r\n\t}\r\n}","import {Uploader} from \"../Widget/Uploader.js\";\r\nimport {objectKeyMapping} from \"../Lang/Array.js\";\r\n\r\n/**\r\n * 上传组件\r\n * 参数：\r\n * *[data-uploader-value] 上传值\r\n * *[data-uploader-name] 上传文件文件名\r\n * *[data-uploader-thumb] 上传初始值缩略图地址\r\n * *[data-uploader-uploadurl] 上传CGI\r\n * *[data-uploader-···] 更多参数请参考 Uploader.constructor()\r\n * 使用举例：\r\n * <input type=\"button\" value=\"复制链接” data-copy-content=\"http://abc.com\" data-component=\"copy\"/>\r\n */\r\nexport class ACUploader {\r\n\tstatic init(node, params){\r\n\t\tparams = objectKeyMapping(params, {\r\n\t\t\t'uploadurl': 'uploadUrl',\r\n\t\t\t'uploadfilefieldname': 'uploadFileFieldName',\r\n\t\t\t'allowfiletypes': 'allowFileTypes',\r\n\t\t\t'filesizelimit': 'fileSizeLimit',\r\n\t\t});\r\n\t\tif(node.accept){\r\n\t\t\tparams.allowFileTypes = node.accept;\r\n\t\t}\r\n\t\tUploader.bindInput(node, params, params);\r\n\t}\r\n}","import {Theme} from \"../Widget/Theme.js\";\r\nimport {Dialog} from \"../Widget/Dialog.js\";\r\nimport {copy} from \"../Widget/Copy.js\";\r\nimport {Toast} from \"../Widget/Toast.js\";\r\nimport {trans} from \"../I18N/Lang.js\";\r\nimport {insertStyleSheet} from \"../Lang/Dom.js\";\r\nimport {downloadString} from \"../Lang/Net.js\";\r\n\r\nconst NS = Theme.Namespace + 'ac-view-copy';\r\n\r\n/**\r\n * 查看并复制内容\r\n * 参数：\r\n * *[data-viewcopy-content]\r\n * *[data-viewcopy-file] 支持下载保存为文件，文件名为空缺省使用 <文件.txt>\r\n * *[data-viewcopy-filemime] 指定下载文件MIME，缺省使用 text/plain\r\n */\r\nexport class ACViewCopy {\r\n\tstatic init(node, param){\r\n\t\tinsertStyleSheet(`\r\n\t\t\t.${NS}-txt-wrap {padding:0.5em 1em;}\r\n\t\t\t.${NS}-txt {width:100%; box-sizing:border-box; min-height:12em; resize:vertical;}\r\n\t\t`, NS);\r\n\t}\r\n\r\n\tstatic active(node, param){\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tif(!param.content){\r\n\t\t\t\tconsole.error('没有内容', param);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//另存为文件\r\n\t\t\tlet extButtons = [];\r\n\t\t\tif(param.file !== undefined){\r\n\t\t\t\tlet fileName = param.file || '文件.txt';\r\n\t\t\t\textButtons = [{title:\"下载\", callback:()=>{\r\n\t\t\t\t\tdownloadString(param.content, fileName);\r\n\t\t\t\t}}];\r\n\t\t\t}\r\n\r\n\t\t\tlet html =\r\n`<div class=\"${NS}-txt-wrap\">\r\n\t<textarea readonly class=\"${NS}-txt\"></textarea>\r\n</div>`;\r\n\t\t\tlet txt = null;\r\n\t\t\tlet dlg = Dialog.show('复制', html, {\r\n\t\t\t\tbuttons:[\r\n\t\t\t\t\t{title:\"复制内容\", callback:()=>{\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\ttxt.select();\r\n\t\t\t\t\t\t\tdocument.execCommand('copy');\r\n\t\t\t\t\t\t\tToast.showSuccess(trans('内容已复制到剪贴板'));\r\n\t\t\t\t\t\t}catch(err){\r\n\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t\tToast.showWarning('复制失败，请手工复制');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t...extButtons,\r\n\t\t\t\t\t{title:\"关闭\"},\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\ttxt = dlg.dom.querySelector('textarea');\r\n\t\t\ttxt.value = param.content;\r\n\t\t\tresolve();\r\n\t\t})\r\n\t}\r\n}","import {formatDate, ONE_DAY, ONE_HOUR, ONE_MINUTE} from \"../Lang/Time.js\";\r\nimport {bindTargetMenu} from \"../Widget/Menu.js\";\r\nimport {triggerDomEvent} from \"../Lang/Event.js\";\r\n\r\nconst TYPE_TIME = 'time';\r\nconst TYPE_DATE = 'date';\r\nconst TYPE_DATETIME = 'datetime';\r\nconst TYPE_YEAR = 'year';\r\n\r\nconst WEEK_TXT_MAP = '一二三四五六日';\r\n\r\nconst NOW = Date.now();\r\nconst WS = () => {\r\n\treturn WEEK_TXT_MAP[ACDateRangeSelector.WEEK_START - 1];\r\n}\r\n\r\nconst TYPE_MAP = {\r\n\t[TYPE_TIME]: [\r\n\t\t['近1分钟', () => {\r\n\t\t\treturn [formatDate('H:i:s', NOW - ONE_MINUTE), formatDate('H:i:s')]\r\n\t\t}],\r\n\t\t['近10分钟', () => {\r\n\t\t\treturn [formatDate('H:i:s', NOW - ONE_MINUTE * 10), formatDate('H:i:s')]\r\n\t\t}],\r\n\t\t['近30分钟', () => {\r\n\t\t\treturn [formatDate('H:i:s', NOW - ONE_MINUTE * 30), formatDate('H:i:s')]\r\n\t\t}],\r\n\t\t'-',\r\n\t\t['近1个小时', () => {\r\n\t\t\treturn [formatDate('H:i:s', NOW - ONE_HOUR), formatDate('H:i:s')]\r\n\t\t}],\r\n\t\t['近2个小时', () => {\r\n\t\t\treturn [formatDate('H:i:s', NOW - ONE_HOUR * 2), formatDate('H:i:s')]\r\n\t\t}],\r\n\t\t['近3个小时', () => {\r\n\t\t\treturn [formatDate('H:i:s', NOW - ONE_HOUR * 3), formatDate('H:i:s')]\r\n\t\t}],\r\n\t\t'-',\r\n\t\t['今日0点 - 现在', () => {\r\n\t\t\treturn ['00:00:00', formatDate('H:i:s')]\r\n\t\t}],\r\n\t],\r\n\t[TYPE_DATE]: [\r\n\t\t['今天', () => {\r\n\t\t\treturn [formatDate('Y-m-d'), formatDate('Y-m-d')]\r\n\t\t}],\r\n\t\t['昨天', () => {\r\n\t\t\treturn [formatDate('Y-m-d', NOW - ONE_DAY), formatDate('Y-m-d', NOW - ONE_DAY)];\r\n\t\t}],\r\n\t\t['前天', () => {\r\n\t\t\treturn [formatDate('Y-m-d', NOW - ONE_DAY * 2), formatDate('Y-m-d', NOW - ONE_DAY * 2)];\r\n\t\t}],\r\n\t\t'-',\r\n\t\t['昨天 - 今天', () => {\r\n\t\t\treturn [formatDate('Y-m-d', NOW - ONE_DAY), formatDate('Y-m-d')];\r\n\t\t}],\r\n\t\t['前天 - 今天', () => {\r\n\t\t\treturn [formatDate('Y-m-d', NOW - ONE_DAY * 2), formatDate('Y-m-d')];\r\n\t\t}],\r\n\t\t['本月1日 - 今天', () => {\r\n\t\t\treturn [formatDate('Y-m-01', NOW - ONE_DAY), formatDate('Y-m-d')];\r\n\t\t}],\r\n\t\t['今年1月1日 - 今天', () => {\r\n\t\t\treturn [formatDate('Y-01-01', NOW - ONE_DAY), formatDate('Y-m-d')];\r\n\t\t}],\r\n\t\t'-',\r\n\t],\r\n\t[TYPE_DATETIME]: [\r\n\t\t['近1分钟', () => {\r\n\t\t\treturn [formatDate('Y-m-d H:i:s', NOW - ONE_MINUTE), formatDate('Y-m-d H:i:s')]\r\n\t\t}],\r\n\t\t['近10分钟', () => {\r\n\t\t\treturn [formatDate('Y-m-d H:i:s', NOW - ONE_MINUTE * 10), formatDate('Y-m-d H:i:s')]\r\n\t\t}],\r\n\t\t['近30分钟', () => {\r\n\t\t\treturn [formatDate('Y-m-d H:i:s', NOW - ONE_MINUTE * 30), formatDate('Y-m-d H:i:s')]\r\n\t\t}],\r\n\t\t'-',\r\n\t\t['近1个小时', () => {\r\n\t\t\treturn [formatDate('Y-m-d H:i:s', NOW - ONE_HOUR), formatDate('Y-m-d H:i:s')]\r\n\t\t}],\r\n\t\t['近2个小时', () => {\r\n\t\t\treturn [formatDate('Y-m-d H:i:s', NOW - ONE_HOUR * 2), formatDate('Y-m-d H:i:s')]\r\n\t\t}],\r\n\t\t['近3个小时', () => {\r\n\t\t\treturn [formatDate('Y-m-d H:i:s', NOW - ONE_HOUR * 3), formatDate('Y-m-d H:i:s')]\r\n\t\t}],\r\n\t\t'-',\r\n\t\t['今天', () => {\r\n\t\t\treturn [formatDate('Y-m-d 00:00:00'), formatDate('Y-m-d H:i:s')]\r\n\t\t}],\r\n\t\t['昨天', () => {\r\n\t\t\treturn [formatDate('Y-m-d 00:00:00', NOW - ONE_DAY), formatDate('Y-m-d 23:59:59')];\r\n\t\t}],\r\n\t\t['前天', () => {\r\n\t\t\treturn [formatDate('Y-m-d 00:00:00', NOW - ONE_DAY * 2), formatDate('Y-m-d', NOW - ONE_DAY * 2)];\r\n\t\t}],\r\n\t\t'-',\r\n\t\t['昨天 - 今天', () => {\r\n\t\t\treturn [formatDate('Y-m-d 00:00:00', NOW - ONE_DAY), formatDate('Y-m-d H:i:s')];\r\n\t\t}],\r\n\t\t['前天 - 今天', () => {\r\n\t\t\treturn [formatDate('Y-m-d 00:00:00', NOW - ONE_DAY * 2), formatDate('Y-m-d H:i:s')];\r\n\t\t}],\r\n\t\t['本月1日 - 今天', () => {\r\n\t\t\treturn [formatDate('Y-m-01 00:00:00'), formatDate('Y-m-d H:i:s')];\r\n\t\t}],\r\n\t\t['今年1月1日 - 今天', () => {\r\n\t\t\treturn [formatDate('Y-01-01 00:00:00'), formatDate('Y-m-d H:i:s')];\r\n\t\t}],\r\n\t\t'-',\r\n\t\t['上一周', () => {\r\n\t\t\treturn [formatDate('Y-01-01', NOW - ONE_DAY), formatDate('Y-m-d')];\r\n\t\t}],\r\n\t\t['上一个月', () => {\r\n\t\t\treturn [formatDate('Y-01-01', NOW - ONE_DAY), formatDate('Y-m-d')];\r\n\t\t}],\r\n\t],\r\n\t[TYPE_YEAR]: [\r\n\t\t[formatDate('Y') + ' 年', () => {\r\n\t\t\treturn [formatDate('Y'), formatDate('Y')];\r\n\t\t}],\r\n\t\t[(new Date).getFullYear() - 1 + ' 年', () => {\r\n\t\t\treturn [(new Date).getFullYear() - 1, (new Date).getFullYear() - 1];\r\n\t\t}],\r\n\t\t[(new Date).getFullYear() - 2 + ' 年', () => {\r\n\t\t\treturn [(new Date).getFullYear() - 2, (new Date).getFullYear() - 2];\r\n\t\t}],\r\n\t\t'-',\r\n\t\t[(new Date).getFullYear() - 1 + ' - ' + formatDate('Y') + ' (去年至今)', () => {\r\n\t\t\treturn [(new Date).getFullYear() - 1, formatDate('Y')];\r\n\t\t}],\r\n\t\t[(new Date).getFullYear() - 2 + ' - ' + formatDate('Y') + ' (前年至今)', () => {\r\n\t\t\treturn [(new Date).getFullYear() - 2, (new Date).getFullYear() - 2];\r\n\t\t}],\r\n\t\t[(new Date).getFullYear() - 5 + ' - ' + formatDate('Y') + ' (过去5年)', () => {\r\n\t\t\treturn [(new Date).getFullYear() - 5, formatDate('Y')];\r\n\t\t}],\r\n\t]\r\n};\r\n\r\nconst resolveType = input => {\r\n\tswitch(input.type){\r\n\t\t//year 暂不支持，需要由参数指定\r\n\t\t/**\r\n\t\tcase 'year':\r\n\t\t\treturn TYPE_YEAR;\r\n\t\t **/\r\n\r\n\t\tcase 'date':\r\n\t\t\treturn TYPE_DATE;\r\n\r\n\t\tcase 'datetime-local':\r\n\t\tcase 'datetime':\r\n\t\t\treturn TYPE_DATETIME;\r\n\r\n\t\tcase 'time':\r\n\t\t\treturn TYPE_TIME;\r\n\t\tdefault:\r\n\t\t\tconsole.error(\"No Supported Type:\", input);\r\n\t\t\treturn null;\r\n\t}\r\n}\r\n\r\n/**\r\n * 日期范围选择器\r\n * 参数：\r\n * node[data-daterangeselector-target] 日期输入框对象，缺省由node上一级找input\r\n */\r\nexport class ACDateRangeSelector {\r\n\tstatic WEEK_START = 1; //每周是从周一(1)开始算，还是周日(7)开始\r\n\tstatic init(node, params = {}){\r\n\t\tlet inputs = [];\r\n\t\tlet target = params.target;\r\n\t\tif(target){\r\n\t\t\tinputs = document.querySelectorAll(target);\r\n\t\t}else{\r\n\t\t\tinputs = node.parentNode.querySelectorAll('input');\r\n\t\t}\r\n\t\tif(inputs.length < 2){\r\n\t\t\tthrow \"No date inputs found.\";\r\n\t\t}\r\n\t\tlet type = params.type || resolveType(inputs[0]);\r\n\t\tif(!type){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet commands = [];\r\n\t\tTYPE_MAP[type].forEach(item => {\r\n\t\t\tif(item === '-'){\r\n\t\t\t\tcommands.push(item);\r\n\t\t\t}else{\r\n\t\t\t\tlet [title, timesFetcher] = item;\r\n\t\t\t\tcommands.push([title, () => {\r\n\t\t\t\t\tlet [st, ed] = timesFetcher();\r\n\t\t\t\t\tinputs[0].value = st;\r\n\t\t\t\t\ttriggerDomEvent(inputs[0], 'change');\r\n\t\t\t\t\tinputs[1].value = ed;\r\n\t\t\t\t\ttriggerDomEvent(inputs[1], 'change');\r\n\t\t\t\t}, false])\r\n\t\t\t}\r\n\t\t});\r\n\t\tbindTargetMenu(node, commands, {triggerType: 'mouseover'});\r\n\t}\r\n}","/**\r\n * 绑定按钮快捷键\r\n * 参数：\r\n * node[data-hotkey-keys=\"ctrl+a\"] 快捷键\r\n */\r\nimport {bindHotKeys} from \"../Lang/Event.js\";\r\nimport {createDomByHtml, findAll, findOne, hide, insertStyleSheet, show} from \"../Lang/Dom.js\";\r\nimport {guid} from \"../Lang/Util.js\";\r\nimport {Theme} from \"../Widget/Theme.js\";\r\n\r\nconst HOTKEY_TIP_CLASS = Theme.Namespace + 'hotkey-tip';\r\nconst HOTKEY_TIP_ATTR_ID = 'data-hotkey-tip-id';\r\n\r\nlet hk_tip_bind = false;\r\nlet hk_tip_is_hide = true;\r\n\r\nconst STYLE_STR = `\r\n.${HOTKEY_TIP_CLASS} {\r\n\tposition:absolute; \r\n\tbackground-color:#ffffffd9; \r\n\tborder:1px solid gray; \r\n\tuser-select:none; \r\n\tborder-radius:4px; \r\n\tpadding:0.1em 0.25em; \r\n\tbox-sizing:border-box; \r\n\tmargin-top:-0.2em; \r\n\tbox-shadow:1px 1px 5px 0px #5c5c5c7a;\r\n\ttext-shadow:1px 1px 1px white;\r\n}`\r\n\r\nexport class ACHotKey {\r\n\t//是否自动提示快捷键\r\n\tstatic TOGGLE_HOTKEY_TIP = true;\r\n\r\n\tstatic init(node, param = {}){\r\n\t\tinsertStyleSheet(STYLE_STR, Theme.Namespace+'-hotkey');\r\n\t\tif(!hk_tip_bind && ACHotKey.TOGGLE_HOTKEY_TIP){\r\n\t\t\thk_tip_bind = true;\r\n\t\t\tbindHotKeys(document,'alt', e => {\r\n\t\t\t\tif(hk_tip_is_hide){\r\n\t\t\t\t\tACHotKey.showAllHotKeyTips();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tACHotKey.hideAllHotKeyTips();\r\n\t\t\t\t}\r\n\t\t\t\thk_tip_is_hide = !hk_tip_is_hide;\r\n\t\t\t});\r\n\t\t\tdocument.addEventListener('click', ACHotKey.hideAllHotKeyTips);\r\n\t\t}\r\n\t\tif(!param.key){\r\n\t\t\tthrow 'param.key required';\r\n\t\t}\r\n\t\tbindHotKeys(document, param.key, e => {\r\n\t\t\tnode.focus();\r\n\t\t\tnode.click();\r\n\t\t});\r\n\t}\r\n\r\n\tstatic showAllHotKeyTips(){\r\n\t\tfindAll('[data-hotkey-key]').forEach(node => {\r\n\t\t\tACHotKey.showHotKeyTip(node);\r\n\t\t})\r\n\t}\r\n\r\n\tstatic hideAllHotKeyTips(){\r\n\t\tfindAll(`.${HOTKEY_TIP_CLASS}`).forEach(tip => {\r\n\t\t\thide(tip);\r\n\t\t});\r\n\t}\r\n\r\n\tstatic hideHotKeyTip(node){\r\n\t\tlet tip_id = node.getAttribute(HOTKEY_TIP_ATTR_ID);\r\n\t\tif(tip_id){\r\n\t\t\thide(findOne('#' + tip_id));\r\n\t\t}\r\n\t}\r\n\r\n\tstatic showHotKeyTip(node){\r\n\t\tif(node.offsetParent === null){\r\n\t\t\t//node is invisible\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet tip_id = node.getAttribute(HOTKEY_TIP_ATTR_ID);\r\n\t\tlet tip = null;\r\n\t\tif(tip_id){\r\n\t\t\ttip = findOne('#' + tip_id);\r\n\t\t}else{\r\n\t\t\ttip_id = guid('hotkey-tip-');\r\n\t\t\tnode.setAttribute(HOTKEY_TIP_ATTR_ID, tip_id);\r\n\t\t}\r\n\t\tif(!tip){\r\n\t\t\tlet key = node.getAttribute('data-hotkey-key');\r\n\t\t\ttip = createDomByHtml(`<div class=\"${HOTKEY_TIP_CLASS}\" id=\"${tip_id}\">${key}</div>`, document.body);\r\n\t\t}\r\n\t\ttip.style.visibility = 'hidden';\r\n\t\tlet rect = node.getBoundingClientRect();\r\n\t\ttip.style.top = rect.top - tip.clientHeight + 'px';\r\n\t\ttip.style.left = rect.left + rect.width/2 - tip.clientWidth/2 + 'px';\r\n\t\ttip.style.visibility = 'visible';\r\n\t\tshow(tip);\r\n\t}\r\n}\r\n","import {Theme} from \"../Widget/Theme.js\";\r\nimport {insertStyleSheet} from \"../Lang/Dom.js\";\r\nimport {bindNodeEvents} from \"../Lang/Event.js\";\r\n\r\nconst NS = Theme.Namespace + 'input-ellipsis';\r\n\r\nexport class ACInputEllipsis {\r\n\tstatic init(input, params = {}){\r\n\t\tinsertStyleSheet(`.${NS}[readonly] {text-overflow: ellipsis;white-space: nowrap;overflow: hidden;}`, NS);\r\n\t\tinput.tabIndex = 0;\r\n\t\tbindNodeEvents(input, ['click', 'focus'], () => {\r\n\t\t\tinput.classList.remove(NS);\r\n\t\t\tinput.removeAttribute('readonly');\r\n\t\t\tinput.title = '';\r\n\t\t});\r\n\t\tbindNodeEvents(input, 'blur', () => {\r\n\t\t\tinput.title = input.value;\r\n\t\t\tinput.classList.add(NS);\r\n\t\t\tinput.setAttribute('readonly', 'readonly');\r\n\t\t}, null, true);\r\n\t}\r\n}\r\n","import {ACAsync} from \"./ACAsync.js\";\r\nimport {ACDialog} from \"./ACDialog.js\";\r\nimport {ACConfirm} from \"./ACConfirm.js\";\r\nimport {ACTip} from \"./ACTip.js\";\r\nimport {ACCopy} from \"./ACCopy.js\";\r\nimport {ACToast} from \"./ACToast.js\";\r\nimport {objectPushByPath} from \"../Lang/Array.js\";\r\nimport {ACPreview} from \"./ACPreview.js\";\r\nimport {ACSelect} from \"./ACSelect.js\";\r\nimport {ACHighlight} from \"./ACHighlight.js\";\r\nimport {ACSelectAll} from \"./ACSelectAll.js\";\r\nimport {ACMultiSelectRelate} from \"./ACMultiSelectRelate.js\";\r\nimport {ACUploader} from \"./ACUploader.js\";\r\nimport {ACTextCounter} from \"./ACTextCounter.js\";\r\nimport {findAll} from \"../Lang/Dom.js\";\r\nimport {ACBatchFiller} from \"./ACBatchFiller.js\";\r\nimport {guid, isPromise} from \"../Lang/Util.js\";\r\nimport {ACUnSaveAlert} from \"./ACUnSaveAlert.js\";\r\nimport {ACDateRangeSelector} from \"./ACDateRangeSelector.js\";\r\nimport {ACInlineEditor} from \"./ACInlineEditor.js\";\r\nimport {ACHotKey} from \"./ACHotKey.js\";\r\nimport {ACColumnFiller} from \"./ACColumnFiller.js\";\r\nimport {ACViewCopy} from \"./ACViewCopy.js\";\r\nimport {ACInputEllipsis} from \"./ACInputEllipsis.js\";\r\n\r\nconst DEFAULT_ATTR_COM_FLAG = 'data-component'; //data-component=\"com1,com2\"\r\nconst COMPONENT_BIND_GUID_KEY = 'component-init-bind';\r\n\r\n/**\r\n * 组件映射配置\r\n * @type {Object}\r\n */\r\nlet AC_COMPONENT_NAME_MAPPING = {\r\n\tasync: ACAsync,\r\n\tbatchfiller: ACBatchFiller,\r\n\tcolumnfiller: ACColumnFiller,\r\n\tconfirm: ACConfirm,\r\n\tcopy: ACCopy,\r\n\tviewcopy: ACViewCopy,\r\n\tdaterangeselector: ACDateRangeSelector,\r\n\tdialog: ACDialog,\r\n\thighlight: ACHighlight,\r\n\thl: ACHighlight,\r\n\thotkey: ACHotKey,\r\n\tinlineeditor: ACInlineEditor,\r\n\tselectrelate: ACMultiSelectRelate,\r\n\tpreview: ACPreview,\r\n\tselect: ACSelect,\r\n\tselectall: ACSelectAll,\r\n\ttextcounter: ACTextCounter,\r\n\tinputellipsis: ACInputEllipsis,\r\n\ttip: ACTip,\r\n\ttoast: ACToast,\r\n\tunsavealert: ACUnSaveAlert,\r\n\tuploader: ACUploader,\r\n};\r\n\r\n/**\r\n * 从属性中解析出组件列表\r\n * @param {String} attr\r\n * @return {String[]}\r\n */\r\nconst parseComponents = function(attr){\r\n\tlet tmp = attr.split(',');\r\n\tlet cs = [];\r\n\ttmp.forEach(v => {\r\n\t\tv = v.trim();\r\n\t\tif(v){\r\n\t\t\tcs.push(v);\r\n\t\t}\r\n\t});\r\n\treturn cs;\r\n};\r\n\r\n/**\r\n * 从节点中解析出使用 data-coma-param1 为前缀的属性\r\n * 注意：data-coma-* 属性名不支持大写（HTML getAttribute仅支持小写），英文句号或破折号将会被解析成多级属性\r\n * 例1：data-coma-param1.param2=\"Hello\"，\r\n * 或 data-coma-param1-param2=\"Hello\" 将会被解析成参数：{param1: {param2: \"hello\"}}\r\n * @param {Node} node\r\n * @param {String} ComAlias\r\n * @return {*}\r\n */\r\nconst resolveDataParam = (node, ComAlias) => {\r\n\tlet param = {};\r\n\tArray.from(node.attributes).forEach(attr => {\r\n\t\tif(attr.name.indexOf('data-' + ComAlias.toLowerCase() + '-') >= 0){\r\n\t\t\tlet objKeyPath = attr.name.substring(('data-' + ComAlias.toLowerCase()).length + 1).replace(/-/g, '.');\r\n\t\t\tobjectPushByPath(objKeyPath, attr.value, param, '.');\r\n\t\t}\r\n\t})\r\n\treturn param;\r\n}\r\n\r\nlet BIND_LIST = {\r\n\t//node-bind-guid: [Com1, Com2]\r\n};\r\n\r\n/**\r\n * 绑定节点\r\n * @param {Node} container\r\n * @param attr_flag\r\n */\r\nconst bindNode = function(container = document, attr_flag = DEFAULT_ATTR_COM_FLAG){\r\n\tfindAll(`:not([${COMPONENT_BIND_GUID_KEY}])[${attr_flag}]`, container).forEach(node => {\r\n\t\tlet cs = parseComponents(node.getAttribute(attr_flag));\r\n\t\tlet activeStacks = [];\r\n\t\tlet init_count = 0;\r\n\t\tlet id = guid('component-bind');\r\n\t\tcs.forEach(componentAlias => {\r\n\t\t\tlet C = AC_COMPONENT_NAME_MAPPING[componentAlias];\r\n\t\t\tif(!C){\r\n\t\t\t\tconsole.error(`Component ${componentAlias} no found`);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tinit_count++;\r\n\t\t\tif(!BIND_LIST[id]){\r\n\t\t\t\tBIND_LIST[id] = [];\r\n\t\t\t}\r\n\t\t\tBIND_LIST[id].push(C);\r\n\t\t\tlet data = resolveDataParam(node, componentAlias);\r\n\t\t\tif(C.init){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tC.init(node, data);\r\n\t\t\t\t}catch(err){\r\n\t\t\t\t\tconsole.error(`Component ${componentAlias} initialize fail`, err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(C.active){\r\n\t\t\t\tactiveStacks.push((event) => {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tlet p = C.active(node, resolveDataParam(node, componentAlias), event); //点击时实时解析参数\r\n\t\t\t\t\t\tif(!isPromise(p)){\r\n\t\t\t\t\t\t\tthrow `Component ${componentAlias} active() method required <Promise> as return`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn p;\r\n\t\t\t\t\t}catch(err){\r\n\t\t\t\t\t\tconsole.error(`Component ${componentAlias} active fail`, err);\r\n\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\t//只有在有成功初始化情况才忽略下次初始化\r\n\t\tif(init_count !== 0){\r\n\t\t\tnode.setAttribute(COMPONENT_BIND_GUID_KEY, id);\r\n\t\t}\r\n\t\tif(activeStacks.length){\r\n\t\t\tbindActiveChain(node, activeStacks);\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/**\r\n * 可以转换成文本类型的输入类型\r\n * @type {string[]}\r\n */\r\nconst TEXT_TYPES = ['text', 'number', 'password', 'search', 'address', 'date', 'datetime', 'time', 'checkbox', 'radio'];\r\n\r\n/**\r\n * 是否为可输入元素\r\n * @param {HTMLFormElement} node\r\n * @return {boolean}\r\n */\r\nconst isInputAble = (node) => {\r\n\tif(node.disabled || node.readonly){\r\n\t\treturn false;\r\n\t}\r\n\treturn node.tagName === 'TEXTAREA' ||\r\n\t\t(node.tagName === 'INPUT' && (!node.type || TEXT_TYPES.includes(node.type.toLowerCase())));\r\n}\r\n\r\n/**\r\n * 绑定节点触发事件，不同节点触发行为定义不同\r\n * @param {HTMLElement} node\r\n * @param {Function[]} activeStacks 链式调用列表\r\n */\r\nconst bindActiveChain = (node, activeStacks) => {\r\n\tlet eventName;\r\n\tif(isInputAble(node)){\r\n\t\teventName = 'keyup';\r\n\t}else if(node.tagName === 'FORM'){\r\n\t\teventName = 'submit';\r\n\t}else{\r\n\t\teventName = 'click';\r\n\t}\r\n\tnode.addEventListener(eventName, event => {\r\n\t\tlet stacks = [...activeStacks];\r\n\t\tlet exe = () => {\r\n\t\t\tlet func = stacks.shift();\r\n\t\t\tif(func){\r\n\t\t\t\tfunc(event).then(exe, err => {\r\n\t\t\t\t\tconsole.info('ACComponent active chain breakdown', err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\texe();\r\n\t\t//部分组件运行在父容器上，这里不能阻止默认事件，会影响子节点事件\r\n\t\t// event.preventDefault();\r\n\t\t// return false;\r\n\t});\r\n}\r\n\r\nexport const ACComponent = {\r\n\t/**\r\n\t * 监听组件\r\n\t * @param {Node} container\r\n\t * @param {String} attr_flag 绑定属性格式，缺省为 data-component形式\r\n\t */\r\n\twatch: (container = document, attr_flag = DEFAULT_ATTR_COM_FLAG) => {\r\n\t\tlet m_tm = null;\r\n\t\tlet observer = new MutationObserver(() => {\r\n\t\t\tclearTimeout(m_tm);\r\n\t\t\tm_tm = setTimeout(function(){\r\n\t\t\t\tbindNode(container, attr_flag);\r\n\t\t\t}, 0);\r\n\t\t});\r\n\t\tobserver.observe(container, {childList: true, subtree: true});\r\n\t\tbindNode(container, attr_flag);\r\n\t},\r\n\r\n\t/**\r\n\t * 获取已经绑定的组件列表\r\n\t * @param node\r\n\t * @return {*[]|*}\r\n\t */\r\n\tgetBindComponents: (node) => {\r\n\t\tlet guid = node.getAttribute(COMPONENT_BIND_GUID_KEY);\r\n\t\tif(guid && BIND_LIST[guid]){\r\n\t\t\treturn BIND_LIST[guid];\r\n\t\t}\r\n\t\treturn [];\r\n\t},\r\n\r\n\t/**\r\n\t * 注册组件\r\n\t * @param {String} ComponentName\r\n\t * @param {Object} define\r\n\t * @param {Function} define.init 节点初始化函数\r\n\t * @param {Function} define.active 节点交互函数（交互行为包括：表单提交、链接点击、按钮点击、输入框回车提交等）\r\n\t */\r\n\tregister: (ComponentName, define) => {\r\n\t\tAC_COMPONENT_NAME_MAPPING[ComponentName] = define;\r\n\t},\r\n\r\n\t/**\r\n\t * 取消注册组件\r\n\t * @param {String} componentName\r\n\t */\r\n\tunRegister: (componentName) => {\r\n\t\tdelete (AC_COMPONENT_NAME_MAPPING[componentName]);\r\n\t}\r\n}\r\n"],"names":["NS","scaleFixCenter","COM_ID","STYLE_STR","CONTEXT_WINDOW","setState","Toast","Dialog","CLASS_PREFIX","showImgListPreview","showImgPreview"],"mappings":"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"}